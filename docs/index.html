<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"
          name="viewport">
    <title>Demo to Roomle Button</title>
    <link rel="stylesheet" href="style.css">
    <!-- <link rel="stylesheet" href="/css/roomle-button.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
</head>
<body>
<style>
    .exec-deeplink {
        cursor: pointer;
    }

    .rml-deeplink--row {
        display: block;
    }
</style>
<script>

    window.RoomleButtonSettings = {
        mode: 'button',
        container: '.container',
        selector: '.roomle-item',
        showOnlyTrigger: true,
        tracking: {
            enable: true,
            tenant: 9
        },
        translations: {
            ar: {
                heading: '*Im Raum ansehen*'
            }
        },
        //createNoButtons: false,
        css: {
            buttons: {
                'background-color': 'transparent'
            }
        },
        callback: {
            item: {
                ar: function () {
                    alert('AR');
                },
                vr: function () {
                    alert('VR');
                }
            },
            trigger: function () {
                //alert('trigger');
            }
        },
        web: {
            configuratorUrl: 'https://www.design-bestseller.de/usm-konfigurator.html?id=<[ID]>&type=<[TYPE]>',
            configuratorSameWindow: true
        }
    };
</script>
<div class="container">
    <div class="row">
        <div class="col-xs-2">
            <div class="roomle-item" data-rml-id="moroso:Byobu_BY0T32" data-rml-type="item">
                Item A
            </div>
        </div>
        <div class="col-xs-2">
            <div class="roomle-item" data-rml-id="8a708083560ca6cf01560d7c0c680604" data-rml-type="plan">
                Plan B
            </div>
        </div>
        <div class="col-xs-2">
            <div class="roomle-item" data-rml-id="usm:TVLowboard" data-rml-type="configurable-item">
                Configurable Item
            </div>
        </div>
        <div class="col-xs-2">
            <div class="roomle-item"
                 data-rml-id="usm:frame:5E02253410A8C40DCCAA2F48A7682FF8C54B6C1204357299D370DAFC8FFD199C"
                 data-rml-type="configuration">
                configuration
            </div>
        </div>
        <div class="col-xs-2">
            <div class="roomle-item" data-rml-id="8a7080835a17a313015a2239ded04087" data-rml-type="plan">
                Plan E
            </div>
        </div>
        <div class="col-xs-2">
            <div class="roomle-item"
                 data-rml-id="vizmotor_0:PAX_Wardrobe:C34C6996AD03E7CD3C2A41C1655683DD52C472A98596CCD2591790EF0A36BD73"
                 data-rml-type="configuration">
                Conf F
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col-xs-12">
            <p id="exec-deeplink-ar" class="exec-deeplink">Exec deeplink for AR</p>
            <p id="exec-deeplink-add" class="exec-deeplink">Exec deeplink for Add (not implemented on iOS right now)</p>
            <p id="exec-deeplink-configure" class="exec-deeplink">Exec deeplink for configure</p>
            <p id="exec-dispatch-click-trigger" class="exec-deeplink">Dispatch click for trigger</p>
            <p id="exec-deeplink-configure-callback">Exec deeplink for configure with callback</p>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <div class="button-container">
                Button container
            </div>
        </div>
    </div>
</div>


<script src="assets/js/roomle-button.min.js" id="rml-button-lib"></script>
<script>
    var execDeeplinkAr = document.getElementById('exec-deeplink-ar');
    execDeeplinkAr.addEventListener('click', function () {
        RoomleButtonInstance.execDeeplink('moroso:Byobu_BY0T32', 'item', 'ar', true);
    });
    var execDeeplinkAdd = document.getElementById('exec-deeplink-add');
    execDeeplinkAdd.addEventListener('click', function () {
        RoomleButtonInstance.execDeeplink('moroso:Byobu_BY0T32', 'item', 'add', true);
    });
    var execDeeplinkConfigure = document.getElementById('exec-deeplink-configure');
    execDeeplinkConfigure.addEventListener('click', function () {
        RoomleButtonInstance.execDeeplink('moroso:Byobu_BY0T32', 'configurable-item', 'configure', true);
    });
    var execDeeplinkWithCallback = document.getElementById('exec-deeplink-configure-callback');
    execDeeplinkWithCallback.addEventListener('click', function () {
        RoomleButtonInstance.execDeeplink('moroso:Byobu_BY0T32', 'configurable-item', 'configure', false, null, 'http://m.roomle.xxxlutz.at/?configurationId=__CONFID__');
    });
    var execDeeplinkTrigger = document.getElementById('exec-dispatch-click-trigger');
    execDeeplinkTrigger.addEventListener('click', function (e) {
        RoomleButtonInstance.dispatchClick(e, 'moroso:Byobu_BY0T32', 'configurable-item', 'trigger', true);
    });

    RoomleButtonInstance.appendButtons(document.querySelector('.button-container'), 'vizmotor_5:Tivoli_2sitzer_2armteilen', 'configurable-item');
</script>
</body>
</html>
