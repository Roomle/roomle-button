{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/RoomleButton.ts","src/scripts/config/Environment.ts","src/scripts/config/Environments.ts","src/scripts/controllers/Controllers.ts","src/scripts/controllers/PopupController.ts","src/scripts/controllers/RoomleController.ts","src/scripts/lib/Controller.ts","src/scripts/lib/Service.ts","src/scripts/main.ts","src/scripts/services/ButtonsService.ts","src/scripts/services/ConsoleService.ts","src/scripts/services/DomBuilderService.ts","src/scripts/services/EventHandlerService.ts","src/scripts/services/IconsService.ts","src/scripts/services/ImagesService.ts","src/scripts/services/MobileDetectService.ts","src/scripts/services/MobileRedirectService.ts","src/scripts/services/PolyfillService.ts","src/scripts/services/RequestService.ts","src/scripts/services/RoomleTypeService.ts","src/scripts/services/SettingsService.ts","src/scripts/utils/EnumEx.ts"],"names":[],"mappings":"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","file":"roomle-button.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import * as controllers from './controllers/Controllers';\nimport {SettingsService, RoomleButtonSettings} from './services/SettingsService';\nimport {EventHandlerService} from './services/EventHandlerService';\nimport {BUTTON_TYPE, ButtonsService} from './services/ButtonsService';\nimport {DomBuilderService} from './services/DomBuilderService';\nimport {PolyfillService} from './services/PolyfillService';\nimport {MobileRedirectService} from './services/MobileRedirectService';\nimport {MobileDetectService} from './services/MobileDetectService';\nimport {RoomleTypeService} from './services/RoomleTypeService';\nimport {ImagesService} from './services/ImagesService';\n\nexport class RoomleButton {\n    private static _instance: RoomleButton;\n\n    private domBuilder: DomBuilderService = <DomBuilderService>DomBuilderService.inject();\n    private imagesService: ImagesService = <ImagesService>ImagesService.inject();\n    private eventHandler: EventHandlerService = <EventHandlerService>EventHandlerService.inject();\n    private polyfillService: PolyfillService = <PolyfillService>PolyfillService.inject();\n    private mobileRedirectService: MobileRedirectService = <MobileRedirectService>MobileRedirectService.inject();\n    private mobileDetectService: MobileDetectService = <MobileDetectService>MobileDetectService.inject();\n\n    constructor(settings: RoomleButtonSettings) {\n        SettingsService.init(settings);\n        this.imagesService.preloadImages();\n        this._addCSS();\n        this._boot();\n    };\n\n    private _addCSS() {\n        const scriptId = 'rml-button-lib';\n\n        const script = <HTMLElement>document.getElementById(scriptId);\n        if (!script) {\n            return;\n        }\n        let head = document.head || document.getElementsByTagName('head')[0];\n        const href = script.getAttribute('src');\n        let styleHref = href.replace(/\\.js/g, '.css');\n        if (styleHref && styleHref.length > 1 && styleHref[0] === 'j' && styleHref[1] === 's') {\n            styleHref = styleHref.substr(2);\n            styleHref = 'css' + styleHref;\n        } else {\n            styleHref = styleHref.replace(/\\/js\\//g, '/css/');\n        }\n\n        let style = document.createElement('link');\n\n        //style.async = true;\n        style.href = styleHref;\n        style.rel = 'stylesheet';\n        style.media = 'all';\n        style.setAttribute('integrity', '###sricheck###');\n        head.appendChild(style);\n    }\n\n    private _setupClickListener(container: HTMLElement) {\n        container.addEventListener('click', (e) => this.eventHandler.handle(e));\n    }\n\n    private _boot() {\n        let controllerClasses: any = controllers;\n        let element = document.body;\n        this.domBuilder.addCSS();\n        if (SettingsService.settings.container) {\n            const elementList = document.body.querySelectorAll(SettingsService.settings.container);\n            if (elementList.length) {\n                element = <HTMLElement>elementList[0];\n            }\n        }\n\n        if (SettingsService.settings.createPopUp) {\n            this.domBuilder.buildPopUp(element);\n        }\n\n        this._setupClickListener(element);\n        const instanceSelector = SettingsService.settings.selector; // ? this.settings.selector : '[data-roomle-id]';\n        for (let key in controllerClasses) {\n            if (controllerClasses.hasOwnProperty(key)) {\n                if (key === 'RoomleController' && SettingsService.settings.mode === 'lib') {\n                    continue;\n                }\n                let controllerClass: any = controllerClasses[key];\n                if (typeof controllerClass.parse === 'function') {\n                    controllerClass.parse(instanceSelector, element);\n                }\n            }\n        }\n    }\n\n    public openCustomPopUp(e: Event, content: HTMLElement, parent?: HTMLElement) {\n        this.domBuilder.buildCustomPopUp(content, parent);\n        setTimeout(() => {\n            this.eventHandler.dispatchOpenPopUp(e)\n        }, 1);\n    }\n\n    public dispatchClick(e: Event, type: string, id: string, buttonType: string, highlight: string = null) {\n        this.eventHandler.dispatch(e, type, id, ButtonsService.convertButtonTypeToEnum(buttonType), highlight);\n    }\n\n    public getDomLinkFor(action: string, id: string, type: string, isHighlighted: boolean = false): Element {\n        const roomleType = RoomleTypeService.convertTypeToEnum(type);\n        const buttonType = ButtonsService.convertButtonTypeToEnum(action);\n        const link = this.mobileDetectService.generateLink(id, roomleType, buttonType);\n        const buildOptions = {isHighlighted: isHighlighted, buildAnyway: true};\n        return this.domBuilder.buildLink(link, buildOptions);\n    }\n\n    public appendButtons(container: Element, id: string, type: string) {\n        let links = this.getLinks(id, type);\n        links.forEach((link) => {\n            container.appendChild(this.domBuilder.buildLink(link));\n        });\n    }\n\n    public execDeeplink(id: string, type: string, clickedButton: string, newWindow: boolean = false, callback: Function = null) {\n        const roomleType = RoomleTypeService.convertTypeToEnum(type);\n        const buttonType = ButtonsService.convertButtonTypeToEnum(clickedButton);\n        const link = this.mobileDetectService.generateLink(id, roomleType, buttonType);\n        if (link.alternate) {\n            let event = document.createEvent('Event');\n            event.initEvent('execDeeplink', true, true);\n            this.eventHandler.dispatch(event, type, id, BUTTON_TYPE.TRIGGER, clickedButton, newWindow);\n        } else {\n            this.mobileRedirectService.redirect(link, newWindow, callback);\n        }\n    }\n\n    public getLinks(id: string, type: string, callbackUrl: string = null) {\n        return this.mobileDetectService.getLinks(id, RoomleTypeService.convertTypeToEnum(type), callbackUrl);\n    }\n\n    public static getInstance(settings: RoomleButtonSettings): RoomleButton {\n        if (!(this._instance instanceof RoomleButton)) {\n            this._instance = new this(settings);\n        }\n\n        if (!(<any>window).RoomleButtonInstance) {\n            const rmlObject = Object.getPrototypeOf(this._instance);\n            let exposedObject: {[key: string]: ()=>any} = {};\n            for (const key in rmlObject) {\n                if (key && rmlObject.hasOwnProperty(key) && key[0] !== '_') {\n                    exposedObject[key] = rmlObject[key];\n                }\n            }\n            (<any>window).RoomleButtonInstance = exposedObject;\n            SettingsService.settings.callback.booted();\n        }\n        return this._instance;\n    }\n\n}\n","import {Environments} from './Environments';\n\nexport class Environment {\n\n    static envIndicator = '###development###';\n\n    static settings() {\n        let settings = {\n            rapi: 'api.test.roomle.com/v2',\n            protocol: 'https://',\n            rmlco: '',\n            shortlink(type:string, id:string, button:string, shortId:string = null) {\n                if (Environment.env !== Environments.TEST && !!shortId) {\n                    return 'http://rml.co/' + shortId + '/' + button;\n                }\n                return window.location.host + '/deeplink?id=' + id + '&type=' + type + '&button=' + button;\n            }\n        };\n\n        if (Environment.env !== Environments.TEST) {\n            settings.rapi = 'api.roomle.com/v2';\n        }\n\n        settings.rmlco = settings.protocol + settings.rapi + '/shortIds';\n        return settings;\n    }\n\n    static get env():string {\n        return this.envIndicator.substring(3, this.envIndicator.length - 3);\n    }\n\n    static get config() {\n        return Environment.settings();\n    }\n}\n","export class Environments {\n    static PRODUCTION = 'production';\n    static TEST = 'test';\n}\n","export { RoomleController } from './RoomleController';\nexport { PopupController } from './PopupController';\n\n","import { Controller } from '../lib/Controller';\nimport {SettingsService} from '../services/SettingsService';\nimport {EventHandlerService, EVENT_TYPES} from '../services/EventHandlerService';\nimport {DomBuilderService} from '../services/DomBuilderService';\nimport {DeepLink} from '../services/MobileDetectService';\nimport {ButtonsService, BUTTON_TYPE} from '../services/ButtonsService';\nimport {ImagesService} from '../services/ImagesService';\n\nexport class PopupController extends Controller {\n    static selector:string = '[data-rml-deeplink-popup-container]';\n    private eventHandlerService:EventHandlerService = <EventHandlerService>EventHandlerService.inject();\n    private domBuilderService:DomBuilderService = <DomBuilderService>DomBuilderService.inject();\n    private imagesService:ImagesService = <ImagesService>ImagesService.inject();\n\n    private id:string;\n    private type:string;\n\n    private closePopup() {\n        let classList = this.$('.rml-popup')[0].classList;\n        if (classList.contains('rml-md-show')) {\n            classList.remove('rml-md-show');\n            const back = this.$('.rml-popup--back')[0];\n            back.classList.remove('rml-popup--back__show');\n            this.unfreezeScrolling();\n            if (typeof SettingsService.settings.callback.popupClose === 'function') {\n                const id = (this.id) ? this.id : 'CUSTOM';\n                const type = (this.type) ? this.type : 'CUSTOM';\n                SettingsService.settings.callback.popupClose(id, type);\n            }\n        } else {\n            classList.add('rml-md-show');\n            this.freezeScrolling();\n        }\n\n    }\n\n    constructor(element:HTMLElement) {\n        super(element);\n        if (!SettingsService.settings.createPopUp) {\n            return;\n        }\n        this.eventHandlerService.subscribe(EVENT_TYPES.TRIGGER, this.openPopup.bind(this));\n        this.eventHandlerService.subscribe(EVENT_TYPES.POP_UP_OPEN, this.simpleOpen.bind(this));\n        this.eventHandlerService.subscribe(EVENT_TYPES.POP_UP_CLOSE, this.closePopup.bind(this));\n        this.$('.rml-md-overlay')[0].addEventListener('click', ()=> this.closePopup());\n        this.$('.rml-popup--close')[0].addEventListener('click', ()=> this.closePopup());\n        if (SettingsService.settings.showBackButton) {\n            this.$('.rml-popup--back')[0].addEventListener('click', ()=> this.back());\n        } else {\n            this.$('.rml-popup--back')[0].classList.add('rml-popup--back__hide');\n        }\n        //this.roomleButtonService.addRoomleButton(this.triggerClicked.bind(this));\n    }\n\n    private back() {\n        let linksContainer = this.$('.rml-deeplink--slider')[0];\n        linksContainer.classList.remove('rml-deeplink__hint');\n        let hintContainer = this.$('.rml-deeplink__hint-container')[0];\n        hintContainer.innerHTML = '';\n        const back = this.$('.rml-popup--back')[0];\n        back.classList.remove('rml-popup--back__show');\n        const hintText = this.$('.rml-deeplink--hint');\n        if (hintText.length) {\n            const text = hintText[0];\n            text.classList.remove('rml-hint__show');\n        }\n    }\n\n    private simpleOpen(e:Event, id:string, type:string):Element {\n        e.preventDefault();\n        this.id = id;\n        this.type = type;\n        var popUp = document.querySelectorAll('[' + SettingsService.settings.popUpSelector + ']');\n        let modal = popUp[0].querySelectorAll('.rml-md-modal');\n        if (modal[0].classList.contains('rml-md-show')) {\n            modal[0].classList.remove('rml-md-show');\n        } else {\n            modal[0].classList.add('rml-md-show');\n        }\n        this.freezeScrolling();\n        if (typeof SettingsService.settings.callback.popupOpen === 'function') {\n            SettingsService.settings.callback.popupOpen((id) ? id : 'CUSTOM', (type) ? type : 'CUSTOM');\n        }\n\n        return modal[0];\n    }\n\n    public openPopup(e:Event, id:string, type:string, links:Array<DeepLink>, highlight:string) {\n        const modal = this.simpleOpen(e, id, type);\n        let container = modal.querySelectorAll('.rml-generated-content');\n        container[0].innerHTML = '';\n        let linksContainer = document.createElement('div');\n        linksContainer.classList.add('rml-deeplink--slider');\n        linksContainer.classList.add('rml-deeplink--links');\n\n        let slide = document.createElement('div');\n        slide.classList.add('rml-deeplink--slide');\n        slide.classList.add('rml-deeplink--overview');\n        let alternate = document.createElement('div');\n        alternate.classList.add('rml-deeplink--slide');\n        alternate.classList.add('rml-deeplink--alternate');\n        links.forEach((link)=> {\n            const isHighlighted = link.type === highlight;\n            const linkDom = this.domBuilderService.buildLink(link, {\n                isHighlighted: isHighlighted,\n                slideMode: true,\n                clickedHint: ()=> {\n                    alternate.innerHTML = '';\n                    const hintContainer = document.createElement('div');\n                    hintContainer.classList.add('rml-deeplink__hint-container');\n                    const imgContainer = document.createElement('div');\n                    const dom = document.createElement('div');\n                    imgContainer.classList.add('rml-deeplink__hint-img');\n                    dom.classList.add('rml-deeplink__hint-link');\n                    const img = document.createElement('img');\n                    const imgUrl = this.imagesService.images[link.alternate];\n                    img.setAttribute('src', imgUrl);\n                    imgContainer.appendChild(img);\n                    hintContainer.appendChild(imgContainer);\n                    const back = document.querySelector('.rml-popup--back');\n                    if (SettingsService.settings.showBackButton) {\n                        back.classList.add('rml-popup--back__show');\n                    }\n                    const domLink = <Element>linkDom.cloneNode(true);\n                    dom.appendChild(domLink);\n                    this.domBuilderService.addShortlink(dom, link.roomleType, link.type, link.id);\n                    hintContainer.appendChild(dom);\n                    alternate.appendChild(hintContainer);\n                    if (linksContainer.classList.contains('rml-deeplink__hint')) {\n                        linksContainer.classList.remove('rml-deeplink__hint');\n                    } else {\n                        linksContainer.classList.add('rml-deeplink__hint');\n                    }\n                    const hint = dom.querySelector('.rml-deeplink--hint');\n                    this.domBuilderService.addShortlink(dom, link.roomleType, link.type, link.id);\n                    hint.classList.add('rml-hint__show');\n                    const newlinkDom = alternate.querySelector('.rml-deeplink--row');\n                    newlinkDom.addEventListener('click', (e:Event)=> {\n                        e.preventDefault();\n                        const input = <HTMLInputElement>dom.querySelector('input');\n                        input.select();\n                        return false;\n                    });\n                    if (typeof SettingsService.settings.callback.clickedHint === 'function') {\n                        SettingsService.settings.callback.clickedHint(link.id, link.roomleType, link.type);\n                    }\n                }\n            });\n            if (!linkDom) {\n                return;\n            }\n            slide.appendChild(linkDom);\n        });\n\n        linksContainer.appendChild(slide);\n        linksContainer.appendChild(alternate);\n        container[0].appendChild(linksContainer);\n    }\n\n    private freezeScrolling() {\n        let html = <HTMLElement>document.querySelector('html');\n        let body = document.body;\n        if (html.style.position !== 'fixed') {\n            const top = html.scrollTop ? html.scrollTop : body.scrollTop;\n            if (window.innerWidth > html.offsetWidth) {\n                html.style.overflowY = 'scroll';\n            }\n            html.style.width = '100%';\n            html.style.height = '100%';\n            html.style.position = 'fixed';\n            html.style.top = (-top) + 'px';\n        }\n    }\n\n    private unfreezeScrolling() {\n        let html = <HTMLElement>document.querySelector('html');\n        let body = document.body;\n        if (html.style.position === 'fixed') {\n            html.style.position = 'static';\n            const scrollTopValue = -parseInt(html.style.top, 10);\n            html.scrollTop = scrollTopValue;\n            body.scrollTop = scrollTopValue;\n            html.style.position = '';\n            html.style.width = '';\n            html.style.height = '';\n            html.style.top = '';\n            html.style.overflowY = '';\n        }\n    }\n}\n\n\n","import { Controller } from '../lib/Controller';\nimport { DomBuilderService } from '../services/DomBuilderService';\nimport { EventHandlerService } from '../services/EventHandlerService';\nimport {ROOMLE_TYPE,RoomleTypeService} from '../services/RoomleTypeService';\nimport {SettingsService} from '../services/SettingsService';\n\nexport interface IRoomleType {\n    item: ROOMLE_TYPE,\n    configuration: ROOMLE_TYPE,\n    plan: ROOMLE_TYPE,\n}\n\nexport class RoomleController extends Controller {\n\n    private id:string = null;\n    private type:ROOMLE_TYPE = null;\n    private template:string;\n\n    private domBuilder = <DomBuilderService>DomBuilderService.inject();\n\n    private addButtons(type:ROOMLE_TYPE) {\n        if (SettingsService.settings.createNoButtons) {\n            return;\n        }\n        let item = this.$();\n        if (!item) {\n            return;\n        }\n        let buttons = this.domBuilder.getButtons(type);\n        item.appendChild(buttons);\n    }\n\n    constructor(element:Element) {\n        super(element);\n        if (element) {\n            const idSelector = SettingsService.settings.dataSelector.id;\n            const typeSelector = SettingsService.settings.dataSelector.type;\n            this.id = element.getAttribute(idSelector);\n            this.type = RoomleTypeService.convertTypeToEnum(element.getAttribute(typeSelector));\n            if (this.type !== null && this.id) {\n                this.addButtons(this.type);\n            }\n        }\n    }\n\n}\n","/**\n * Generic controller class to entcapsulate the parsing\n * and other generic stuff\n *\n * @export\n * @class Controller\n */\nexport class Controller {\n\n    /**\n     * Selector which will be overwritten from the\n     * other Controllers so the parse function\n     * can directly query according to that selector.\n     *\n     * @static\n     * @type {string}\n     */\n    static selector:string;\n\n    /**\n     * Instances of the Controller\n     *\n     * @static\n     * @type {Array<Controller>}\n     */\n    static _instances:Array<Controller> = [];\n\n    /**\n     * HTML attribute to mark elements which are already parsed\n     *\n     * @static\n     */\n    static PARSE_ID_ATTRIBUTE = 'data-parse-id';\n\n    /**\n     * Element where the instance is applied\n     *\n     * @private\n     * @type {Element}\n     */\n    private _element:Element;\n\n    /**\n     * Access element or query by selector\n     */\n    $():HTMLElement;\n    $(selector:string):NodeListOf<HTMLElement>;\n    $(selector?:string):HTMLElement | NodeListOf<HTMLElement> {\n        if (!(this._element instanceof Element)) {\n            throw new Error('This controller has no element!');\n        }\n        return selector ? <NodeListOf<HTMLElement>>this._element.querySelectorAll(selector) : <HTMLElement>this._element;\n    }\n\n\n    /**\n     * Creates an instance of a Controller.\n     *\n     * @param {Element} root The element where the controller has been applied\n     */\n    constructor(element:Element) {\n        this._element = element;\n    }\n\n    getControllersByClass(controllerClass:Function):Array<Controller> {\n        const instances:Array<Controller> = Controller._instances;\n        const result:Array<Controller> = [];\n        for (let i = 0, max = instances.length; i < max; i++) {\n            let instance = instances[i];\n            if (instance instanceof controllerClass) {\n                result.push(instance);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Hook for running code before the controller is instantiated\n     *\n     * @static\n     * @param {NodeListOf<Element>} elements List of elements where the controller will be applied\n     */\n    static beforeInstantiating(elements:NodeListOf<Element>):void {\n    }\n\n    /**\n     * Hook for running code after the controller has been instantiated.\n     *\n     * @static\n     * @param {NodeListOf<Element>} elements List of elements where the controller has been applied\n     * @param {Array<Controller>} instances List of controller instances created\n     */\n    static afterInstantiating(elements:NodeListOf<Element>, instances:Array<Controller>):void {\n    }\n\n    /**\n     * Look for elements with a specific selector and creates an instance for\n     * every element.\n     *\n     * @static\n     * @param {string} selector Dom selector\n     * @param {Element} [root=document.body] Starting element for parsing\n     */\n    static parse(selector?:string, root:Element = document.body):void {\n        if (typeof this.selector === 'string' && this.selector.length) {\n            selector = this.selector;\n        } else if (!selector) {\n            return;\n        }\n        const elements:NodeListOf<Element> = root.querySelectorAll(selector);\n        this.beforeInstantiating(elements);\n\n        for (let i = 0; i < elements.length; i++) {\n            let element:Element = elements[i];\n            let className = /^function\\s+([\\w\\$]+)\\s*\\(/.exec(this.toString())[1];\n            className = className.toLocaleLowerCase();\n            if (element.getAttribute(Controller.PARSE_ID_ATTRIBUTE + '-' + className)) {\n                continue;\n            }\n            element.setAttribute(Controller.PARSE_ID_ATTRIBUTE + '-' + className, Math.floor(Math.random() * 10 + 1) * Date.now() + '');\n            Controller._instances.push(new this(element));\n        }\n\n        this.afterInstantiating(elements, Controller._instances);\n    }\n}\n","/**\n * Simple Singelton Service implementation\n * which will be extended by the other Services like\n * - DataSerivce\n * - TemplateService\n * - ...\n *\n * @export\n * @class Service\n */\nexport class Service {\n\n    /**\n     * Instance of the Service as singleton\n     *\n     * @static\n     * @type {Service}\n     */\n    private static _instance: Service;\n\n    /**\n     * Returns the current instance or creates a new\n     * one if there isn't already an instance available.\n     *\n     * @static\n     * @returns {Service} Instance of the current Service\n     */\n    static getInstance(): Service {\n        if (!(this._instance instanceof Service)) {\n            this._instance = new this();\n        }\n        return this._instance;\n    }\n\n    /**\n     * Naming Wrapper for the getInstance() function\n     * because inject sounds cooler.\n     *\n     * @static\n     * @returns {Service} Instance of the current Service\n     */\n    static inject(): Service {\n        return this.getInstance();\n    }\n}\n","import {MobileDetectService} from './services/MobileDetectService';\nimport {RoomleButton} from './RoomleButton';\nimport {RoomleButtonSettings} from './services/SettingsService';\n\nconst mobileDetect:MobileDetectService = <MobileDetectService>MobileDetectService.inject();\nmobileDetect.isIOS();\nif (!(<any>window).Promise) {\n\n    const scriptId = 'rml-button-lib';\n    const script = <HTMLElement>document.getElementById(scriptId);\n    const href = script.getAttribute('src');\n    const element = document.createElement('script');\n    const url = href.slice(0, href.lastIndexOf('/'));\n\n    element.onload = ()=> RoomleButton.getInstance((<any>window).RoomleButtonSettings);\n    element.onerror = (error)=>RoomleButton.getInstance((<any>window).RoomleButtonSettings);\n    element.async = true;\n    element.src = url + '/es6-promise.min.js';\n    element.setAttribute('type', 'text/javascript');\n    document.body.appendChild(element);\n} else {\n    RoomleButton.getInstance((<any>window).RoomleButtonSettings);\n}\n","import {Service} from '../lib/Service';\nimport {EnumEx} from '../utils/EnumEx';\n\nexport enum BUTTON_TYPE {\n    TRIGGER,\n    ADD,\n    VISUALIZE,\n    CONFIGURE,\n    AR,\n    MARK,\n    START_NOW,\n    VR\n}\n\nexport class ButtonsService extends Service {\n    public availableButtons:Array<BUTTON_TYPE>;\n\n    static convertButtonTypeToEnum(buttonType:string):BUTTON_TYPE {\n\n        if (buttonType === 'trigger') {\n            return BUTTON_TYPE.TRIGGER;\n        }\n\n        if (buttonType === 'add') {\n            return BUTTON_TYPE.ADD;\n        }\n\n        if (buttonType === 'ar') {\n            return BUTTON_TYPE.AR;\n        }\n\n        if (buttonType === 'configure') {\n            return BUTTON_TYPE.CONFIGURE;\n        }\n\n        if (buttonType === 'mark') {\n            return BUTTON_TYPE.MARK;\n        }\n\n        if (buttonType === 'visualize') {\n            return BUTTON_TYPE.VISUALIZE;\n        }\n\n        if (buttonType === 'vr') {\n            return BUTTON_TYPE.VR;\n        }\n\n        if (buttonType === 'start_now') {\n            return BUTTON_TYPE.START_NOW;\n        }\n\n    }\n\n    // USED TO DEFINE HOOKS FOR OUTSIDE TS WORLD. AR IS NICER THAN \"0\"\n    static convertButtonType(buttonType:BUTTON_TYPE):string {\n        if (buttonType === BUTTON_TYPE.TRIGGER) {\n            return 'trigger';\n        }\n\n        if (buttonType === BUTTON_TYPE.ADD) {\n            return 'add';\n        }\n\n        if (buttonType === BUTTON_TYPE.AR) {\n            return 'ar';\n        }\n\n        if (buttonType === BUTTON_TYPE.CONFIGURE) {\n            return 'configure';\n        }\n\n        if (buttonType === BUTTON_TYPE.MARK) {\n            return 'mark';\n        }\n\n        if (buttonType === BUTTON_TYPE.VISUALIZE) {\n            return 'visualize';\n        }\n\n        if (buttonType === BUTTON_TYPE.VR) {\n            return 'vr';\n        }\n\n        if (buttonType === BUTTON_TYPE.START_NOW) {\n            return 'start_now';\n        }\n    }\n\n    constructor() {\n        super();\n        this.availableButtons = EnumEx.getValues(BUTTON_TYPE);\n    }\n}\n","import {Service} from '../lib/Service';\n\nexport class ConsoleService extends Service {\n    static log(...args:Array<any>) {\n        console.log.apply(console, args);\n    }\n\n    static warn(...args:Array<any>) {\n        console.warn.apply(console, args);\n    }\n\n    static error(...args:Array<any>) {\n        console.error.apply(console, args);\n    }\n\n}\n","import {Service} from '../lib/Service';\nimport { MobileDetectService } from './MobileDetectService';\nimport {SettingsService} from './SettingsService';\nimport {BUTTON_TYPE, ButtonsService} from './ButtonsService';\nimport {ROOMLE_TYPE,RoomleTypeService} from './RoomleTypeService';\nimport {EventHandlerService} from './EventHandlerService';\nimport {IconsService} from './IconsService';\nimport {ConsoleService} from './ConsoleService';\nimport {DeepLink} from './MobileDetectService';\nimport {MobileRedirectService} from './MobileRedirectService';\nimport {PopupController} from '../controllers/PopupController';\nimport {RequestService} from '../services/RequestService';\nimport {Environment} from '../config/Environment';\n\nexport interface IDomBuilderCacheButton {\n    type: BUTTON_TYPE,\n    element: Node\n}\n\nexport interface buildLinkOptions {\n    isHighlighted?:boolean,\n    buildAnyway?:boolean,\n    slideMode?:boolean,\n    clickedHint?:Function\n}\n\nexport interface IDomBuilderCacheElement {\n    fragment: DocumentFragment,\n    buttons: Array<IDomBuilderCacheButton>\n}\n\nexport interface IDomBuilderButtons {\n    html: Node,\n    elements: Array<IDomBuilderCacheButton>\n}\n\nexport class DomBuilderService extends Service {\n\n    private mobileDetect:MobileDetectService = <MobileDetectService>MobileDetectService.inject();\n    private buttonsService:ButtonsService = <ButtonsService>ButtonsService.inject();\n    private iconsService:IconsService = <IconsService>IconsService.inject();\n    private mobileRedirectService:MobileRedirectService = <MobileRedirectService>MobileRedirectService.inject();\n    private requestService:RequestService = <RequestService>RequestService.inject();\n\n    private elementCache:{[key:number]: DocumentFragment} = {};\n    private buttonsCache:{[key:string]: DocumentFragment} = {};\n    private shortLinkCache:{[key:string]: string} = {};\n\n    private waitingForShortLink:boolean = false;\n\n    private createCSS(css:{[key:string]:string}) {\n        let string = '';\n        for (let property in css) {\n            if (css.hasOwnProperty(property)) {\n                string += property + ':' + css[property] + ';';\n            }\n        }\n        return string;\n    }\n\n    public addCSS() {\n        if (SettingsService.settings.createNoButtons) {\n            return;\n        }\n        let buttonsCSS = this.createCSS(SettingsService.settings.css.buttons);\n        buttonsCSS = '.' + SettingsService.settings.html.containerClass + '{' + buttonsCSS + 'visibility: hidden;}';\n\n        let itemCSS = this.createCSS(SettingsService.settings.css.item);\n        itemCSS = SettingsService.settings.selector + '{' + itemCSS + '}';\n\n        const inlineCss = '.rml-md-modal{visibility:hidden;}';\n\n        const css = buttonsCSS + itemCSS + inlineCss;\n\n        let head = document.head || document.getElementsByTagName('head')[0];\n        let style = document.createElement('style');\n\n        style.type = 'text/css';\n        style.appendChild(document.createTextNode(css));\n\n        head.appendChild(style);\n    }\n\n    private build(cacheKey:BUTTON_TYPE, content:string):HTMLElement {\n        if (!this.elementCache[cacheKey]) {\n            let fragment = document.createDocumentFragment();\n            let li = document.createElement(SettingsService.settings.html.buttonElement);\n            const buttonType:string = ButtonsService.convertButtonType(cacheKey);\n            li.setAttribute(SettingsService.settings.dataSelector.action, buttonType);\n            fragment.appendChild(li);\n            this.elementCache[cacheKey] = fragment;\n        }\n        return <HTMLElement>this.elementCache[cacheKey].cloneNode(true);\n    }\n\n    private buildTrigger() {\n        const cacheKey = BUTTON_TYPE.TRIGGER;\n        let buttonTypeStr = ButtonsService.convertButtonType(cacheKey);\n        if (!this.elementCache[cacheKey]) {\n            let fragment = document.createDocumentFragment();\n            let li = document.createElement(SettingsService.settings.html.buttonElement);\n            li.setAttribute(SettingsService.settings.dataSelector.action, buttonTypeStr);\n            const icon = this.iconsService.create(buttonTypeStr);\n            //let contentNode = document.createTextNode(content);\n            //li.appendChild(contentNode);\n            li.appendChild(icon);\n            fragment.appendChild(li);\n            this.elementCache[cacheKey] = fragment;\n        }\n        return <HTMLElement>this.elementCache[cacheKey].cloneNode(true);\n    }\n\n    private buildPopUpDom():Element {\n        const popUp = document.body.querySelectorAll('[data-rml-deeplink-popup-container]');\n        if (popUp && popUp.length > 0) {\n            return popUp[0];\n        }\n        let container = document.createElement('div');\n        container.setAttribute('data-rml-deeplink-popup-container', '');\n        container.classList.add('rml-btn');\n        let modal = document.createElement('div');\n        modal.classList.add('rml-md-modal');\n        modal.classList.add('rml-popup');\n        modal.classList.add('rml-md-effect-1');\n        modal.setAttribute('data-rml-deeplink-popup', '');\n        let content = document.createElement('div');\n        content.classList.add('rml-md-content');\n        let closer = document.createElement('div');\n        closer.classList.add('rml-popup--close');\n        let back = document.createElement('div');\n        back.classList.add('rml-popup--back');\n\n        let links = document.createElement('div');\n        links.classList.add('rml-generated-content');\n\n\n        let overlay = document.createElement('div');\n        overlay.classList.add('rml-md-overlay');\n\n        content.appendChild(closer);\n        content.appendChild(back);\n        content.appendChild(links);\n        modal.appendChild(content);\n\n        container.appendChild(modal);\n        container.appendChild(overlay);\n        return container;\n    }\n\n    public buildCustomPopUp(content:HTMLElement, parent:Element = document.body) {\n        const container = this.buildPopUpDom();\n        let contentDiv = container.querySelectorAll('.rml-md-content')[0];\n        let oldContent = contentDiv.querySelector('.rml-generated-content');\n        oldContent.innerHTML = '';\n        if (content) {\n            oldContent.appendChild(content);\n        }\n        const popUp = document.body.querySelectorAll('[data-rml-deeplink-popup-container]');\n        if (!popUp || popUp.length === 0) {\n            parent.appendChild(container);\n            const instanceSelector = SettingsService.settings.selector;\n            let element = document.body;\n            PopupController.parse(instanceSelector, element);\n        }\n    }\n\n    public buildPopUp(parent:Element = document.body) {\n        const container = this.buildPopUpDom();\n        parent.appendChild(container);\n    }\n\n    private buildAddToPlan() {\n        return this.build(BUTTON_TYPE.ADD, 'Plan');\n    }\n\n    private buildVisualize() {\n        return this.build(BUTTON_TYPE.VISUALIZE, 'Visualize');\n    }\n\n    private buildConfigure() {\n        return this.build(BUTTON_TYPE.CONFIGURE, 'Configure');\n    }\n\n    private buildAR() {\n        return this.build(BUTTON_TYPE.AR, 'Augmented Reality');\n    }\n\n    private buildMark() {\n        return this.build(BUTTON_TYPE.MARK, 'Mark');\n    }\n\n    private buildVR() {\n        return this.build(BUTTON_TYPE.VR, 'Virtual Reality');\n    }\n\n    private buildButtons(type:ROOMLE_TYPE):Node {\n        let cacheKey:string = '';\n        this.buttonsService.availableButtons.forEach((buttonType)=> {\n            if (this.mobileDetect.generateLink('', type, buttonType)) {\n                cacheKey += buttonType;\n            }\n        });\n        if (!this.buttonsCache[cacheKey]) {\n            let fragment = document.createDocumentFragment();\n            let div = document.createElement(SettingsService.settings.html.containerType);\n            div.classList.add(SettingsService.settings.html.containerClass);\n\n            let ul = document.createElement(SettingsService.settings.html.buttonsContainer);\n            let oneAdded = false;\n\n            this.buttonsService.availableButtons.forEach((buttonType)=> {\n\n                let link = this.mobileDetect.generateLink('', type, buttonType);\n                if (!link) {\n                    return;\n                }\n                if (SettingsService.settings.showOnlyTrigger) {\n                    oneAdded = true;\n                    return;\n                }\n                if (buttonType === BUTTON_TYPE.ADD) {\n                    let add = this.buildAddToPlan();\n                    ul.appendChild(add);\n                    oneAdded = true;\n                    return;\n                }\n                if (buttonType === BUTTON_TYPE.AR) {\n                    let ar = this.buildAR();\n                    ul.appendChild(ar);\n                    oneAdded = true;\n                    return;\n                }\n                if (buttonType === BUTTON_TYPE.CONFIGURE) {\n                    let conf = this.buildConfigure();\n                    ul.appendChild(conf);\n                    oneAdded = true;\n                    return;\n                }\n                if (buttonType === BUTTON_TYPE.MARK) {\n                    let mark = this.buildMark();\n                    ul.appendChild(mark);\n                    oneAdded = true;\n                    return;\n                }\n                if (buttonType === BUTTON_TYPE.VISUALIZE) {\n                    let vis = this.buildVisualize();\n                    ul.appendChild(vis);\n                    oneAdded = true;\n                    return;\n                }\n                if (buttonType === BUTTON_TYPE.VR) {\n                    let vr = this.buildVR();\n                    ul.appendChild(vr);\n                    oneAdded = true;\n                    return;\n                }\n                ConsoleService.error('ButtonType \"' + buttonType + '\" unknown');\n            });\n\n            if (oneAdded) {\n                const trigger = this.buildTrigger();\n                ul.insertBefore(trigger, ul.firstChild);\n                div.appendChild(ul);\n            }\n            fragment.appendChild(div);\n            this.buttonsCache[cacheKey] = fragment;\n        }\n        return this.buttonsCache[cacheKey].cloneNode(true);\n    }\n\n    public getButtons(type:ROOMLE_TYPE):Node {\n        return this.buildButtons(type);\n    }\n\n    private buildDeeplink(type:ROOMLE_TYPE, id:string) {\n        let shortenId = 1;\n        if (type === ROOMLE_TYPE.CONFIGURATION) {\n            shortenId = 3;\n        }\n        if (type === ROOMLE_TYPE.CONFIGURABLE_ITEM || type === ROOMLE_TYPE.ITEM) {\n            shortenId = 4\n        }\n        const token = 'anonymous';\n        const today = new Date();\n        const apiKey = 'roomle_portal_v2';\n        let tokenEncoded = today.toISOString() + ';' + token + ';' + apiKey;\n        tokenEncoded = '03-' + window.btoa(tokenEncoded);\n        return this.requestService.fetchJSON(Environment.config.rmlco, {\n            method: 'POST',\n            headers: {\n                'apiKey': 'roomle_portal_v2',\n                'currentTenant': 9,\n                'language': 'en',\n                'locale': 'en',\n                'token': tokenEncoded\n            },\n            body: {\n                shortId: {\n                    type: shortenId,\n                    referencedId: id\n                }\n            }\n\n        });\n    }\n\n    private isAvailableLink(linkType:string) {\n        if (ButtonsService.convertButtonTypeToEnum(linkType) === BUTTON_TYPE.MARK) {\n            return false;\n        }\n        if (ButtonsService.convertButtonTypeToEnum(linkType) === BUTTON_TYPE.START_NOW) {\n            return false;\n        }\n        return true;\n    }\n\n    private createDeeplinkInput(container:Element, link:string):HTMLInputElement {\n        container.innerHTML = '';\n        let input = document.createElement('input');\n        input.setAttribute('type', 'text');\n        input.setAttribute('value', link);\n        input.setAttribute('readonly', 'readonly');\n        input.addEventListener('click', (e:Event)=> {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            input.select();\n        });\n        container.appendChild(input);\n        return input;\n    }\n\n    private createCopySvg(container:Element, input:HTMLInputElement) {\n        if (typeof document.execCommand !== 'function') {\n            return;\n        }\n        const copySvg = this.iconsService.createCopy();\n        copySvg.classList.add('rml-clickable');\n        copySvg.classList.add('rml-fake-link');\n        copySvg.classList.add('rml-icons__copy');\n        copySvg.addEventListener('click', (/*event:Event*/)=> {\n            input.select();\n            try {\n                document.execCommand('copy');\n            } catch (e) {\n\n            }\n        });\n        container.appendChild(copySvg);\n\n    }\n\n    public addShortlink(element:Element, type:ROOMLE_TYPE, buttonType:string, id:string) {\n        let h3 = element.querySelector('.rml-deeplink--link');\n        let needsAppend = false;\n        if (!h3) {\n            h3 = document.createElement('span');\n            needsAppend = true;\n        }\n\n        h3.classList.add('rml-deeplink--link');\n        h3.classList.add('rml-deeplink--heading');\n        h3.classList.add('text--red');\n        if (needsAppend) {\n            element.appendChild(h3);\n        }\n        const cacheKey = type + ':' + id;\n        const cachedLink = this.shortLinkCache[cacheKey];\n        if (cachedLink) {\n            const inputCached = this.createDeeplinkInput(h3, cachedLink);\n            this.createCopySvg(h3, inputCached);\n        } else {\n            if (this.waitingForShortLink) {\n                return;\n            }\n            this.waitingForShortLink = true;\n            let spinner = document.createElement('span');\n            spinner.classList.add('rml-spinner');\n            spinner.classList.add('rml-spinner--white');\n            h3.appendChild(spinner);\n            this.buildDeeplink(type, id).then((shortLink:any)=> {\n                const link = Environment.config.shortlink(RoomleTypeService.convertRoomleType(type), id, buttonType, shortLink.shortId.shortId);\n                const input = this.createDeeplinkInput(h3, link);\n                this.createCopySvg(h3, input);\n                this.shortLinkCache[cacheKey] = link;\n                this.waitingForShortLink = false;\n            }, ()=> {\n                this.waitingForShortLink = false;\n                h3.removeChild(spinner);\n                h3.textContent = SettingsService.settings.translations.errors.deeplinkcreate;\n            });\n        }\n    }\n\n    public buildLink(link:DeepLink, options:buildLinkOptions = {}):Element {\n        const {\n            isHighlighted: isHighlighted = false,\n            buildAnyway:buildAnyway = false,\n            slideMode:slideMode = false,\n            clickedHint:clickedHint=function () {\n            }} = options;\n        if (!this.isAvailableLink(link.type) && !buildAnyway) {\n            return;\n        }\n        let container = document.createElement('a');\n        container.classList.add('rml-deeplink--row');\n        container.setAttribute('target', '_blank');\n        container.setAttribute('href', link.link);\n        let text = document.createElement('span');\n        text.classList.add('rml-deeplink--text');\n        text.classList.add('rml-deeplink--heading');\n        text.textContent = SettingsService.settings.translations[link.type].heading;\n        let icon = document.createElement('span');\n        icon.classList.add('rml-deeplink--icon');\n        const svgIcon = this.iconsService.create(link.type);\n        icon.appendChild(svgIcon); //= 'i';//SettingsService.settings.translations[link.type].icon;\n\n        container.appendChild(text);\n        container.appendChild(icon);\n\n        const callback = SettingsService.settings.callback.button[link.type];\n\n        if (callback) {\n            container.addEventListener('click', ()=> {\n                callback(link.id, RoomleTypeService.convertRoomleType(link.roomleType), link.type);\n            });\n        }\n\n\n        if (link.alternate) {\n            let alternate = document.createElement('span');\n            alternate.classList.add('rml-deeplink--hint');\n            alternate.textContent = SettingsService.settings.translations[link.type].hint[link.alternate];\n            container.appendChild(alternate);\n            container.addEventListener('click', (e:Event)=> {\n                e.preventDefault();\n                if (slideMode) {\n                    alternate.classList.add('rml-hint__slide');\n                } else {\n                    if (alternate.classList.contains('rml-hint__show')) {\n                        alternate.classList.remove('rml-hint__show');\n                    } else {\n                        this.addShortlink(alternate, link.roomleType, link.type, link.id);\n                        alternate.classList.add('rml-hint__show');\n                    }\n                }\n                clickedHint();\n                return false;\n            });\n            if (isHighlighted) {\n\n                setTimeout(()=> {\n                    alternate.classList.add('rml-hint__show');\n                    if (slideMode) {\n                        alternate.classList.add('rml-hint__slide');\n                        clickedHint();\n                    } else {\n                        this.addShortlink(alternate, link.roomleType, link.type, link.id);\n                    }\n                }, 1);\n            }\n        } else {\n            if (link.os !== 'desktop') {\n                this.mobileRedirectService.createDeeplinkFor(container, link.os);\n            }\n        }\n        return container;\n    }\n\n}\n\n","import {Service} from '../lib/Service';\nimport {ROOMLE_TYPE,RoomleTypeService} from './RoomleTypeService'\nimport {BUTTON_TYPE, ButtonsService} from './ButtonsService';\nimport {SettingsService} from './SettingsService';\nimport {MobileDetectService} from './MobileDetectService';\n\nexport enum EVENT_TYPES {\n    TRIGGER,\n    POP_UP_OPEN,\n    POP_UP_CLOSE\n}\n\nexport class EventHandlerService extends Service {\n\n    private mobileDetectService:MobileDetectService = <MobileDetectService>MobileDetectService.inject();\n\n    private triggerCallbacks:Array<Function> = [];\n    private openPopUpCallbacks:Array<Function> = [];\n\n    public subscribe(event:EVENT_TYPES, callback:Function) {\n        if (event === EVENT_TYPES.TRIGGER) {\n            this.triggerCallbacks.push(callback);\n        }\n        if (event === EVENT_TYPES.POP_UP_OPEN) {\n            this.openPopUpCallbacks.push(callback);\n        }\n    }\n\n    private findSelector(element:HTMLElement, selector:string, depth = 0, maxDepth = 20):Element {\n        if (maxDepth === depth) {\n            return null;\n        }\n        if (element.matches && element.matches(selector)) {// || element.matches('[' + selector + ']')) {\n            return element;\n        }\n        const parent = element.parentElement || <HTMLElement>element.parentNode;\n        if (!parent) {\n            return null;\n        }\n        return this.findSelector(parent, selector, depth + 1);\n    }\n\n    public dispatchOpenPopUp(e:Event) {\n        this.openPopUpCallbacks.forEach((callback)=> {\n            callback(e);\n        });\n    }\n\n    // DO NOT USE ENUM FOR TYPE, BECAUSE CALLBACKS ARE ON \"item\" and not \"0\"\n    public dispatch(e:Event, type:string, id:string, buttonType:BUTTON_TYPE, highlight:string = null, newWindow:boolean = false) {\n\n        const clickedButton = ButtonsService.convertButtonType(buttonType);\n\n        const links = this.mobileDetectService.getLinks(id, RoomleTypeService.convertTypeToEnum(type));\n        if (buttonType === BUTTON_TYPE.TRIGGER) {\n            const triggerKey = ButtonsService.convertButtonType(BUTTON_TYPE.TRIGGER);\n            const callbackTrigger:any = SettingsService.settings.callback[triggerKey];\n            if (typeof callbackTrigger === 'function') {\n                callbackTrigger(e, id, type, links, highlight, newWindow);\n            }\n            this.triggerCallbacks.forEach((callback)=> {\n                callback(e, id, type, links, highlight, newWindow);\n            });\n        }\n        const callbackForType:any = SettingsService.settings.callback[type];\n        if (callbackForType && callbackForType[clickedButton] && typeof callbackForType[clickedButton] === 'function') {\n            callbackForType[clickedButton](e, id, type, links, highlight, newWindow);\n        }\n    }\n\n    private getElement(parent:Element, selector:string):Element {\n        let elements = parent.querySelectorAll('[' + selector + ']');\n        if (!elements || elements.length === 0) {\n            if (parent.hasAttribute(selector)) {\n                return parent;\n            }\n        }\n        return elements[0];\n    }\n\n    public handle(e:Event) {\n\n        const target:HTMLElement = <HTMLElement>(e.target || e.srcElement);\n        const button = this.findSelector(target, '[' + SettingsService.settings.dataSelector.action + ']');\n        if (!button) {\n            return;\n        }\n        const buttonType = button.getAttribute(SettingsService.settings.dataSelector.action);\n        if (buttonType) {\n            const roomleElement = this.findSelector(target, SettingsService.settings.selector);\n            if (!roomleElement) {\n                return;\n            }\n            let typeElement = this.getElement(roomleElement, SettingsService.settings.dataSelector.type);\n\n            let type:string = null;\n            let id:string = null;\n            if (typeElement) {\n                type = typeElement.getAttribute(SettingsService.settings.dataSelector.type);\n            }\n            let idElement = this.getElement(roomleElement, SettingsService.settings.dataSelector.id);\n            if (idElement) {\n                id = idElement.getAttribute(SettingsService.settings.dataSelector.id);\n            }\n            this.dispatch(e, type, id, ButtonsService.convertButtonTypeToEnum(buttonType));\n        }\n    }\n}\n","import {Service} from '../lib/Service';\nimport {ButtonsService, BUTTON_TYPE} from './ButtonsService';\nexport class IconsService extends Service {\n\n    static SVG_NS:string = 'http://www.w3.org/2000/svg';\n\n    private getSvg(attributes?:{[key:string]:string}):Element {\n        attributes = attributes || {};\n        if (!attributes['width']) {\n            attributes['width'] = '64';\n        }\n\n        if (!attributes['height']) {\n            attributes['height'] = '64';\n        }\n\n        //attributes['xmlns'] = IconsService.SVG_NS;\n\n        let svg = document.createElementNS(IconsService.SVG_NS, 'svg');\n        for (let attribute in attributes) {\n            svg.setAttributeNS(null, attribute, attributes[attribute]);\n        }\n        return svg;\n    }\n\n    private getNode(name:string, attributes?:{[key:string]:string}):Element {\n        let element = document.createElementNS(IconsService.SVG_NS, name);\n        for (let attribute in attributes) {\n            element.setAttributeNS(null, attribute, attributes[attribute]);\n        }\n        return element;\n    }\n\n    private buildPlanIcon(isPlus:boolean):Element {\n        let svg = this.getSvg({viewBox: '0 0 50 50'});\n        let firstPath = this.getNode('path', {\n            d: 'M39.72,23.16,31,17.93h0l-.36-.22-5.13-3.07h0l-.36-.22a.33.33,0,0,0-.35,0l-.36.22h0l-13.87,8.3h0l-.36.22a.53.53,0,0,0,0,.85l.36.22h0l5.13,3.07h0l.36.22h0l8.38,5h0l.24.14.12.07a.33.33,0,0,0,.35,0L39.72,24a.53.53,0,0,0,0-.85Zm-5.09,2.4-3.34-2a.33.33,0,0,0-.35,0l-.36.22a.53.53,0,0,0,0,.85l2.8,1.68-8.43,5-7.49-4.48,2.89-1.73a.53.53,0,0,0,0-.85l-.18-.11h0l-.91-.54a.33.33,0,0,0-.35,0l-.36.22a.53.53,0,0,0,0,.85h0l-2.36,1.41L12,23.58l2.36-1.41,2.45,1.47a.34.34,0,0,0,.17,0,.34.34,0,0,0,.17,0l.36-.22a.53.53,0,0,0,0-.85l-1.91-1.14L25,15.82l4.24,2.54-7.85,4.7a.53.53,0,0,0,0,.85l.36.22a.33.33,0,0,0,.35,0l3.84-2.3,1.83,1.1a.34.34,0,0,0,.17,0,.34.34,0,0,0,.17,0l.36-.22a.53.53,0,0,0,0-.85l-1.3-.77,3.3-2,7.49,4.48Z',\n        });\n        /*let secondPath = this.getNode('path', {\n         d: 'M48,21.46L34.61,14.87h0l-0.55-.27-7.83-3.87h0l-0.55-.27a0.6,0.6,0,0,0-.53,0l-0.55.27h0L3.42,21.19h0l-0.55.27a0.6,0.6,0,0,0,0,1.08l0.55,0.27h0l7.83,3.87h0l0.55,0.27h0l12.8,6.32h0L25,33.45l0.18,0.09a0.61,0.61,0,0,0,.53,0L48,22.54A0.6,0.6,0,0,0,48,21.46Zm-7.77,3L35.09,22a0.6,0.6,0,0,0-.53,0L34,22.24a0.6,0.6,0,0,0,0,1.08l4.28,2.11L25.41,31.79,14,26.14,18.39,24a0.6,0.6,0,0,0,0-1.08l-0.28-.14h0l-1.39-.69a0.6,0.6,0,0,0-.53,0l-0.55.27a0.6,0.6,0,0,0,0,1.08h0l-3.6,1.78L5.59,22l3.6-1.78,3.74,1.85a0.61,0.61,0,0,0,.27.06,0.6,0.6,0,0,0,.27-0.06L14,21.8a0.6,0.6,0,0,0,0-1.08l-2.92-1.44,14.32-7.07,6.48,3.2-12,5.92a0.6,0.6,0,0,0,0,1.08l0.55,0.27a0.6,0.6,0,0,0,.53,0l5.86-2.89,2.8,1.38a0.61,0.61,0,0,0,.27.06,0.6,0.6,0,0,0,.27-0.06l0.55-.27a0.6,0.6,0,0,0,0-1.08l-2-1,5-2.49L45.24,22Z',\n         transform: 'translate(-2.53 -10.4)'\n         });*/\n        svg.appendChild(firstPath);\n        //svg.appendChild(secondPath);\n        if (isPlus) {\n            let thirdPath = this.getNode('path', {\n                d: 'M37.29,33.15v2.48h-1.4V33.15H33.42v-1.4h2.47V29.29h1.4v2.46h2.47v1.4Z',\n            });\n            svg.appendChild(thirdPath);\n        }\n        return svg;\n    }\n\n    private buildAdd():Element {\n        return this.buildPlanIcon(true);\n    }\n\n    private buildPlanNow():Element {\n        return this.buildPlanIcon(false);\n    }\n\n    private buildAr():Element {\n        let svg = this.getSvg({viewBox: '0 0 50 50'});\n        let firstPath = this.getNode('path', {\n            d: 'M24.41,33.24h0c-5.22-.08-9.5-2.78-14.31-9a.75.75,0,0,1-.16-.46c0-.63,4.46-6.73,10.67-8.84,8.34-2.84,15,3,19.19,8.38a.75.75,0,0,1,.16.46c0,.45-.63,1.34-1.87,2.63a.75.75,0,0,1-1.09-1,13.24,13.24,0,0,0,1.3-1.52c-4.4-5.57-9-8.3-13.69-8.15-6.69.23-11.71,6.36-13,8.06,5.49,7,9.55,8,12.8,8a.75.75,0,0,1,0,1.5Z',\n        });\n        let secondPath = this.getNode('path', {\n            d: 'M24.94,29.4a5.42,5.42,0,0,1-5.05-3.5,5.58,5.58,0,0,1,1.56-6.51,5.3,5.3,0,0,1,6.44-.3,5.66,5.66,0,0,1,2.34,6.39A.75.75,0,1,1,28.79,25a4.18,4.18,0,0,0-1.74-4.7,3.79,3.79,0,0,0-4.65.21,4.12,4.12,0,0,0-1.12,4.79,3.9,3.9,0,0,0,4,2.55.74.74,0,0,1,.81.69.75.75,0,0,1-.69.81Z',\n        });\n\n        let graph = this.getNode('g');\n        let thirdPath = this.getNode('path', {\n            d: 'M30.5,35.1,30,33.68H27.18L26.7,35.1H25.06l2.92-8h1.23l2.93,8Zm-1.87-5.65-1,2.92h2Z',\n        });\n\n        let fourthPath = this.getNode('path', {\n            d: 'M37.39,35.1l-1.57-3.2H34.69v3.2H33.13v-8h3.14a2.42,2.42,0,0,1,2.6,2.46,2.16,2.16,0,0,1-1.46,2.11L39.2,35.1Zm-1.22-6.62H34.69v2.12h1.48a1.06,1.06,0,1,0,0-2.12Z',\n        });\n\n        graph.appendChild(thirdPath);\n        graph.appendChild(fourthPath);\n\n        svg.appendChild(firstPath);\n        svg.appendChild(secondPath);\n        svg.appendChild(graph);\n        return svg;\n    }\n\n    private buildConfigure():Element {\n        let svg = this.getSvg({viewBox: '0 0 50 50'});\n        let path = this.getNode('path', {\n            d: 'M34.67,10.9,28.9,8.22a1.87,1.87,0,0,0-2.48.91L16,31.42a1.86,1.86,0,0,0-.17.75L15.66,40a1.85,1.85,0,0,0,.53,1.34,1.9,1.9,0,0,0,1.35.57,1.86,1.86,0,0,0,1.23-.47l5.93-5.22a1.86,1.86,0,0,0,.46-.62L35.58,13.37A1.88,1.88,0,0,0,34.67,10.9ZM17.47,40.22l.14-7,4.91,2.55ZM32,16.94l-5.88-2.73,1.94-4.38L34,12.57Z',\n        });\n        svg.appendChild(path);\n        return svg;\n    }\n\n    private buildMark():Element {\n        let svg = this.getSvg({viewBox: '0 0 50 50'});\n        let path = this.getNode('path', {\n            d: 'M32.16,12.05A7.89,7.89,0,0,0,25,16.51,7.93,7.93,0,0,0,10,20C10,29.35,25,39.64,25,39.64s15-10.37,15-19.66A7.91,7.91,0,0,0,32.16,12.05Z',\n        });\n        svg.appendChild(path);\n        return svg;\n    }\n\n    private buildCopy():Element {\n        let svg = this.getSvg({viewBox: '0 0 32 32'});\n        let firstPath = this.getNode('path', {\n            d: 'M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.122-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5z',\n        });\n        let secondPath = this.getNode('path', {\n            d: 'M18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z',\n        });\n        svg.appendChild(firstPath);\n        svg.appendChild(secondPath);\n        return svg;\n    }\n\n    private buildTrigger():Element {\n        let svg = this.getSvg({viewBox: '0 0 32.19 29.5'});\n        let path1 = this.getNode('path', {\n            d: 'M21,22.36c-1.57,0-1.87,1.36-1.87,3s0.17,3,1.87,3,1.87-1.36,1.87-3S22.59,22.36,21,22.36Z',\n            transform: 'translate(-9 -15.26)'\n        });\n        let path2 = this.getNode('path', {\n            d: 'M31.1,22.36c-1.57,0-1.87,1.36-1.87,3s0.17,3,1.87,3S33,27,33,25.36,32.66,22.36,31.1,22.36Z',\n            transform: 'translate(-9 -15.26)'\n        });\n        let path3 = this.getNode('path', {\n            d: 'M26,15.26c-5.86,0-17,.73-17,3.48V31.89a1.16,1.16,0,0,0,.17.49c1,2.06,9.46,3,16.85,3,5.86,0,17-.73,17-3.48V18.74C43,16,31.86,15.26,26,15.26ZM21,30.11c-3.46,0-4.69-2.14-4.69-4.79S17.6,20.53,21,20.53s4.69,2.14,4.69,4.79S24.47,30.11,21,30.11Zm10.08,0c-3.46,0-4.69-2.14-4.69-4.79s1.28-4.79,4.69-4.79,4.69,2.14,4.69,4.79S34.55,30.11,31.1,30.11Z',\n            transform: 'translate(-9 -15.26)'\n        });\n        let path4 = this.getNode('path', {\n            d: 'M31.1,28.36c-1.7,0-1.87-1.36-1.87-3s0.3-3,1.87-3,1.87,1.36,1.87,3S32.8,28.36,31.1,28.36Z',\n            transform: 'translate(-9 -15.26)'\n        });\n        let path5 = this.getNode('path', {\n            d: 'M21,28.36c-1.7,0-1.87-1.36-1.87-3s0.3-3,1.87-3,1.87,1.36,1.87,3S22.72,28.36,21,28.36Z',\n            transform: 'translate(-9 -15.26)'\n        });\n        svg.appendChild(path1);\n        svg.appendChild(path2);\n        svg.appendChild(path3);\n        svg.appendChild(path4);\n        svg.appendChild(path5);\n        return svg;\n    }\n\n    private buildVisualize():Element {\n        let svg = this.getSvg({viewBox: '0 0 50 50'});\n        let path = this.getNode('path', {\n            d: 'M25,34.59c-6.32,0-11.44-4.71-14.84-9.13a.75.75,0,0,1,0-.87c.24-.36,6-8.87,14.49-9.17C29.9,15.23,35,18.3,39.85,24.55A.74.74,0,0,1,40,25c0,.6-4.61,6.78-10.68,8.84A13.47,13.47,0,0,1,25,34.59ZM11.65,25c4.4,5.55,9,8.28,13.68,8.12,6.7-.23,11.74-6.38,13-8.08-4.4-5.55-9-8.28-13.69-8.12C17.93,17.14,12.91,23.28,11.65,25ZM25,30.49A5.49,5.49,0,1,1,30.38,25,5.45,5.45,0,0,1,25,30.49ZM25,21a4,4,0,1,0,3.91,4A4,4,0,0,0,25,21Z',\n        });\n        svg.appendChild(path);\n        return svg;\n    }\n\n    private buildVr():Element {\n        let svg = this.getSvg({viewBox: '0 0 50 50'});\n        let path = this.getNode('path', {\n            d: 'M37.88,16.24H12.18A2.16,2.16,0,0,0,10,18.4V31.6a2.16,2.16,0,0,0,2.16,2.16H20a1.54,1.54,0,0,0,1.46-.93l1.75-4.38a1.92,1.92,0,0,1,3.5.06l1.52,4.26a1.59,1.59,0,0,0,1.46,1h8.12A2.16,2.16,0,0,0,40,31.6V18.46A2.05,2.05,0,0,0,37.88,16.24ZM18.6,28.8a3.33,3.33,0,0,1-3.33-3.33,3.33,3.33,0,1,1,6.66,0A3.33,3.33,0,0,1,18.6,28.8Zm12.85,0a3.33,3.33,0,0,1-3.33-3.33,3.33,3.33,0,0,1,6.66,0A3.33,3.33,0,0,1,31.45,28.8Z',\n        });\n        svg.appendChild(path);\n        return svg;\n    }\n\n\n    public create(buttonType:string):Element {\n        const button:BUTTON_TYPE = ButtonsService.convertButtonTypeToEnum(buttonType);\n        if (button === BUTTON_TYPE.ADD) {\n            return this.buildAdd();\n        }\n        if (button === BUTTON_TYPE.AR) {\n            return this.buildAr();\n        }\n        if (button === BUTTON_TYPE.CONFIGURE) {\n            return this.buildConfigure();\n        }\n        if (button === BUTTON_TYPE.VISUALIZE) {\n            return this.buildVisualize();\n        }\n        if (button === BUTTON_TYPE.VR) {\n            return this.buildVr();\n        }\n        if (button === BUTTON_TYPE.TRIGGER) {\n            return this.buildTrigger();\n        }\n        if (button === BUTTON_TYPE.MARK) {\n            return this.buildMark();\n        }\n        if (button === BUTTON_TYPE.START_NOW) {\n            return this.buildPlanNow();\n        }\n    }\n\n    public createCopy():Element {\n        return this.buildCopy();\n    }\n}\n","import {Service} from '../lib/Service';\nexport class ImagesService extends Service {\n\n    public images:{ios:string,android:string,desktop:string,[key:string]: string} = {\n        ios: 'https://a.storyblok.com/f/4e779959c8/ios.png',\n        android: 'https://a.storyblok.com/f/1386db8cd0/android.png',\n        desktop: 'https://a.storyblok.com/f/cf5aa03c64/desktop.png',\n    };\n\n    preloadImages() {\n        var ios = new Image();\n        var android = new Image();\n        var desktop = new Image();\n\n        ios.src = this.images.ios;\n        android.src = this.images.android;\n        desktop.src = this.images.desktop;\n    }\n\n}\n","import {Service} from '../lib/Service';\nimport {ROOMLE_TYPE,RoomleTypeService} from './RoomleTypeService'\nimport {BUTTON_TYPE,ButtonsService} from './ButtonsService';\nimport { DomBuilderService } from './DomBuilderService';\nimport {SettingsService} from './SettingsService';\nimport {EventHandlerService} from './EventHandlerService';\n\ninterface IWindowMSStream extends Window {\n    MSStream:any\n}\n\nexport interface DeepLink {\n    type: string,\n    link: string,\n    alternate: 'ios' | 'android' | 'desktop',\n    os: 'ios' | 'android' | 'desktop',\n    roomleType: ROOMLE_TYPE,\n    id: string\n}\n\ndeclare var WindowMSStream:IWindowMSStream;\n\nexport class MobileDetectService extends Service {\n\n    private isOSCached:boolean = null;\n    private isAndroidCached:boolean = null;\n    private isIPadCached:boolean = null;\n    private isSupportedMobileCached:boolean = null;\n    private buttonsService:ButtonsService = <ButtonsService>ButtonsService.inject();\n\n    public isIOS():boolean {\n        if (this.isOSCached !== null) {\n            return this.isOSCached;\n        }\n        return /iPad|iPhone|iPod/i.test(navigator.userAgent) && !(<any>window).MSStream; // USE MSStream because of http://stackoverflow.com/a/9039885\n    }\n\n    public isAndroid():boolean {\n        if (this.isAndroidCached !== null) {\n            return this.isAndroidCached;\n        }\n\n        return /Android/i.test(navigator.userAgent) && !(<any>window).MSStream; // USE MSStream because of http://stackoverflow.com/a/9039885\n    }\n\n    public isSupportedMobile():boolean {\n        if (this.isSupportedMobileCached !== null) {\n            return this.isSupportedMobileCached;\n        }\n        return this.isIOS() || this.isAndroid();\n    }\n\n    public isIPad():boolean {\n        if (this.isIPadCached !== null) {\n            return this.isIPadCached;\n        }\n\n        return /iPad/i.test(navigator.userAgent) && !(<any>window).MSStream; // USE MSStream because of http://stackoverflow.com/a/9039885\n    }\n\n    private handlePlan(id:string, type:ROOMLE_TYPE, buttonType:BUTTON_TYPE):DeepLink {\n        const buttonTypeStr = ButtonsService.convertButtonType(buttonType);\n        const typeStr = type;\n        const iosPlanLink = 'roomle://3d/planId/' + id;\n        let desktopLink = SettingsService.settings.web.baseUrl + 'editor/' + id;\n        if (buttonType === BUTTON_TYPE.VISUALIZE) {\n            const viewrLink = 'roomleviewer://plan/' + id;\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: viewrLink,\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: iosPlanLink,\n                    os: 'ios',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            return {\n                type: buttonTypeStr,\n                alternate: null,\n                link: desktopLink,\n                os: 'desktop',\n                roomleType: typeStr,\n                id: id\n            };\n        }\n\n        if (buttonType === BUTTON_TYPE.VR) {\n            const viewrLink = 'roomleviewer://vr/' + id;\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: viewrLink,\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return {type: buttonTypeStr, alternate: null, link: viewrLink, os: 'ios', roomleType: typeStr, id: id};\n            }\n            return {type: buttonTypeStr, alternate: 'ios', link: viewrLink, os: 'desktop', roomleType: typeStr, id: id};\n        }\n\n        if (buttonType === BUTTON_TYPE.START_NOW) {\n            const viewrLink = 'roomleviewer://plan/' + id;\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: viewrLink,\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: iosPlanLink,\n                    os: 'ios',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            return {\n                type: buttonTypeStr,\n                alternate: null,\n                link: desktopLink,\n                os: 'desktop',\n                roomleType: typeStr,\n                id: id\n            };\n        }\n        return null;\n    }\n\n    private createLinkForItemOrConfiguration(id:string, type:ROOMLE_TYPE, buttonType:BUTTON_TYPE, isItem:boolean):DeepLink {\n        const typeStr = type;\n        const buttonTypeStr = ButtonsService.convertButtonType(buttonType);\n        if (isItem) {\n\n        }\n        const iosIdentifier = (!isItem && type !== ROOMLE_TYPE.CONFIGURABLE_ITEM) ? 'configurationId' : 'catalogItemId';\n        const webIdentifier = (!isItem && type !== ROOMLE_TYPE.CONFIGURABLE_ITEM) ? 'configurationId[]' : 'itemId[]';\n\n        if (buttonType === BUTTON_TYPE.ADD) {\n            let desktopLink = SettingsService.settings.web.baseUrl + 'editor/' + SettingsService.settings.planId + '?' + webIdentifier + '=' + id;\n            let iosLink = 'roomle://addToPlan/' + iosIdentifier + '/' + id + '?planId=' + SettingsService.settings.planId;\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: 'desktop',\n                    link: desktopLink,\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return null; //{type: buttonTypeStr, alternate: null, link: iosLink, os: 'ios', roomleType: typeStr, id: id};\n            }\n            return {\n                type: buttonTypeStr,\n                alternate: null,\n                link: desktopLink,\n                os: 'desktop',\n                roomleType: typeStr,\n                id: id\n            };\n        }\n\n        if (buttonType === BUTTON_TYPE.AR) {\n            const iosLink = 'roomle://ar/' + iosIdentifier + '/' + id;\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: 'ios',\n                    link: iosLink,\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return {type: buttonTypeStr, alternate: null, link: iosLink, os: 'ios', roomleType: typeStr, id: id};\n            }\n            return {type: buttonTypeStr, alternate: 'ios', link: iosLink, os: 'desktop', roomleType: typeStr, id: id};\n        }\n\n        if (buttonType === BUTTON_TYPE.CONFIGURE && (type === ROOMLE_TYPE.CONFIGURATION || type === ROOMLE_TYPE.CONFIGURABLE_ITEM)) {\n            const isConfigurableItem = (type === ROOMLE_TYPE.CONFIGURATION) ? false : true;\n            let desktopLink = SettingsService.settings.web.baseUrl + 'configurator/' + id + (isConfigurableItem ? '?isItem=true' : '');\n            let iosLink = 'roomle://configuration/' + iosIdentifier + '/' + id;\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: 'desktop',\n                    link: desktopLink,\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return {type: buttonTypeStr, alternate: null, link: iosLink, os: 'ios', roomleType: typeStr, id: id};\n            }\n            return {\n                type: buttonTypeStr,\n                alternate: null,\n                link: desktopLink,\n                os: 'desktop',\n                roomleType: typeStr,\n                id: id\n            };\n        }\n\n        if (buttonType === BUTTON_TYPE.MARK) {\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: 'www.roomle.com',\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: 'www.roomle.com',\n                    os: 'ios',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            return {\n                type: buttonTypeStr,\n                alternate: null,\n                link: 'www.roomle.com',\n                os: 'desktop',\n                roomleType: typeStr,\n                id: id\n            };\n        }\n\n        if (buttonType === BUTTON_TYPE.VISUALIZE) {\n            if (this.isAndroid()) {\n                return {\n                    type: buttonTypeStr,\n                    alternate: null,\n                    link: 'roomleviewer://item/' + id,\n                    os: 'android',\n                    roomleType: typeStr,\n                    id: id\n                };\n            }\n            if (this.isIOS()) {\n                return null;\n            }\n            return null;// {type: buttonTypeStr, alternate: '', link: 'www.roomle'};\n        }\n        return null;\n    }\n\n    public handleItem(id:string, type:ROOMLE_TYPE, buttonType:BUTTON_TYPE):DeepLink {\n        const isItem = true;\n        return this.createLinkForItemOrConfiguration(id, type, buttonType, isItem);\n    }\n\n    public handleConfiguration(id:string, type:ROOMLE_TYPE, buttonType:BUTTON_TYPE):DeepLink {\n        const isItem = false;\n        return this.createLinkForItemOrConfiguration(id, type, buttonType, isItem);\n    }\n\n    public generateLink(id:string, type:ROOMLE_TYPE, buttonType:BUTTON_TYPE, callbackUrl:string = null):DeepLink {\n        let deeplink:DeepLink = null;\n        if (type === ROOMLE_TYPE.ITEM) {\n            deeplink = this.handleItem(id, type, buttonType);\n        } else if (type === ROOMLE_TYPE.CONFIGURATION || type === ROOMLE_TYPE.CONFIGURABLE_ITEM) {\n            deeplink = this.handleConfiguration(id, type, buttonType);\n        } else if (type === ROOMLE_TYPE.PLAN) {\n            deeplink = this.handlePlan(id, type, buttonType);\n        }\n        if (!deeplink) {\n            return null;\n        }\n\n        const seperator = deeplink.link.indexOf('?') === -1 ? '?' : '&';\n        deeplink.link = deeplink.link + seperator + 'callback=' + callbackUrl;\n        return deeplink;\n    }\n\n    public getLinks(id:string, type:ROOMLE_TYPE, callbackUrl:string = null):Array<DeepLink> {\n        const availableButtons = this.buttonsService.availableButtons;\n        let links:Array<DeepLink> = [];\n        availableButtons.forEach((button)=> {\n            const link = this.generateLink(id, type, button, callbackUrl);\n            if (link) {\n                links.push(link);\n            }\n        });\n        return links;\n    }\n\n}\n\n","import {Service} from '../lib/Service';\nimport {DeepLink} from \"./MobileDetectService\";\n\ninterface OS {\n    storePrefix: string,\n}\n\ninterface OSS {\n    android: OS,\n    ios: OS,\n    [key: string]: OS;\n}\n\nexport class MobileRedirectService extends Service {\n    private delay = 1200;\n    private oss:OSS = {\n        android: {\n            storePrefix: 'https://play.google.com/store/apps/details?id='\n        },\n        ios: {\n            storePrefix: 'https://itunes.apple.com/app/'\n        }\n    };\n\n    private getTime() {\n        return new Date().getTime();\n    }\n\n    private open(url:string, newWindow:boolean = false, callback:Function = null) {\n        if (typeof callback === 'function') {\n            return callback(url);\n        }\n        if (newWindow) {\n            window.open(url);\n        } else {\n            window.location.href = url;\n        }\n    }\n\n    private handleAndroidBrowsers(appId:string, href:string, scheme:string) {\n\n        // Android Mobile\n        let isAndroidMobile = navigator.userAgent.indexOf('Android') > -1 &&\n            navigator.userAgent.indexOf('Mozilla/5.0') > -1 &&\n            navigator.userAgent.indexOf('AppleWebKit') > -1;\n\n        // Android Browser (not Chrome)\n        let regExAppleWebKit = new RegExp('AppleWebKit\\/([\\d.]+)');\n        let resultAppleWebKitRegEx = regExAppleWebKit.exec(navigator.userAgent);\n        let appleWebKitVersion = (resultAppleWebKitRegEx === null ? null : parseFloat(regExAppleWebKit.exec(navigator.userAgent)[1]));\n        let isAndroidBrowser = isAndroidMobile && appleWebKitVersion !== null && appleWebKitVersion > 500;\n\n        if (isAndroidBrowser) {\n            return 'intent:' + href.split(':')[1] + '#Intent;scheme=' + scheme + ';package=' +\n                appId + ';S.browser_fallback_url=' + encodeURI(href);\n        } else {\n            return href;\n        }\n    }\n\n    public redirect(deeplink:DeepLink, newWindow:boolean = false, callback:Function = null) {\n        this.perfromDeepLink(deeplink.link, deeplink.os, newWindow, callback);\n    }\n\n    private perfromDeepLink(href:string, os:string, newWindow:boolean = false, callback:Function = null) {\n        let clicked = false;\n        let timeout:number = null;\n        const data = this.parseHref(href, os);\n        const scheme = data.scheme;\n        const appId = data.appId;\n        let start = this.getTime();\n        clicked = true;\n        timeout = setTimeout(() => {\n            if (os === 'desktop') {\n                return;\n            }\n            if (!clicked || !timeout) {\n                return;\n            }\n            let now = this.getTime();\n            clicked = false;\n            timeout = null;\n            if (now - start >= this.delay * 2) {\n                return;\n            }\n\n            if (appId) {\n                this.open(this.oss[os].storePrefix + appId, newWindow);\n            } else if (href) {\n                this.open(href, newWindow);\n            }\n        }, this.delay);\n\n        //appId, this.oss[os].storePrefix + appId, href, scheme\n        let finalURI = this.handleAndroidBrowsers(appId, href, scheme);\n        this.open(finalURI, newWindow, callback);\n    }\n\n    private parseHref(href:string, osin:string):{appId:string,scheme:string, os: string, [key:string]:string} {\n        let hrefParts = href.split(':');\n        let scheme = hrefParts[0];\n\n        let appId = 'roomle/id732050356';\n        if (scheme === 'roomleviewer') {\n            appId = 'com.roomle.viewer';\n            if (osin === 'ios') {\n                appId = 'roomle-viewr/id1053860177';\n            }\n        }\n        return {appId: appId, scheme: scheme, os: osin};\n    }\n\n    public createDeeplinkFor(el:HTMLElement, os:string) {\n\n        const href = el.getAttribute('href');\n        const data = this.parseHref(href, os);\n        const appId = data.appId;\n        if (os && appId) {\n            el.addEventListener('click', (e)=> {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                this.perfromDeepLink(href, os);\n            });\n        } else if (!href || href === '#') {\n            el.style.display = 'none';\n        }\n    };\n\n}\n","import {Service} from '../lib/Service';\n\nexport class PolyfillService extends Service {\n    constructor() {\n        super();\n        if (!Element.prototype.matches) {\n            // CAST TO ANY AS QUICK&DIRTY SOLUTION FOR NON STANDARD NAMES!\n            Element.prototype.matches =\n                (<any>Element).prototype.matchesSelector ||\n                (<any>Element).prototype.mozMatchesSelector ||\n                (<any>Element).prototype.msMatchesSelector ||\n                (<any>Element).prototype.oMatchesSelector ||\n                (<any>Element).prototype.webkitMatchesSelector ||\n                function (s) {\n                    var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n                        i = matches.length;\n                    while (--i >= 0 && matches.item(i) !== this) {\n                    }\n                    return i > -1;\n                };\n        }\n    }\n}\n","//import { Promise } from 'es6-promise';\nimport { Service } from '../lib/Service';\n\nexport interface IRequestOptions {\n    method?: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'HEAD' | 'OPTIONS',\n    headers?: any,\n    body?: any,\n    mode?: string, // not yet supported\n    credentials?: {\n        username: string;\n        password?: string;\n    },\n    cache?: 'default' | 'no-store' | 'reload' | 'no-cache' | 'force-cache' | 'only-if-cached', // not yet supported\n    redirect?: 'follow' | 'error' | 'manual', // not yet supported\n    referrer?: string, // not yet supported\n    integrity?: string // not yet supported\n}\n\nexport class RequestService extends Service {\n\n    public fetch(url:string, options?:IRequestOptions):Promise<string> {\n        return new Promise((resolve:(result:any) => void, reject:(reason:Error) => void) => {\n            if (!options) {\n                options = {};\n            }\n\n            let xhr = new XMLHttpRequest();\n            let headers = options.headers;\n\n            // Check if method is GET and body ias an object\n            // If it is so, parse body object an append all properties as GET parameters to the url\n            if (options.method === 'GET' && options.body) {\n                if (typeof options.body === 'object') {\n                    let separator = '';\n                    let uri = '';\n                    for (var key in options.body) {\n                        if (options.body.hasOwnProperty(key)) {\n                            const encodedKey = encodeURIComponent(key);\n                            const encodedContent = encodeURIComponent(options.body[key]);\n                            uri += `${separator}${encodedKey}=${encodedContent}`;\n                            separator = '&';\n                        }\n                    }\n\n                    // append the parameters to the url\n                    url = url + (url.indexOf('?') === -1 ? '?' : '&') + uri;\n                } else {\n                    // Body is not an object => not allowed\n                    reject(new TypeError('Non object like body not allowed for GET requests. The body has to be an object so the properties will be appended as a GET parameter to the url.'));\n                    return;\n                }\n            } else if (typeof options.body !== 'string') {\n                // if body is not a string, parse it to a json string\n                options.body = JSON.stringify(options.body);\n            }\n\n            // Body not allowed for HEAD requests\n            if (options.method === 'HEAD' && options.body) {\n                reject(new TypeError('Body not allowed for HEAD requests'));\n                return;\n            }\n\n            // Add onload event listener\n            xhr.onload = (event:Event) => {\n                if (xhr.status >= 400 || xhr.status === 0) {\n                    reject(new Error(xhr.responseText));\n                } else {\n                    resolve('response' in xhr ? xhr.response : xhr.responseText);\n                }\n            };\n\n            // Add onerror event listener\n            xhr.onerror = (event:ErrorEvent) => {\n                reject(event.error);\n            };\n\n            xhr.onabort = (event:ErrorEvent) => {\n                reject(new TypeError('Network request aborted'));\n            };\n\n            // Add timeout event listener\n            xhr.ontimeout = (event:Event) => {\n                reject(new TypeError('Network request timed out'));\n            };\n\n            if (options.credentials && options.credentials.username) {\n                xhr.open(options.method ? options.method : 'GET', url, true, options.credentials.username, options.credentials.password);\n            } else {\n                xhr.open(options.method ? options.method : 'GET', url, true);\n            }\n\n            if (typeof headers === 'object') {\n                for (var key in headers) {\n                    if (headers.hasOwnProperty(key)) {\n                        xhr.setRequestHeader(key, (<any>headers)[key]);\n                    }\n                }\n            }\n\n            xhr.send(typeof options.body === 'undefined' ? null : options.body);\n        });\n    }\n\n    public fetchJSON(url:string, options?:IRequestOptions):Promise<Object | Array<any>> {\n        if (!options) {\n            options = {};\n        }\n        if (!options.headers) {\n            options.headers = {};\n        }\n        if (!options.headers['Content-Type']) {\n            options.headers['Content-Type'] = 'application/json';\n        }\n        return this.fetch(url, options).then(result => {\n            return JSON.parse(result);\n        });\n    }\n}\n","export enum ROOMLE_TYPE  {\n    ITEM,\n    CONFIGURATION,\n    PLAN,\n    CONFIGURABLE_ITEM\n}\n\n\nexport class RoomleTypeService {\n    // TYPES ARE FROM OUTSIDE CONVERT THEM TO ENUM BECAUSE \"item\" is nicer than \"0\"\n    static convertTypeToEnum(type:string):ROOMLE_TYPE {\n        if (type === 'item') {\n            return ROOMLE_TYPE.ITEM;\n        }\n\n        if (type === 'configuration') {\n            return ROOMLE_TYPE.CONFIGURATION;\n        }\n\n        if (type === 'plan') {\n            return ROOMLE_TYPE.PLAN;\n        }\n\n        if (type === 'configurable-item') {\n            return ROOMLE_TYPE.CONFIGURABLE_ITEM;\n        }\n        return null;\n    }\n\n    static convertRoomleType(type:ROOMLE_TYPE):string {\n        if (type === ROOMLE_TYPE.ITEM) {\n            return 'item';\n        }\n\n        if (type === ROOMLE_TYPE.CONFIGURATION) {\n            return 'configuration';\n        }\n\n        if (type === ROOMLE_TYPE.PLAN) {\n            return 'plan';\n        }\n\n        if (type === ROOMLE_TYPE.CONFIGURABLE_ITEM) {\n            return 'configurable-item';\n        }\n        return null;\n    }\n}\n","export type RoomleButtonModes  = 'lib' | 'button' | 'popup' | 'fullscreen';\n\ninterface DeepLinkTranslation {\n    heading: string,\n    [key: string]: any\n    hint: {\n        ios: string,\n        android: string,\n        desktop: string,\n        [key: string]: string\n    }\n}\n\nexport interface RoomleButtonSettings {\n    mode: RoomleButtonModes,\n    container: string,\n    selector: string,\n    showOnlyTrigger: boolean,\n    createNoButtons: boolean,\n    typeSelector: string,\n    idSelector: string,\n    [key: string]: any;\n    planId: string;\n    createPopUp: boolean,\n    showBackButton: boolean,\n    popUpSelector: string,\n    translations: {\n        ar: DeepLinkTranslation,\n        add: DeepLinkTranslation,\n        configure: DeepLinkTranslation,\n        mark: DeepLinkTranslation,\n        trigger: DeepLinkTranslation,\n        visualize: DeepLinkTranslation,\n        vr: DeepLinkTranslation,\n        errors: {\n            deeplinkcreate: string,\n            [key: string]: string\n        },\n        [key: string]: any\n    },\n    web: {\n        baseUrl: string,\n        [key: string]: string\n    },\n    viewr: {\n        baseUrl: string,\n        [key: string]: string\n    },\n    ios: {\n        baseUrl: string,\n        [key: string]: string\n    },\n    dataSelector: {\n        type: string,\n        id: string,\n        action: string,\n        [key: string]: string\n    },\n    html: {\n        containerClass: string,\n        containerType: string,\n        buttonsContainer: string,\n        buttonElement: string,\n        [key: string]: string\n    },\n    css: {\n        buttons: {\n            position:string,\n            top:string,\n            right: string,\n            'line-height': string,\n            [key: string]: string;\n        },\n        item: {\n            position: string,\n            [key: string]: string;\n        }\n    },\n    callback:{\n        item: {\n            [key: string]: (id:string) => any   // return type is not restricted at all (could be any value, or even void)\n        },\n        configuration: {\n            [key: string]: (id:string) => any   // return type is not restricted at all (could be any value, or even void)\n        },\n        plan: {\n            [key: string]: (id:string) => any   // return type is not restricted at all (could be any value, or even void)\n        },\n        button: {\n            [key: string]: (id:string, roomleType:string, buttonType:string) => any   // return type is not restricted at all (could be any value, or even void)\n        },\n        popupOpen:Function,\n        popupClose: Function\n        booted: Function,\n        closed: Function,\n        clickedHint: Function,\n        [key: string]: any\n    }\n}\nexport class SettingsService {\n\n    public settings:RoomleButtonSettings;\n\n    private static _instance:SettingsService;\n\n    static setDefault(settings:RoomleButtonSettings, key:string, defaultValue:any) {\n        let toCheck = settings;\n        let keys = key.split('.');\n        let keysLength = keys.length - 1; // LAST ONE IS SET OUTSIDE THE LOOP\n        for (let i = 0; i < keysLength; i++) {\n            if (!toCheck[keys[i]]) {\n                toCheck[keys[i]] = {};\n            }\n            toCheck = toCheck[keys[i]];\n        }\n        if (toCheck[keys[keysLength]] === undefined) {\n            toCheck[keys[keysLength]] = defaultValue;\n        }\n    }\n\n    static setDeeplinkTranslation(settings:RoomleButtonSettings, linkType:string, translation:DeepLinkTranslation) {\n        SettingsService.setDefault(settings, 'translations.' + linkType + '.heading', translation.heading);\n        SettingsService.setDefault(settings, 'translations.' + linkType + '.hint.ios', translation.hint.ios);\n        SettingsService.setDefault(settings, 'translations.' + linkType + '.hint.android', translation.hint.android);\n        SettingsService.setDefault(settings, 'translations.' + linkType + '.hint.desktop', translation.hint.desktop);\n    }\n\n    static init(settings:RoomleButtonSettings):SettingsService {\n        if (!(this._instance instanceof SettingsService)) {\n            SettingsService.setDefault(settings, 'web.baseUrl', 'https://www.roomle.com/app/');\n            SettingsService.setDefault(settings, 'viewr.baseUrl', 'https://www.roomle.com/');\n            SettingsService.setDefault(settings, 'ios.baseUrl', 'https://www.roomle.com/');\n            SettingsService.setDefault(settings, 'dataSelector.type', 'data-rml-type');\n            SettingsService.setDefault(settings, 'dataSelector.id', 'data-rml-id');\n            SettingsService.setDefault(settings, 'dataSelector.action', 'data-rml-action');\n\n            SettingsService.setDefault(settings, 'planId', '8a708083560ca6cf01560cd7361a014a');\n            SettingsService.setDefault(settings, 'createPopUp', true);\n            SettingsService.setDefault(settings, 'showBackButton', true);\n\n            SettingsService.setDefault(settings, 'html.containerClass', 'roomle-buttons');\n            SettingsService.setDefault(settings, 'html.containerType', 'div');\n            SettingsService.setDefault(settings, 'html.buttonsContainer', 'ul');\n            SettingsService.setDefault(settings, 'html.buttonElement', 'li');\n\n            SettingsService.setDefault(settings, 'css.buttons.position', 'absolute');\n            SettingsService.setDefault(settings, 'css.buttons.top', '0');\n            SettingsService.setDefault(settings, 'css.buttons.right', '0');\n            SettingsService.setDefault(settings, 'css.buttons.line-height', 'normal');\n            SettingsService.setDefault(settings, 'css.buttons.visibility', 'visible !important');\n\n            SettingsService.setDefault(settings, 'css.item.position', 'relative');\n\n            SettingsService.setDefault(settings, 'callback', {});\n            SettingsService.setDefault(settings, 'callback.button', {});\n            SettingsService.setDefault(settings, 'popUpSelector', 'data-rml-deeplink-popup-container');\n            SettingsService.setDefault(settings, 'callback.booted', ()=> {\n            });\n\n            SettingsService.setDefault(settings, 'translations.errors.deeplinkcreate', 'Error creating deeplink');\n\n            const hint = '';//'This feature is not available on your platform. ';\n            const androidHint = hint + 'Enter the following link into the browser of your desktop device';\n            const iosHint = hint + 'Enter the following link into the browser of your iOS device';\n            this.setDeeplinkTranslation(settings, 'ar', {\n                heading: 'Visualize in AR',\n                hint: {ios: iosHint, android: null, desktop: null}\n            });\n            this.setDeeplinkTranslation(settings, 'add', {\n                heading: 'Add to plan',\n                hint: {ios: null, android: null, desktop: androidHint}\n            });\n            this.setDeeplinkTranslation(settings, 'configure', {\n                heading: 'Customize',\n                hint: {ios: null, android: null, desktop: androidHint}\n            });\n            this.setDeeplinkTranslation(settings, 'mark', {\n                heading: 'Favourite',\n                hint: {ios: null, android: null, desktop: null}\n            });\n            this.setDeeplinkTranslation(settings, 'trigger', {\n                heading: 'Trigger',\n                hint: {ios: null, android: null, desktop: null}\n            });\n            this.setDeeplinkTranslation(settings, 'visualize', {\n                heading: 'Visualize',\n                hint: {ios: null, android: androidHint, desktop: null}\n            });\n            this.setDeeplinkTranslation(settings, 'vr', {\n                heading: 'View in VR',\n                hint: {ios: iosHint, android: '', desktop: ''}\n            });\n            this.setDeeplinkTranslation(settings, 'start_now', {\n                heading: 'Start planning now',\n                hint: {ios: iosHint, android: '', desktop: ''}\n            });\n\n            this._instance = new this(settings);\n        }\n        return this._instance;\n    }\n\n    static getInstance():SettingsService {\n        return this._instance;\n    }\n\n    constructor(settings:RoomleButtonSettings) {\n        this.settings = settings;\n    }\n\n    static get settings() {\n        return SettingsService.getInstance().settings;\n    }\n\n\n}\n","export class EnumEx {\n    static getNamesAndValues(e: any) {\n        return this.getNames(e).map(n => { return { name: n, value: e[n] as number }; });\n    }\n\n    static getNames(e: any) {\n        return this.getObjValues(e).filter(v => typeof v === 'string') as string[];\n    }\n\n    static getValues(e: any) {\n        return this.getObjValues(e).filter(v => typeof v === 'number') as number[];\n    }\n\n    private static getObjValues(e: any): (number | string)[] {\n        return Object.keys(e).map(k => e[k]);\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy9Sb29tbGVCdXR0b24udHMiLCJzcmMvc2NyaXB0cy9jb25maWcvRW52aXJvbm1lbnQudHMiLCJzcmMvc2NyaXB0cy9jb25maWcvRW52aXJvbm1lbnRzLnRzIiwic3JjL3NjcmlwdHMvY29udHJvbGxlcnMvQ29udHJvbGxlcnMudHMiLCJzcmMvc2NyaXB0cy9jb250cm9sbGVycy9Qb3B1cENvbnRyb2xsZXIudHMiLCJzcmMvc2NyaXB0cy9jb250cm9sbGVycy9Sb29tbGVDb250cm9sbGVyLnRzIiwic3JjL3NjcmlwdHMvbGliL0NvbnRyb2xsZXIudHMiLCJzcmMvc2NyaXB0cy9saWIvU2VydmljZS50cyIsInNyYy9zY3JpcHRzL21haW4udHMiLCJzcmMvc2NyaXB0cy9zZXJ2aWNlcy9CdXR0b25zU2VydmljZS50cyIsInNyYy9zY3JpcHRzL3NlcnZpY2VzL0NvbnNvbGVTZXJ2aWNlLnRzIiwic3JjL3NjcmlwdHMvc2VydmljZXMvRG9tQnVpbGRlclNlcnZpY2UudHMiLCJzcmMvc2NyaXB0cy9zZXJ2aWNlcy9FdmVudEhhbmRsZXJTZXJ2aWNlLnRzIiwic3JjL3NjcmlwdHMvc2VydmljZXMvSWNvbnNTZXJ2aWNlLnRzIiwic3JjL3NjcmlwdHMvc2VydmljZXMvSW1hZ2VzU2VydmljZS50cyIsInNyYy9zY3JpcHRzL3NlcnZpY2VzL01vYmlsZURldGVjdFNlcnZpY2UudHMiLCJzcmMvc2NyaXB0cy9zZXJ2aWNlcy9Nb2JpbGVSZWRpcmVjdFNlcnZpY2UudHMiLCJzcmMvc2NyaXB0cy9zZXJ2aWNlcy9Qb2x5ZmlsbFNlcnZpY2UudHMiLCJzcmMvc2NyaXB0cy9zZXJ2aWNlcy9SZXF1ZXN0U2VydmljZS50cyIsInNyYy9zY3JpcHRzL3NlcnZpY2VzL1Jvb21sZVR5cGVTZXJ2aWNlLnRzIiwic3JjL3NjcmlwdHMvc2VydmljZXMvU2V0dGluZ3NTZXJ2aWNlLnRzIiwic3Jj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SUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxPQUFPLENBQUMsS0FBSyxRQUFRLEVBQXJCLENBQXFCLENBQWEsQ0FBQztJQUMvRSxDQUFDO0lBRWMsbUJBQVksR0FBM0IsVUFBNEIsQ0FBTTtRQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUosQ0FBSSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQWhCQSxBQWdCQyxJQUFBO0FBaEJZLHdCQUFNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCAqIGFzIGNvbnRyb2xsZXJzIGZyb20gJy4vY29udHJvbGxlcnMvQ29udHJvbGxlcnMnO1xuaW1wb3J0IHtTZXR0aW5nc1NlcnZpY2UsIFJvb21sZUJ1dHRvblNldHRpbmdzfSBmcm9tICcuL3NlcnZpY2VzL1NldHRpbmdzU2VydmljZSc7XG5pbXBvcnQge0V2ZW50SGFuZGxlclNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvRXZlbnRIYW5kbGVyU2VydmljZSc7XG5pbXBvcnQge0JVVFRPTl9UWVBFLCBCdXR0b25zU2VydmljZX0gZnJvbSAnLi9zZXJ2aWNlcy9CdXR0b25zU2VydmljZSc7XG5pbXBvcnQge0RvbUJ1aWxkZXJTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL0RvbUJ1aWxkZXJTZXJ2aWNlJztcbmltcG9ydCB7UG9seWZpbGxTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL1BvbHlmaWxsU2VydmljZSc7XG5pbXBvcnQge01vYmlsZVJlZGlyZWN0U2VydmljZX0gZnJvbSAnLi9zZXJ2aWNlcy9Nb2JpbGVSZWRpcmVjdFNlcnZpY2UnO1xuaW1wb3J0IHtNb2JpbGVEZXRlY3RTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL01vYmlsZURldGVjdFNlcnZpY2UnO1xuaW1wb3J0IHtSb29tbGVUeXBlU2VydmljZX0gZnJvbSAnLi9zZXJ2aWNlcy9Sb29tbGVUeXBlU2VydmljZSc7XG5pbXBvcnQge0ltYWdlc1NlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvSW1hZ2VzU2VydmljZSc7XG5cbmV4cG9ydCBjbGFzcyBSb29tbGVCdXR0b24ge1xuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogUm9vbWxlQnV0dG9uO1xuXG4gICAgcHJpdmF0ZSBkb21CdWlsZGVyOiBEb21CdWlsZGVyU2VydmljZSA9IDxEb21CdWlsZGVyU2VydmljZT5Eb21CdWlsZGVyU2VydmljZS5pbmplY3QoKTtcbiAgICBwcml2YXRlIGltYWdlc1NlcnZpY2U6IEltYWdlc1NlcnZpY2UgPSA8SW1hZ2VzU2VydmljZT5JbWFnZXNTZXJ2aWNlLmluamVjdCgpO1xuICAgIHByaXZhdGUgZXZlbnRIYW5kbGVyOiBFdmVudEhhbmRsZXJTZXJ2aWNlID0gPEV2ZW50SGFuZGxlclNlcnZpY2U+RXZlbnRIYW5kbGVyU2VydmljZS5pbmplY3QoKTtcbiAgICBwcml2YXRlIHBvbHlmaWxsU2VydmljZTogUG9seWZpbGxTZXJ2aWNlID0gPFBvbHlmaWxsU2VydmljZT5Qb2x5ZmlsbFNlcnZpY2UuaW5qZWN0KCk7XG4gICAgcHJpdmF0ZSBtb2JpbGVSZWRpcmVjdFNlcnZpY2U6IE1vYmlsZVJlZGlyZWN0U2VydmljZSA9IDxNb2JpbGVSZWRpcmVjdFNlcnZpY2U+TW9iaWxlUmVkaXJlY3RTZXJ2aWNlLmluamVjdCgpO1xuICAgIHByaXZhdGUgbW9iaWxlRGV0ZWN0U2VydmljZTogTW9iaWxlRGV0ZWN0U2VydmljZSA9IDxNb2JpbGVEZXRlY3RTZXJ2aWNlPk1vYmlsZURldGVjdFNlcnZpY2UuaW5qZWN0KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5nczogUm9vbWxlQnV0dG9uU2V0dGluZ3MpIHtcbiAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLmluaXQoc2V0dGluZ3MpO1xuICAgICAgICB0aGlzLmltYWdlc1NlcnZpY2UucHJlbG9hZEltYWdlcygpO1xuICAgICAgICB0aGlzLl9hZGRDU1MoKTtcbiAgICAgICAgdGhpcy5fYm9vdCgpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIF9hZGRDU1MoKSB7XG4gICAgICAgIGNvbnN0IHNjcmlwdElkID0gJ3JtbC1idXR0b24tbGliJztcblxuICAgICAgICBjb25zdCBzY3JpcHQgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2NyaXB0SWQpO1xuICAgICAgICBpZiAoIXNjcmlwdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgICAgICBjb25zdCBocmVmID0gc2NyaXB0LmdldEF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgIGxldCBzdHlsZUhyZWYgPSBocmVmLnJlcGxhY2UoL1xcLmpzL2csICcuY3NzJyk7XG4gICAgICAgIGlmIChzdHlsZUhyZWYgJiYgc3R5bGVIcmVmLmxlbmd0aCA+IDEgJiYgc3R5bGVIcmVmWzBdID09PSAnaicgJiYgc3R5bGVIcmVmWzFdID09PSAncycpIHtcbiAgICAgICAgICAgIHN0eWxlSHJlZiA9IHN0eWxlSHJlZi5zdWJzdHIoMik7XG4gICAgICAgICAgICBzdHlsZUhyZWYgPSAnY3NzJyArIHN0eWxlSHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlSHJlZiA9IHN0eWxlSHJlZi5yZXBsYWNlKC9cXC9qc1xcLy9nLCAnL2Nzcy8nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcblxuICAgICAgICAvL3N0eWxlLmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgc3R5bGUuaHJlZiA9IHN0eWxlSHJlZjtcbiAgICAgICAgc3R5bGUucmVsID0gJ3N0eWxlc2hlZXQnO1xuICAgICAgICBzdHlsZS5tZWRpYSA9ICdhbGwnO1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ2ludGVncml0eScsICcjIyNzcmljaGVjayMjIycpO1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zZXR1cENsaWNrTGlzdGVuZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gdGhpcy5ldmVudEhhbmRsZXIuaGFuZGxlKGUpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9ib290KCkge1xuICAgICAgICBsZXQgY29udHJvbGxlckNsYXNzZXM6IGFueSA9IGNvbnRyb2xsZXJzO1xuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHRoaXMuZG9tQnVpbGRlci5hZGRDU1MoKTtcbiAgICAgICAgaWYgKFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5jb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRMaXN0ID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5jb250YWluZXIpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+ZWxlbWVudExpc3RbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmNyZWF0ZVBvcFVwKSB7XG4gICAgICAgICAgICB0aGlzLmRvbUJ1aWxkZXIuYnVpbGRQb3BVcChlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldHVwQ2xpY2tMaXN0ZW5lcihlbGVtZW50KTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2VTZWxlY3RvciA9IFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5zZWxlY3RvcjsgLy8gPyB0aGlzLnNldHRpbmdzLnNlbGVjdG9yIDogJ1tkYXRhLXJvb21sZS1pZF0nO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gY29udHJvbGxlckNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyQ2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ1Jvb21sZUNvbnRyb2xsZXInICYmIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5tb2RlID09PSAnbGliJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRyb2xsZXJDbGFzczogYW55ID0gY29udHJvbGxlckNsYXNzZXNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRyb2xsZXJDbGFzcy5wYXJzZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQ2xhc3MucGFyc2UoaW5zdGFuY2VTZWxlY3RvciwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW5DdXN0b21Qb3BVcChlOiBFdmVudCwgY29udGVudDogSFRNTEVsZW1lbnQsIHBhcmVudD86IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZG9tQnVpbGRlci5idWlsZEN1c3RvbVBvcFVwKGNvbnRlbnQsIHBhcmVudCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZGlzcGF0Y2hPcGVuUG9wVXAoZSlcbiAgICAgICAgfSwgMSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3BhdGNoQ2xpY2soZTogRXZlbnQsIHR5cGU6IHN0cmluZywgaWQ6IHN0cmluZywgYnV0dG9uVHlwZTogc3RyaW5nLCBoaWdobGlnaHQ6IHN0cmluZyA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZGlzcGF0Y2goZSwgdHlwZSwgaWQsIEJ1dHRvbnNTZXJ2aWNlLmNvbnZlcnRCdXR0b25UeXBlVG9FbnVtKGJ1dHRvblR5cGUpLCBoaWdobGlnaHQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXREb21MaW5rRm9yKGFjdGlvbjogc3RyaW5nLCBpZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGlzSGlnaGxpZ2h0ZWQ6IGJvb2xlYW4gPSBmYWxzZSk6IEVsZW1lbnQge1xuICAgICAgICBjb25zdCByb29tbGVUeXBlID0gUm9vbWxlVHlwZVNlcnZpY2UuY29udmVydFR5cGVUb0VudW0odHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1dHRvblR5cGUgPSBCdXR0b25zU2VydmljZS5jb252ZXJ0QnV0dG9uVHlwZVRvRW51bShhY3Rpb24pO1xuICAgICAgICBjb25zdCBsaW5rID0gdGhpcy5tb2JpbGVEZXRlY3RTZXJ2aWNlLmdlbmVyYXRlTGluayhpZCwgcm9vbWxlVHlwZSwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGNvbnN0IGJ1aWxkT3B0aW9ucyA9IHtpc0hpZ2hsaWdodGVkOiBpc0hpZ2hsaWdodGVkLCBidWlsZEFueXdheTogdHJ1ZX07XG4gICAgICAgIHJldHVybiB0aGlzLmRvbUJ1aWxkZXIuYnVpbGRMaW5rKGxpbmssIGJ1aWxkT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcHVibGljIGFwcGVuZEJ1dHRvbnMoY29udGFpbmVyOiBFbGVtZW50LCBpZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGxpbmtzID0gdGhpcy5nZXRMaW5rcyhpZCwgdHlwZSk7XG4gICAgICAgIGxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRvbUJ1aWxkZXIuYnVpbGRMaW5rKGxpbmspKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGV4ZWNEZWVwbGluayhpZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGNsaWNrZWRCdXR0b246IHN0cmluZywgbmV3V2luZG93OiBib29sZWFuID0gZmFsc2UsIGNhbGxiYWNrOiBGdW5jdGlvbiA9IG51bGwpIHtcbiAgICAgICAgY29uc3Qgcm9vbWxlVHlwZSA9IFJvb21sZVR5cGVTZXJ2aWNlLmNvbnZlcnRUeXBlVG9FbnVtKHR5cGUpO1xuICAgICAgICBjb25zdCBidXR0b25UeXBlID0gQnV0dG9uc1NlcnZpY2UuY29udmVydEJ1dHRvblR5cGVUb0VudW0oY2xpY2tlZEJ1dHRvbik7XG4gICAgICAgIGNvbnN0IGxpbmsgPSB0aGlzLm1vYmlsZURldGVjdFNlcnZpY2UuZ2VuZXJhdGVMaW5rKGlkLCByb29tbGVUeXBlLCBidXR0b25UeXBlKTtcbiAgICAgICAgaWYgKGxpbmsuYWx0ZXJuYXRlKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgICAgIGV2ZW50LmluaXRFdmVudCgnZXhlY0RlZXBsaW5rJywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5kaXNwYXRjaChldmVudCwgdHlwZSwgaWQsIEJVVFRPTl9UWVBFLlRSSUdHRVIsIGNsaWNrZWRCdXR0b24sIG5ld1dpbmRvdyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vYmlsZVJlZGlyZWN0U2VydmljZS5yZWRpcmVjdChsaW5rLCBuZXdXaW5kb3csIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRMaW5rcyhpZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGNhbGxiYWNrVXJsOiBzdHJpbmcgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vYmlsZURldGVjdFNlcnZpY2UuZ2V0TGlua3MoaWQsIFJvb21sZVR5cGVTZXJ2aWNlLmNvbnZlcnRUeXBlVG9FbnVtKHR5cGUpLCBjYWxsYmFja1VybCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZShzZXR0aW5nczogUm9vbWxlQnV0dG9uU2V0dGluZ3MpOiBSb29tbGVCdXR0b24ge1xuICAgICAgICBpZiAoISh0aGlzLl9pbnN0YW5jZSBpbnN0YW5jZW9mIFJvb21sZUJ1dHRvbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoc2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEoPGFueT53aW5kb3cpLlJvb21sZUJ1dHRvbkluc3RhbmNlKSB7XG4gICAgICAgICAgICBjb25zdCBybWxPYmplY3QgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcy5faW5zdGFuY2UpO1xuICAgICAgICAgICAgbGV0IGV4cG9zZWRPYmplY3Q6IHtba2V5OiBzdHJpbmddOiAoKT0+YW55fSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcm1sT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiBybWxPYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXlbMF0gIT09ICdfJykge1xuICAgICAgICAgICAgICAgICAgICBleHBvc2VkT2JqZWN0W2tleV0gPSBybWxPYmplY3Rba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoPGFueT53aW5kb3cpLlJvb21sZUJ1dHRvbkluc3RhbmNlID0gZXhwb3NlZE9iamVjdDtcbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5jYWxsYmFjay5ib290ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge0Vudmlyb25tZW50c30gZnJvbSAnLi9FbnZpcm9ubWVudHMnO1xuXG5leHBvcnQgY2xhc3MgRW52aXJvbm1lbnQge1xuXG4gICAgc3RhdGljIGVudkluZGljYXRvciA9ICcjIyNkZXZlbG9wbWVudCMjIyc7XG5cbiAgICBzdGF0aWMgc2V0dGluZ3MoKSB7XG4gICAgICAgIGxldCBzZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIHJhcGk6ICdhcGkudGVzdC5yb29tbGUuY29tL3YyJyxcbiAgICAgICAgICAgIHByb3RvY29sOiAnaHR0cHM6Ly8nLFxuICAgICAgICAgICAgcm1sY286ICcnLFxuICAgICAgICAgICAgc2hvcnRsaW5rKHR5cGU6c3RyaW5nLCBpZDpzdHJpbmcsIGJ1dHRvbjpzdHJpbmcsIHNob3J0SWQ6c3RyaW5nID0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChFbnZpcm9ubWVudC5lbnYgIT09IEVudmlyb25tZW50cy5URVNUICYmICEhc2hvcnRJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2h0dHA6Ly9ybWwuY28vJyArIHNob3J0SWQgKyAnLycgKyBidXR0b247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvZGVlcGxpbms/aWQ9JyArIGlkICsgJyZ0eXBlPScgKyB0eXBlICsgJyZidXR0b249JyArIGJ1dHRvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoRW52aXJvbm1lbnQuZW52ICE9PSBFbnZpcm9ubWVudHMuVEVTVCkge1xuICAgICAgICAgICAgc2V0dGluZ3MucmFwaSA9ICdhcGkucm9vbWxlLmNvbS92Mic7XG4gICAgICAgIH1cblxuICAgICAgICBzZXR0aW5ncy5ybWxjbyA9IHNldHRpbmdzLnByb3RvY29sICsgc2V0dGluZ3MucmFwaSArICcvc2hvcnRJZHMnO1xuICAgICAgICByZXR1cm4gc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbnYoKTpzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnZJbmRpY2F0b3Iuc3Vic3RyaW5nKDMsIHRoaXMuZW52SW5kaWNhdG9yLmxlbmd0aCAtIDMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgY29uZmlnKCkge1xuICAgICAgICByZXR1cm4gRW52aXJvbm1lbnQuc2V0dGluZ3MoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRW52aXJvbm1lbnRzIHtcbiAgICBzdGF0aWMgUFJPRFVDVElPTiA9ICdwcm9kdWN0aW9uJztcbiAgICBzdGF0aWMgVEVTVCA9ICd0ZXN0Jztcbn1cbiIsImV4cG9ydCB7IFJvb21sZUNvbnRyb2xsZXIgfSBmcm9tICcuL1Jvb21sZUNvbnRyb2xsZXInO1xuZXhwb3J0IHsgUG9wdXBDb250cm9sbGVyIH0gZnJvbSAnLi9Qb3B1cENvbnRyb2xsZXInO1xuXG4iLCJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSAnLi4vbGliL0NvbnRyb2xsZXInO1xuaW1wb3J0IHtTZXR0aW5nc1NlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL1NldHRpbmdzU2VydmljZSc7XG5pbXBvcnQge0V2ZW50SGFuZGxlclNlcnZpY2UsIEVWRU5UX1RZUEVTfSBmcm9tICcuLi9zZXJ2aWNlcy9FdmVudEhhbmRsZXJTZXJ2aWNlJztcbmltcG9ydCB7RG9tQnVpbGRlclNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL0RvbUJ1aWxkZXJTZXJ2aWNlJztcbmltcG9ydCB7RGVlcExpbmt9IGZyb20gJy4uL3NlcnZpY2VzL01vYmlsZURldGVjdFNlcnZpY2UnO1xuaW1wb3J0IHtCdXR0b25zU2VydmljZSwgQlVUVE9OX1RZUEV9IGZyb20gJy4uL3NlcnZpY2VzL0J1dHRvbnNTZXJ2aWNlJztcbmltcG9ydCB7SW1hZ2VzU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvSW1hZ2VzU2VydmljZSc7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cENvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgICBzdGF0aWMgc2VsZWN0b3I6c3RyaW5nID0gJ1tkYXRhLXJtbC1kZWVwbGluay1wb3B1cC1jb250YWluZXJdJztcbiAgICBwcml2YXRlIGV2ZW50SGFuZGxlclNlcnZpY2U6RXZlbnRIYW5kbGVyU2VydmljZSA9IDxFdmVudEhhbmRsZXJTZXJ2aWNlPkV2ZW50SGFuZGxlclNlcnZpY2UuaW5qZWN0KCk7XG4gICAgcHJpdmF0ZSBkb21CdWlsZGVyU2VydmljZTpEb21CdWlsZGVyU2VydmljZSA9IDxEb21CdWlsZGVyU2VydmljZT5Eb21CdWlsZGVyU2VydmljZS5pbmplY3QoKTtcbiAgICBwcml2YXRlIGltYWdlc1NlcnZpY2U6SW1hZ2VzU2VydmljZSA9IDxJbWFnZXNTZXJ2aWNlPkltYWdlc1NlcnZpY2UuaW5qZWN0KCk7XG5cbiAgICBwcml2YXRlIGlkOnN0cmluZztcbiAgICBwcml2YXRlIHR5cGU6c3RyaW5nO1xuXG4gICAgcHJpdmF0ZSBjbG9zZVBvcHVwKCkge1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gdGhpcy4kKCcucm1sLXBvcHVwJylbMF0uY2xhc3NMaXN0O1xuICAgICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKCdybWwtbWQtc2hvdycpKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKCdybWwtbWQtc2hvdycpO1xuICAgICAgICAgICAgY29uc3QgYmFjayA9IHRoaXMuJCgnLnJtbC1wb3B1cC0tYmFjaycpWzBdO1xuICAgICAgICAgICAgYmFjay5jbGFzc0xpc3QucmVtb3ZlKCdybWwtcG9wdXAtLWJhY2tfX3Nob3cnKTtcbiAgICAgICAgICAgIHRoaXMudW5mcmVlemVTY3JvbGxpbmcoKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmNhbGxiYWNrLnBvcHVwQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9ICh0aGlzLmlkKSA/IHRoaXMuaWQgOiAnQ1VTVE9NJztcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gKHRoaXMudHlwZSkgPyB0aGlzLnR5cGUgOiAnQ1VTVE9NJztcbiAgICAgICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuY2FsbGJhY2sucG9wdXBDbG9zZShpZCwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKCdybWwtbWQtc2hvdycpO1xuICAgICAgICAgICAgdGhpcy5mcmVlemVTY3JvbGxpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDpIVE1MRWxlbWVudCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgaWYgKCFTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuY3JlYXRlUG9wVXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlclNlcnZpY2Uuc3Vic2NyaWJlKEVWRU5UX1RZUEVTLlRSSUdHRVIsIHRoaXMub3BlblBvcHVwLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlclNlcnZpY2Uuc3Vic2NyaWJlKEVWRU5UX1RZUEVTLlBPUF9VUF9PUEVOLCB0aGlzLnNpbXBsZU9wZW4uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyU2VydmljZS5zdWJzY3JpYmUoRVZFTlRfVFlQRVMuUE9QX1VQX0NMT1NFLCB0aGlzLmNsb3NlUG9wdXAuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuJCgnLnJtbC1tZC1vdmVybGF5JylbMF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHRoaXMuY2xvc2VQb3B1cCgpKTtcbiAgICAgICAgdGhpcy4kKCcucm1sLXBvcHVwLS1jbG9zZScpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB0aGlzLmNsb3NlUG9wdXAoKSk7XG4gICAgICAgIGlmIChTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3Muc2hvd0JhY2tCdXR0b24pIHtcbiAgICAgICAgICAgIHRoaXMuJCgnLnJtbC1wb3B1cC0tYmFjaycpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB0aGlzLmJhY2soKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiQoJy5ybWwtcG9wdXAtLWJhY2snKVswXS5jbGFzc0xpc3QuYWRkKCdybWwtcG9wdXAtLWJhY2tfX2hpZGUnKTtcbiAgICAgICAgfVxuICAgICAgICAvL3RoaXMucm9vbWxlQnV0dG9uU2VydmljZS5hZGRSb29tbGVCdXR0b24odGhpcy50cmlnZ2VyQ2xpY2tlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJhY2soKSB7XG4gICAgICAgIGxldCBsaW5rc0NvbnRhaW5lciA9IHRoaXMuJCgnLnJtbC1kZWVwbGluay0tc2xpZGVyJylbMF07XG4gICAgICAgIGxpbmtzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3JtbC1kZWVwbGlua19faGludCcpO1xuICAgICAgICBsZXQgaGludENvbnRhaW5lciA9IHRoaXMuJCgnLnJtbC1kZWVwbGlua19faGludC1jb250YWluZXInKVswXTtcbiAgICAgICAgaGludENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgY29uc3QgYmFjayA9IHRoaXMuJCgnLnJtbC1wb3B1cC0tYmFjaycpWzBdO1xuICAgICAgICBiYWNrLmNsYXNzTGlzdC5yZW1vdmUoJ3JtbC1wb3B1cC0tYmFja19fc2hvdycpO1xuICAgICAgICBjb25zdCBoaW50VGV4dCA9IHRoaXMuJCgnLnJtbC1kZWVwbGluay0taGludCcpO1xuICAgICAgICBpZiAoaGludFRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gaGludFRleHRbMF07XG4gICAgICAgICAgICB0ZXh0LmNsYXNzTGlzdC5yZW1vdmUoJ3JtbC1oaW50X19zaG93Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNpbXBsZU9wZW4oZTpFdmVudCwgaWQ6c3RyaW5nLCB0eXBlOnN0cmluZyk6RWxlbWVudCB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB2YXIgcG9wVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbJyArIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5wb3BVcFNlbGVjdG9yICsgJ10nKTtcbiAgICAgICAgbGV0IG1vZGFsID0gcG9wVXBbMF0ucXVlcnlTZWxlY3RvckFsbCgnLnJtbC1tZC1tb2RhbCcpO1xuICAgICAgICBpZiAobW9kYWxbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdybWwtbWQtc2hvdycpKSB7XG4gICAgICAgICAgICBtb2RhbFswXS5jbGFzc0xpc3QucmVtb3ZlKCdybWwtbWQtc2hvdycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kYWxbMF0uY2xhc3NMaXN0LmFkZCgncm1sLW1kLXNob3cnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyZWV6ZVNjcm9sbGluZygpO1xuICAgICAgICBpZiAodHlwZW9mIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5jYWxsYmFjay5wb3B1cE9wZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5jYWxsYmFjay5wb3B1cE9wZW4oKGlkKSA/IGlkIDogJ0NVU1RPTScsICh0eXBlKSA/IHR5cGUgOiAnQ1VTVE9NJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbW9kYWxbMF07XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW5Qb3B1cChlOkV2ZW50LCBpZDpzdHJpbmcsIHR5cGU6c3RyaW5nLCBsaW5rczpBcnJheTxEZWVwTGluaz4sIGhpZ2hsaWdodDpzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgbW9kYWwgPSB0aGlzLnNpbXBsZU9wZW4oZSwgaWQsIHR5cGUpO1xuICAgICAgICBsZXQgY29udGFpbmVyID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnJtbC1nZW5lcmF0ZWQtY29udGVudCcpO1xuICAgICAgICBjb250YWluZXJbMF0uaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGxldCBsaW5rc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsaW5rc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLXNsaWRlcicpO1xuICAgICAgICBsaW5rc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLWxpbmtzJyk7XG5cbiAgICAgICAgbGV0IHNsaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoJ3JtbC1kZWVwbGluay0tc2xpZGUnKTtcbiAgICAgICAgc2xpZGUuY2xhc3NMaXN0LmFkZCgncm1sLWRlZXBsaW5rLS1vdmVydmlldycpO1xuICAgICAgICBsZXQgYWx0ZXJuYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFsdGVybmF0ZS5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLXNsaWRlJyk7XG4gICAgICAgIGFsdGVybmF0ZS5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLWFsdGVybmF0ZScpO1xuICAgICAgICBsaW5rcy5mb3JFYWNoKChsaW5rKT0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzSGlnaGxpZ2h0ZWQgPSBsaW5rLnR5cGUgPT09IGhpZ2hsaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtEb20gPSB0aGlzLmRvbUJ1aWxkZXJTZXJ2aWNlLmJ1aWxkTGluayhsaW5rLCB7XG4gICAgICAgICAgICAgICAgaXNIaWdobGlnaHRlZDogaXNIaWdobGlnaHRlZCxcbiAgICAgICAgICAgICAgICBzbGlkZU1vZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY2xpY2tlZEhpbnQ6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgaGludENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmtfX2hpbnQtY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3JtbC1kZWVwbGlua19faGludC1pbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoJ3JtbC1kZWVwbGlua19faGludC1saW5rJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWdVcmwgPSB0aGlzLmltYWdlc1NlcnZpY2UuaW1hZ2VzW2xpbmsuYWx0ZXJuYXRlXTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1nVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nQ29udGFpbmVyLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgICAgICAgICAgICAgIGhpbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoaW1nQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ybWwtcG9wdXAtLWJhY2snKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5zaG93QmFja0J1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFjay5jbGFzc0xpc3QuYWRkKCdybWwtcG9wdXAtLWJhY2tfX3Nob3cnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb21MaW5rID0gPEVsZW1lbnQ+bGlua0RvbS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb21MaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb21CdWlsZGVyU2VydmljZS5hZGRTaG9ydGxpbmsoZG9tLCBsaW5rLnJvb21sZVR5cGUsIGxpbmsudHlwZSwgbGluay5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGhpbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmFwcGVuZENoaWxkKGhpbnRDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlua3NDb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdybWwtZGVlcGxpbmtfX2hpbnQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlua3NDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgncm1sLWRlZXBsaW5rX19oaW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmtfX2hpbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaW50ID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJy5ybWwtZGVlcGxpbmstLWhpbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb21CdWlsZGVyU2VydmljZS5hZGRTaG9ydGxpbmsoZG9tLCBsaW5rLnJvb21sZVR5cGUsIGxpbmsudHlwZSwgbGluay5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGhpbnQuY2xhc3NMaXN0LmFkZCgncm1sLWhpbnRfX3Nob3cnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3bGlua0RvbSA9IGFsdGVybmF0ZS5xdWVyeVNlbGVjdG9yKCcucm1sLWRlZXBsaW5rLS1yb3cnKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3bGlua0RvbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOkV2ZW50KT0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZG9tLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmNhbGxiYWNrLmNsaWNrZWRIaW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuY2FsbGJhY2suY2xpY2tlZEhpbnQobGluay5pZCwgbGluay5yb29tbGVUeXBlLCBsaW5rLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWxpbmtEb20pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzbGlkZS5hcHBlbmRDaGlsZChsaW5rRG9tKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGlua3NDb250YWluZXIuYXBwZW5kQ2hpbGQoc2xpZGUpO1xuICAgICAgICBsaW5rc0NvbnRhaW5lci5hcHBlbmRDaGlsZChhbHRlcm5hdGUpO1xuICAgICAgICBjb250YWluZXJbMF0uYXBwZW5kQ2hpbGQobGlua3NDb250YWluZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZnJlZXplU2Nyb2xsaW5nKCkge1xuICAgICAgICBsZXQgaHRtbCA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJyk7XG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgaWYgKGh0bWwuc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IGh0bWwuc2Nyb2xsVG9wID8gaHRtbC5zY3JvbGxUb3AgOiBib2R5LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IGh0bWwub2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBodG1sLnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIGh0bWwuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgaHRtbC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICAgICAgICBodG1sLnN0eWxlLnRvcCA9ICgtdG9wKSArICdweCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVuZnJlZXplU2Nyb2xsaW5nKCkge1xuICAgICAgICBsZXQgaHRtbCA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJyk7XG4gICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgaWYgKGh0bWwuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgICAgICAgIGh0bWwuc3R5bGUucG9zaXRpb24gPSAnc3RhdGljJztcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcFZhbHVlID0gLXBhcnNlSW50KGh0bWwuc3R5bGUudG9wLCAxMCk7XG4gICAgICAgICAgICBodG1sLnNjcm9sbFRvcCA9IHNjcm9sbFRvcFZhbHVlO1xuICAgICAgICAgICAgYm9keS5zY3JvbGxUb3AgPSBzY3JvbGxUb3BWYWx1ZTtcbiAgICAgICAgICAgIGh0bWwuc3R5bGUucG9zaXRpb24gPSAnJztcbiAgICAgICAgICAgIGh0bWwuc3R5bGUud2lkdGggPSAnJztcbiAgICAgICAgICAgIGh0bWwuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgICAgICBodG1sLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgICAgICAgaHRtbC5zdHlsZS5vdmVyZmxvd1kgPSAnJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG4iLCJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSAnLi4vbGliL0NvbnRyb2xsZXInO1xuaW1wb3J0IHsgRG9tQnVpbGRlclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9Eb21CdWlsZGVyU2VydmljZSc7XG5pbXBvcnQgeyBFdmVudEhhbmRsZXJTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvRXZlbnRIYW5kbGVyU2VydmljZSc7XG5pbXBvcnQge1JPT01MRV9UWVBFLFJvb21sZVR5cGVTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9Sb29tbGVUeXBlU2VydmljZSc7XG5pbXBvcnQge1NldHRpbmdzU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvU2V0dGluZ3NTZXJ2aWNlJztcblxuZXhwb3J0IGludGVyZmFjZSBJUm9vbWxlVHlwZSB7XG4gICAgaXRlbTogUk9PTUxFX1RZUEUsXG4gICAgY29uZmlndXJhdGlvbjogUk9PTUxFX1RZUEUsXG4gICAgcGxhbjogUk9PTUxFX1RZUEUsXG59XG5cbmV4cG9ydCBjbGFzcyBSb29tbGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cbiAgICBwcml2YXRlIGlkOnN0cmluZyA9IG51bGw7XG4gICAgcHJpdmF0ZSB0eXBlOlJPT01MRV9UWVBFID0gbnVsbDtcbiAgICBwcml2YXRlIHRlbXBsYXRlOnN0cmluZztcblxuICAgIHByaXZhdGUgZG9tQnVpbGRlciA9IDxEb21CdWlsZGVyU2VydmljZT5Eb21CdWlsZGVyU2VydmljZS5pbmplY3QoKTtcblxuICAgIHByaXZhdGUgYWRkQnV0dG9ucyh0eXBlOlJPT01MRV9UWVBFKSB7XG4gICAgICAgIGlmIChTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuY3JlYXRlTm9CdXR0b25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLiQoKTtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJ1dHRvbnMgPSB0aGlzLmRvbUJ1aWxkZXIuZ2V0QnV0dG9ucyh0eXBlKTtcbiAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidXR0b25zKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50OkVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpZFNlbGVjdG9yID0gU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmRhdGFTZWxlY3Rvci5pZDtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVTZWxlY3RvciA9IFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5kYXRhU2VsZWN0b3IudHlwZTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShpZFNlbGVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFJvb21sZVR5cGVTZXJ2aWNlLmNvbnZlcnRUeXBlVG9FbnVtKGVsZW1lbnQuZ2V0QXR0cmlidXRlKHR5cGVTZWxlY3RvcikpO1xuICAgICAgICAgICAgaWYgKHRoaXMudHlwZSAhPT0gbnVsbCAmJiB0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRCdXR0b25zKHRoaXMudHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8qKlxuICogR2VuZXJpYyBjb250cm9sbGVyIGNsYXNzIHRvIGVudGNhcHN1bGF0ZSB0aGUgcGFyc2luZ1xuICogYW5kIG90aGVyIGdlbmVyaWMgc3R1ZmZcbiAqXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgQ29udHJvbGxlclxuICovXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RvciB3aGljaCB3aWxsIGJlIG92ZXJ3cml0dGVuIGZyb20gdGhlXG4gICAgICogb3RoZXIgQ29udHJvbGxlcnMgc28gdGhlIHBhcnNlIGZ1bmN0aW9uXG4gICAgICogY2FuIGRpcmVjdGx5IHF1ZXJ5IGFjY29yZGluZyB0byB0aGF0IHNlbGVjdG9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIHNlbGVjdG9yOnN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEluc3RhbmNlcyBvZiB0aGUgQ29udHJvbGxlclxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtBcnJheTxDb250cm9sbGVyPn1cbiAgICAgKi9cbiAgICBzdGF0aWMgX2luc3RhbmNlczpBcnJheTxDb250cm9sbGVyPiA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogSFRNTCBhdHRyaWJ1dGUgdG8gbWFyayBlbGVtZW50cyB3aGljaCBhcmUgYWxyZWFkeSBwYXJzZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBzdGF0aWMgUEFSU0VfSURfQVRUUklCVVRFID0gJ2RhdGEtcGFyc2UtaWQnO1xuXG4gICAgLyoqXG4gICAgICogRWxlbWVudCB3aGVyZSB0aGUgaW5zdGFuY2UgaXMgYXBwbGllZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKi9cbiAgICBwcml2YXRlIF9lbGVtZW50OkVsZW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBBY2Nlc3MgZWxlbWVudCBvciBxdWVyeSBieSBzZWxlY3RvclxuICAgICAqL1xuICAgICQoKTpIVE1MRWxlbWVudDtcbiAgICAkKHNlbGVjdG9yOnN0cmluZyk6Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgJChzZWxlY3Rvcj86c3RyaW5nKTpIVE1MRWxlbWVudCB8IE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+IHtcbiAgICAgICAgaWYgKCEodGhpcy5fZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgY29udHJvbGxlciBoYXMgbm8gZWxlbWVudCEnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZWN0b3IgPyA8Tm9kZUxpc3RPZjxIVE1MRWxlbWVudD4+dGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSA6IDxIVE1MRWxlbWVudD50aGlzLl9lbGVtZW50O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIENvbnRyb2xsZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHJvb3QgVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGNvbnRyb2xsZXIgaGFzIGJlZW4gYXBwbGllZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQ6RWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXRDb250cm9sbGVyc0J5Q2xhc3MoY29udHJvbGxlckNsYXNzOkZ1bmN0aW9uKTpBcnJheTxDb250cm9sbGVyPiB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlczpBcnJheTxDb250cm9sbGVyPiA9IENvbnRyb2xsZXIuX2luc3RhbmNlcztcbiAgICAgICAgY29uc3QgcmVzdWx0OkFycmF5PENvbnRyb2xsZXI+ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBtYXggPSBpbnN0YW5jZXMubGVuZ3RoOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpbnN0YW5jZSA9IGluc3RhbmNlc1tpXTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSBpbnN0YW5jZW9mIGNvbnRyb2xsZXJDbGFzcykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvb2sgZm9yIHJ1bm5pbmcgY29kZSBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtOb2RlTGlzdE9mPEVsZW1lbnQ+fSBlbGVtZW50cyBMaXN0IG9mIGVsZW1lbnRzIHdoZXJlIHRoZSBjb250cm9sbGVyIHdpbGwgYmUgYXBwbGllZFxuICAgICAqL1xuICAgIHN0YXRpYyBiZWZvcmVJbnN0YW50aWF0aW5nKGVsZW1lbnRzOk5vZGVMaXN0T2Y8RWxlbWVudD4pOnZvaWQge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvb2sgZm9yIHJ1bm5pbmcgY29kZSBhZnRlciB0aGUgY29udHJvbGxlciBoYXMgYmVlbiBpbnN0YW50aWF0ZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtOb2RlTGlzdE9mPEVsZW1lbnQ+fSBlbGVtZW50cyBMaXN0IG9mIGVsZW1lbnRzIHdoZXJlIHRoZSBjb250cm9sbGVyIGhhcyBiZWVuIGFwcGxpZWRcbiAgICAgKiBAcGFyYW0ge0FycmF5PENvbnRyb2xsZXI+fSBpbnN0YW5jZXMgTGlzdCBvZiBjb250cm9sbGVyIGluc3RhbmNlcyBjcmVhdGVkXG4gICAgICovXG4gICAgc3RhdGljIGFmdGVySW5zdGFudGlhdGluZyhlbGVtZW50czpOb2RlTGlzdE9mPEVsZW1lbnQ+LCBpbnN0YW5jZXM6QXJyYXk8Q29udHJvbGxlcj4pOnZvaWQge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvb2sgZm9yIGVsZW1lbnRzIHdpdGggYSBzcGVjaWZpYyBzZWxlY3RvciBhbmQgY3JlYXRlcyBhbiBpbnN0YW5jZSBmb3JcbiAgICAgKiBldmVyeSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBEb20gc2VsZWN0b3JcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtyb290PWRvY3VtZW50LmJvZHldIFN0YXJ0aW5nIGVsZW1lbnQgZm9yIHBhcnNpbmdcbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2Uoc2VsZWN0b3I/OnN0cmluZywgcm9vdDpFbGVtZW50ID0gZG9jdW1lbnQuYm9keSk6dm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZWxlY3RvciA9PT0gJ3N0cmluZycgJiYgdGhpcy5zZWxlY3Rvci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcjtcbiAgICAgICAgfSBlbHNlIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50czpOb2RlTGlzdE9mPEVsZW1lbnQ+ID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5iZWZvcmVJbnN0YW50aWF0aW5nKGVsZW1lbnRzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudDpFbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gL15mdW5jdGlvblxccysoW1xcd1xcJF0rKVxccypcXCgvLmV4ZWModGhpcy50b1N0cmluZygpKVsxXTtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKENvbnRyb2xsZXIuUEFSU0VfSURfQVRUUklCVVRFICsgJy0nICsgY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoQ29udHJvbGxlci5QQVJTRV9JRF9BVFRSSUJVVEUgKyAnLScgKyBjbGFzc05hbWUsIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwICsgMSkgKiBEYXRlLm5vdygpICsgJycpO1xuICAgICAgICAgICAgQ29udHJvbGxlci5faW5zdGFuY2VzLnB1c2gobmV3IHRoaXMoZWxlbWVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZnRlckluc3RhbnRpYXRpbmcoZWxlbWVudHMsIENvbnRyb2xsZXIuX2luc3RhbmNlcyk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBTaW1wbGUgU2luZ2VsdG9uIFNlcnZpY2UgaW1wbGVtZW50YXRpb25cbiAqIHdoaWNoIHdpbGwgYmUgZXh0ZW5kZWQgYnkgdGhlIG90aGVyIFNlcnZpY2VzIGxpa2VcbiAqIC0gRGF0YVNlcml2Y2VcbiAqIC0gVGVtcGxhdGVTZXJ2aWNlXG4gKiAtIC4uLlxuICpcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBTZXJ2aWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2aWNlIHtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIG9mIHRoZSBTZXJ2aWNlIGFzIHNpbmdsZXRvblxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtTZXJ2aWNlfVxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogU2VydmljZTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb3IgY3JlYXRlcyBhIG5ld1xuICAgICAqIG9uZSBpZiB0aGVyZSBpc24ndCBhbHJlYWR5IGFuIGluc3RhbmNlIGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmV0dXJucyB7U2VydmljZX0gSW5zdGFuY2Ugb2YgdGhlIGN1cnJlbnQgU2VydmljZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBTZXJ2aWNlIHtcbiAgICAgICAgaWYgKCEodGhpcy5faW5zdGFuY2UgaW5zdGFuY2VvZiBTZXJ2aWNlKSkge1xuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOYW1pbmcgV3JhcHBlciBmb3IgdGhlIGdldEluc3RhbmNlKCkgZnVuY3Rpb25cbiAgICAgKiBiZWNhdXNlIGluamVjdCBzb3VuZHMgY29vbGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEByZXR1cm5zIHtTZXJ2aWNlfSBJbnN0YW5jZSBvZiB0aGUgY3VycmVudCBTZXJ2aWNlXG4gICAgICovXG4gICAgc3RhdGljIGluamVjdCgpOiBTZXJ2aWNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge01vYmlsZURldGVjdFNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvTW9iaWxlRGV0ZWN0U2VydmljZSc7XG5pbXBvcnQge1Jvb21sZUJ1dHRvbn0gZnJvbSAnLi9Sb29tbGVCdXR0b24nO1xuaW1wb3J0IHtSb29tbGVCdXR0b25TZXR0aW5nc30gZnJvbSAnLi9zZXJ2aWNlcy9TZXR0aW5nc1NlcnZpY2UnO1xuXG5jb25zdCBtb2JpbGVEZXRlY3Q6TW9iaWxlRGV0ZWN0U2VydmljZSA9IDxNb2JpbGVEZXRlY3RTZXJ2aWNlPk1vYmlsZURldGVjdFNlcnZpY2UuaW5qZWN0KCk7XG5tb2JpbGVEZXRlY3QuaXNJT1MoKTtcbmlmICghKDxhbnk+d2luZG93KS5Qcm9taXNlKSB7XG5cbiAgICBjb25zdCBzY3JpcHRJZCA9ICdybWwtYnV0dG9uLWxpYic7XG4gICAgY29uc3Qgc2NyaXB0ID0gPEhUTUxFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNjcmlwdElkKTtcbiAgICBjb25zdCBocmVmID0gc2NyaXB0LmdldEF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIGNvbnN0IHVybCA9IGhyZWYuc2xpY2UoMCwgaHJlZi5sYXN0SW5kZXhPZignLycpKTtcblxuICAgIGVsZW1lbnQub25sb2FkID0gKCk9PiBSb29tbGVCdXR0b24uZ2V0SW5zdGFuY2UoKDxhbnk+d2luZG93KS5Sb29tbGVCdXR0b25TZXR0aW5ncyk7XG4gICAgZWxlbWVudC5vbmVycm9yID0gKGVycm9yKT0+Um9vbWxlQnV0dG9uLmdldEluc3RhbmNlKCg8YW55PndpbmRvdykuUm9vbWxlQnV0dG9uU2V0dGluZ3MpO1xuICAgIGVsZW1lbnQuYXN5bmMgPSB0cnVlO1xuICAgIGVsZW1lbnQuc3JjID0gdXJsICsgJy9lczYtcHJvbWlzZS5taW4uanMnO1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvamF2YXNjcmlwdCcpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG59IGVsc2Uge1xuICAgIFJvb21sZUJ1dHRvbi5nZXRJbnN0YW5jZSgoPGFueT53aW5kb3cpLlJvb21sZUJ1dHRvblNldHRpbmdzKTtcbn1cbiIsImltcG9ydCB7U2VydmljZX0gZnJvbSAnLi4vbGliL1NlcnZpY2UnO1xuaW1wb3J0IHtFbnVtRXh9IGZyb20gJy4uL3V0aWxzL0VudW1FeCc7XG5cbmV4cG9ydCBlbnVtIEJVVFRPTl9UWVBFIHtcbiAgICBUUklHR0VSLFxuICAgIEFERCxcbiAgICBWSVNVQUxJWkUsXG4gICAgQ09ORklHVVJFLFxuICAgIEFSLFxuICAgIE1BUkssXG4gICAgU1RBUlRfTk9XLFxuICAgIFZSXG59XG5cbmV4cG9ydCBjbGFzcyBCdXR0b25zU2VydmljZSBleHRlbmRzIFNlcnZpY2Uge1xuICAgIHB1YmxpYyBhdmFpbGFibGVCdXR0b25zOkFycmF5PEJVVFRPTl9UWVBFPjtcblxuICAgIHN0YXRpYyBjb252ZXJ0QnV0dG9uVHlwZVRvRW51bShidXR0b25UeXBlOnN0cmluZyk6QlVUVE9OX1RZUEUge1xuXG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSAndHJpZ2dlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBCVVRUT05fVFlQRS5UUklHR0VSO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09ICdhZGQnKSB7XG4gICAgICAgICAgICByZXR1cm4gQlVUVE9OX1RZUEUuQUREO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09ICdhcicpIHtcbiAgICAgICAgICAgIHJldHVybiBCVVRUT05fVFlQRS5BUjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSAnY29uZmlndXJlJykge1xuICAgICAgICAgICAgcmV0dXJuIEJVVFRPTl9UWVBFLkNPTkZJR1VSRTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSAnbWFyaycpIHtcbiAgICAgICAgICAgIHJldHVybiBCVVRUT05fVFlQRS5NQVJLO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09ICd2aXN1YWxpemUnKSB7XG4gICAgICAgICAgICByZXR1cm4gQlVUVE9OX1RZUEUuVklTVUFMSVpFO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09ICd2cicpIHtcbiAgICAgICAgICAgIHJldHVybiBCVVRUT05fVFlQRS5WUjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSAnc3RhcnRfbm93Jykge1xuICAgICAgICAgICAgcmV0dXJuIEJVVFRPTl9UWVBFLlNUQVJUX05PVztcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gVVNFRCBUTyBERUZJTkUgSE9PS1MgRk9SIE9VVFNJREUgVFMgV09STEQuIEFSIElTIE5JQ0VSIFRIQU4gXCIwXCJcbiAgICBzdGF0aWMgY29udmVydEJ1dHRvblR5cGUoYnV0dG9uVHlwZTpCVVRUT05fVFlQRSk6c3RyaW5nIHtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLlRSSUdHRVIpIHtcbiAgICAgICAgICAgIHJldHVybiAndHJpZ2dlcic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuQUREKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2FkZCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuQVIpIHtcbiAgICAgICAgICAgIHJldHVybiAnYXInO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLkNPTkZJR1VSRSkge1xuICAgICAgICAgICAgcmV0dXJuICdjb25maWd1cmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLk1BUkspIHtcbiAgICAgICAgICAgIHJldHVybiAnbWFyayc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuVklTVUFMSVpFKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3Zpc3VhbGl6ZSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuVlIpIHtcbiAgICAgICAgICAgIHJldHVybiAndnInO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLlNUQVJUX05PVykge1xuICAgICAgICAgICAgcmV0dXJuICdzdGFydF9ub3cnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYXZhaWxhYmxlQnV0dG9ucyA9IEVudW1FeC5nZXRWYWx1ZXMoQlVUVE9OX1RZUEUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7U2VydmljZX0gZnJvbSAnLi4vbGliL1NlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgQ29uc29sZVNlcnZpY2UgZXh0ZW5kcyBTZXJ2aWNlIHtcbiAgICBzdGF0aWMgbG9nKC4uLmFyZ3M6QXJyYXk8YW55Pikge1xuICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgd2FybiguLi5hcmdzOkFycmF5PGFueT4pIHtcbiAgICAgICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH1cblxuICAgIHN0YXRpYyBlcnJvciguLi5hcmdzOkFycmF5PGFueT4pIHtcbiAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7U2VydmljZX0gZnJvbSAnLi4vbGliL1NlcnZpY2UnO1xuaW1wb3J0IHsgTW9iaWxlRGV0ZWN0U2VydmljZSB9IGZyb20gJy4vTW9iaWxlRGV0ZWN0U2VydmljZSc7XG5pbXBvcnQge1NldHRpbmdzU2VydmljZX0gZnJvbSAnLi9TZXR0aW5nc1NlcnZpY2UnO1xuaW1wb3J0IHtCVVRUT05fVFlQRSwgQnV0dG9uc1NlcnZpY2V9IGZyb20gJy4vQnV0dG9uc1NlcnZpY2UnO1xuaW1wb3J0IHtST09NTEVfVFlQRSxSb29tbGVUeXBlU2VydmljZX0gZnJvbSAnLi9Sb29tbGVUeXBlU2VydmljZSc7XG5pbXBvcnQge0V2ZW50SGFuZGxlclNlcnZpY2V9IGZyb20gJy4vRXZlbnRIYW5kbGVyU2VydmljZSc7XG5pbXBvcnQge0ljb25zU2VydmljZX0gZnJvbSAnLi9JY29uc1NlcnZpY2UnO1xuaW1wb3J0IHtDb25zb2xlU2VydmljZX0gZnJvbSAnLi9Db25zb2xlU2VydmljZSc7XG5pbXBvcnQge0RlZXBMaW5rfSBmcm9tICcuL01vYmlsZURldGVjdFNlcnZpY2UnO1xuaW1wb3J0IHtNb2JpbGVSZWRpcmVjdFNlcnZpY2V9IGZyb20gJy4vTW9iaWxlUmVkaXJlY3RTZXJ2aWNlJztcbmltcG9ydCB7UG9wdXBDb250cm9sbGVyfSBmcm9tICcuLi9jb250cm9sbGVycy9Qb3B1cENvbnRyb2xsZXInO1xuaW1wb3J0IHtSZXF1ZXN0U2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvUmVxdWVzdFNlcnZpY2UnO1xuaW1wb3J0IHtFbnZpcm9ubWVudH0gZnJvbSAnLi4vY29uZmlnL0Vudmlyb25tZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBJRG9tQnVpbGRlckNhY2hlQnV0dG9uIHtcbiAgICB0eXBlOiBCVVRUT05fVFlQRSxcbiAgICBlbGVtZW50OiBOb2RlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgYnVpbGRMaW5rT3B0aW9ucyB7XG4gICAgaXNIaWdobGlnaHRlZD86Ym9vbGVhbixcbiAgICBidWlsZEFueXdheT86Ym9vbGVhbixcbiAgICBzbGlkZU1vZGU/OmJvb2xlYW4sXG4gICAgY2xpY2tlZEhpbnQ/OkZ1bmN0aW9uXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURvbUJ1aWxkZXJDYWNoZUVsZW1lbnQge1xuICAgIGZyYWdtZW50OiBEb2N1bWVudEZyYWdtZW50LFxuICAgIGJ1dHRvbnM6IEFycmF5PElEb21CdWlsZGVyQ2FjaGVCdXR0b24+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURvbUJ1aWxkZXJCdXR0b25zIHtcbiAgICBodG1sOiBOb2RlLFxuICAgIGVsZW1lbnRzOiBBcnJheTxJRG9tQnVpbGRlckNhY2hlQnV0dG9uPlxufVxuXG5leHBvcnQgY2xhc3MgRG9tQnVpbGRlclNlcnZpY2UgZXh0ZW5kcyBTZXJ2aWNlIHtcblxuICAgIHByaXZhdGUgbW9iaWxlRGV0ZWN0Ok1vYmlsZURldGVjdFNlcnZpY2UgPSA8TW9iaWxlRGV0ZWN0U2VydmljZT5Nb2JpbGVEZXRlY3RTZXJ2aWNlLmluamVjdCgpO1xuICAgIHByaXZhdGUgYnV0dG9uc1NlcnZpY2U6QnV0dG9uc1NlcnZpY2UgPSA8QnV0dG9uc1NlcnZpY2U+QnV0dG9uc1NlcnZpY2UuaW5qZWN0KCk7XG4gICAgcHJpdmF0ZSBpY29uc1NlcnZpY2U6SWNvbnNTZXJ2aWNlID0gPEljb25zU2VydmljZT5JY29uc1NlcnZpY2UuaW5qZWN0KCk7XG4gICAgcHJpdmF0ZSBtb2JpbGVSZWRpcmVjdFNlcnZpY2U6TW9iaWxlUmVkaXJlY3RTZXJ2aWNlID0gPE1vYmlsZVJlZGlyZWN0U2VydmljZT5Nb2JpbGVSZWRpcmVjdFNlcnZpY2UuaW5qZWN0KCk7XG4gICAgcHJpdmF0ZSByZXF1ZXN0U2VydmljZTpSZXF1ZXN0U2VydmljZSA9IDxSZXF1ZXN0U2VydmljZT5SZXF1ZXN0U2VydmljZS5pbmplY3QoKTtcblxuICAgIHByaXZhdGUgZWxlbWVudENhY2hlOntba2V5Om51bWJlcl06IERvY3VtZW50RnJhZ21lbnR9ID0ge307XG4gICAgcHJpdmF0ZSBidXR0b25zQ2FjaGU6e1trZXk6c3RyaW5nXTogRG9jdW1lbnRGcmFnbWVudH0gPSB7fTtcbiAgICBwcml2YXRlIHNob3J0TGlua0NhY2hlOntba2V5OnN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuICAgIHByaXZhdGUgd2FpdGluZ0ZvclNob3J0TGluazpib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNTUyhjc3M6e1trZXk6c3RyaW5nXTpzdHJpbmd9KSB7XG4gICAgICAgIGxldCBzdHJpbmcgPSAnJztcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gY3NzKSB7XG4gICAgICAgICAgICBpZiAoY3NzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIHN0cmluZyArPSBwcm9wZXJ0eSArICc6JyArIGNzc1twcm9wZXJ0eV0gKyAnOyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkQ1NTKCkge1xuICAgICAgICBpZiAoU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmNyZWF0ZU5vQnV0dG9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBidXR0b25zQ1NTID0gdGhpcy5jcmVhdGVDU1MoU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmNzcy5idXR0b25zKTtcbiAgICAgICAgYnV0dG9uc0NTUyA9ICcuJyArIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5odG1sLmNvbnRhaW5lckNsYXNzICsgJ3snICsgYnV0dG9uc0NTUyArICd2aXNpYmlsaXR5OiBoaWRkZW47fSc7XG5cbiAgICAgICAgbGV0IGl0ZW1DU1MgPSB0aGlzLmNyZWF0ZUNTUyhTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuY3NzLml0ZW0pO1xuICAgICAgICBpdGVtQ1NTID0gU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLnNlbGVjdG9yICsgJ3snICsgaXRlbUNTUyArICd9JztcblxuICAgICAgICBjb25zdCBpbmxpbmVDc3MgPSAnLnJtbC1tZC1tb2RhbHt2aXNpYmlsaXR5OmhpZGRlbjt9JztcblxuICAgICAgICBjb25zdCBjc3MgPSBidXR0b25zQ1NTICsgaXRlbUNTUyArIGlubGluZUNzcztcblxuICAgICAgICBsZXQgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICAgICAgbGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcbiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cbiAgICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZChjYWNoZUtleTpCVVRUT05fVFlQRSwgY29udGVudDpzdHJpbmcpOkhUTUxFbGVtZW50IHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRDYWNoZVtjYWNoZUtleV0pIHtcbiAgICAgICAgICAgIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGxldCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmh0bWwuYnV0dG9uRWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCBidXR0b25UeXBlOnN0cmluZyA9IEJ1dHRvbnNTZXJ2aWNlLmNvbnZlcnRCdXR0b25UeXBlKGNhY2hlS2V5KTtcbiAgICAgICAgICAgIGxpLnNldEF0dHJpYnV0ZShTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuZGF0YVNlbGVjdG9yLmFjdGlvbiwgYnV0dG9uVHlwZSk7XG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRDYWNoZVtjYWNoZUtleV0gPSBmcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPEhUTUxFbGVtZW50PnRoaXMuZWxlbWVudENhY2hlW2NhY2hlS2V5XS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFRyaWdnZXIoKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gQlVUVE9OX1RZUEUuVFJJR0dFUjtcbiAgICAgICAgbGV0IGJ1dHRvblR5cGVTdHIgPSBCdXR0b25zU2VydmljZS5jb252ZXJ0QnV0dG9uVHlwZShjYWNoZUtleSk7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50Q2FjaGVbY2FjaGVLZXldKSB7XG4gICAgICAgICAgICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICBsZXQgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5odG1sLmJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5kYXRhU2VsZWN0b3IuYWN0aW9uLCBidXR0b25UeXBlU3RyKTtcbiAgICAgICAgICAgIGNvbnN0IGljb24gPSB0aGlzLmljb25zU2VydmljZS5jcmVhdGUoYnV0dG9uVHlwZVN0cik7XG4gICAgICAgICAgICAvL2xldCBjb250ZW50Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnRlbnQpO1xuICAgICAgICAgICAgLy9saS5hcHBlbmRDaGlsZChjb250ZW50Tm9kZSk7XG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChpY29uKTtcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGxpKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudENhY2hlW2NhY2hlS2V5XSA9IGZyYWdtZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiA8SFRNTEVsZW1lbnQ+dGhpcy5lbGVtZW50Q2FjaGVbY2FjaGVLZXldLmNsb25lTm9kZSh0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUG9wVXBEb20oKTpFbGVtZW50IHtcbiAgICAgICAgY29uc3QgcG9wVXAgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXJtbC1kZWVwbGluay1wb3B1cC1jb250YWluZXJdJyk7XG4gICAgICAgIGlmIChwb3BVcCAmJiBwb3BVcC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9wVXBbMF07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXJtbC1kZWVwbGluay1wb3B1cC1jb250YWluZXInLCAnJyk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdybWwtYnRuJyk7XG4gICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdybWwtbWQtbW9kYWwnKTtcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgncm1sLXBvcHVwJyk7XG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ3JtbC1tZC1lZmZlY3QtMScpO1xuICAgICAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm1sLWRlZXBsaW5rLXBvcHVwJywgJycpO1xuICAgICAgICBsZXQgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ3JtbC1tZC1jb250ZW50Jyk7XG4gICAgICAgIGxldCBjbG9zZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2xvc2VyLmNsYXNzTGlzdC5hZGQoJ3JtbC1wb3B1cC0tY2xvc2UnKTtcbiAgICAgICAgbGV0IGJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYmFjay5jbGFzc0xpc3QuYWRkKCdybWwtcG9wdXAtLWJhY2snKTtcblxuICAgICAgICBsZXQgbGlua3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGlua3MuY2xhc3NMaXN0LmFkZCgncm1sLWdlbmVyYXRlZC1jb250ZW50Jyk7XG5cblxuICAgICAgICBsZXQgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3JtbC1tZC1vdmVybGF5Jyk7XG5cbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChjbG9zZXIpO1xuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGJhY2spO1xuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKGxpbmtzKTtcbiAgICAgICAgbW9kYWwuYXBwZW5kQ2hpbGQoY29udGVudCk7XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1vZGFsKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBidWlsZEN1c3RvbVBvcFVwKGNvbnRlbnQ6SFRNTEVsZW1lbnQsIHBhcmVudDpFbGVtZW50ID0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmJ1aWxkUG9wVXBEb20oKTtcbiAgICAgICAgbGV0IGNvbnRlbnREaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLnJtbC1tZC1jb250ZW50JylbMF07XG4gICAgICAgIGxldCBvbGRDb250ZW50ID0gY29udGVudERpdi5xdWVyeVNlbGVjdG9yKCcucm1sLWdlbmVyYXRlZC1jb250ZW50Jyk7XG4gICAgICAgIG9sZENvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICBvbGRDb250ZW50LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvcFVwID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ybWwtZGVlcGxpbmstcG9wdXAtY29udGFpbmVyXScpO1xuICAgICAgICBpZiAoIXBvcFVwIHx8IHBvcFVwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZVNlbGVjdG9yID0gU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLnNlbGVjdG9yO1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICAgICAgUG9wdXBDb250cm9sbGVyLnBhcnNlKGluc3RhbmNlU2VsZWN0b3IsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGJ1aWxkUG9wVXAocGFyZW50OkVsZW1lbnQgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuYnVpbGRQb3BVcERvbSgpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkQWRkVG9QbGFuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZChCVVRUT05fVFlQRS5BREQsICdQbGFuJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFZpc3VhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGQoQlVUVE9OX1RZUEUuVklTVUFMSVpFLCAnVmlzdWFsaXplJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZENvbmZpZ3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGQoQlVUVE9OX1RZUEUuQ09ORklHVVJFLCAnQ29uZmlndXJlJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZEFSKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZChCVVRUT05fVFlQRS5BUiwgJ0F1Z21lbnRlZCBSZWFsaXR5Jyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZE1hcmsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkKEJVVFRPTl9UWVBFLk1BUkssICdNYXJrJyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFZSKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZChCVVRUT05fVFlQRS5WUiwgJ1ZpcnR1YWwgUmVhbGl0eScpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRCdXR0b25zKHR5cGU6Uk9PTUxFX1RZUEUpOk5vZGUge1xuICAgICAgICBsZXQgY2FjaGVLZXk6c3RyaW5nID0gJyc7XG4gICAgICAgIHRoaXMuYnV0dG9uc1NlcnZpY2UuYXZhaWxhYmxlQnV0dG9ucy5mb3JFYWNoKChidXR0b25UeXBlKT0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vYmlsZURldGVjdC5nZW5lcmF0ZUxpbmsoJycsIHR5cGUsIGJ1dHRvblR5cGUpKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVLZXkgKz0gYnV0dG9uVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5idXR0b25zQ2FjaGVbY2FjaGVLZXldKSB7XG4gICAgICAgICAgICBsZXQgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuaHRtbC5jb250YWluZXJUeXBlKTtcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5odG1sLmNvbnRhaW5lckNsYXNzKTtcblxuICAgICAgICAgICAgbGV0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuaHRtbC5idXR0b25zQ29udGFpbmVyKTtcbiAgICAgICAgICAgIGxldCBvbmVBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnNTZXJ2aWNlLmF2YWlsYWJsZUJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uVHlwZSk9PiB7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGluayA9IHRoaXMubW9iaWxlRGV0ZWN0LmdlbmVyYXRlTGluaygnJywgdHlwZSwgYnV0dG9uVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5zaG93T25seVRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgb25lQWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChidXR0b25UeXBlID09PSBCVVRUT05fVFlQRS5BREQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFkZCA9IHRoaXMuYnVpbGRBZGRUb1BsYW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQoYWRkKTtcbiAgICAgICAgICAgICAgICAgICAgb25lQWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChidXR0b25UeXBlID09PSBCVVRUT05fVFlQRS5BUikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXIgPSB0aGlzLmJ1aWxkQVIoKTtcbiAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQoYXIpO1xuICAgICAgICAgICAgICAgICAgICBvbmVBZGRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLkNPTkZJR1VSRSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29uZiA9IHRoaXMuYnVpbGRDb25maWd1cmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQoY29uZik7XG4gICAgICAgICAgICAgICAgICAgIG9uZUFkZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuTUFSSykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWFyayA9IHRoaXMuYnVpbGRNYXJrKCk7XG4gICAgICAgICAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKG1hcmspO1xuICAgICAgICAgICAgICAgICAgICBvbmVBZGRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLlZJU1VBTElaRSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmlzID0gdGhpcy5idWlsZFZpc3VhbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICB1bC5hcHBlbmRDaGlsZCh2aXMpO1xuICAgICAgICAgICAgICAgICAgICBvbmVBZGRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLlZSKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ciA9IHRoaXMuYnVpbGRWUigpO1xuICAgICAgICAgICAgICAgICAgICB1bC5hcHBlbmRDaGlsZCh2cik7XG4gICAgICAgICAgICAgICAgICAgIG9uZUFkZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBDb25zb2xlU2VydmljZS5lcnJvcignQnV0dG9uVHlwZSBcIicgKyBidXR0b25UeXBlICsgJ1wiIHVua25vd24nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAob25lQWRkZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gdGhpcy5idWlsZFRyaWdnZXIoKTtcbiAgICAgICAgICAgICAgICB1bC5pbnNlcnRCZWZvcmUodHJpZ2dlciwgdWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnNDYWNoZVtjYWNoZUtleV0gPSBmcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idXR0b25zQ2FjaGVbY2FjaGVLZXldLmNsb25lTm9kZSh0cnVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QnV0dG9ucyh0eXBlOlJPT01MRV9UWVBFKTpOb2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRCdXR0b25zKHR5cGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGREZWVwbGluayh0eXBlOlJPT01MRV9UWVBFLCBpZDpzdHJpbmcpIHtcbiAgICAgICAgbGV0IHNob3J0ZW5JZCA9IDE7XG4gICAgICAgIGlmICh0eXBlID09PSBST09NTEVfVFlQRS5DT05GSUdVUkFUSU9OKSB7XG4gICAgICAgICAgICBzaG9ydGVuSWQgPSAzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBST09NTEVfVFlQRS5DT05GSUdVUkFCTEVfSVRFTSB8fCB0eXBlID09PSBST09NTEVfVFlQRS5JVEVNKSB7XG4gICAgICAgICAgICBzaG9ydGVuSWQgPSA0XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBhcGlLZXkgPSAncm9vbWxlX3BvcnRhbF92Mic7XG4gICAgICAgIGxldCB0b2tlbkVuY29kZWQgPSB0b2RheS50b0lTT1N0cmluZygpICsgJzsnICsgdG9rZW4gKyAnOycgKyBhcGlLZXk7XG4gICAgICAgIHRva2VuRW5jb2RlZCA9ICcwMy0nICsgd2luZG93LmJ0b2EodG9rZW5FbmNvZGVkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdFNlcnZpY2UuZmV0Y2hKU09OKEVudmlyb25tZW50LmNvbmZpZy5ybWxjbywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2FwaUtleSc6ICdyb29tbGVfcG9ydGFsX3YyJyxcbiAgICAgICAgICAgICAgICAnY3VycmVudFRlbmFudCc6IDksXG4gICAgICAgICAgICAgICAgJ2xhbmd1YWdlJzogJ2VuJyxcbiAgICAgICAgICAgICAgICAnbG9jYWxlJzogJ2VuJyxcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0b2tlbkVuY29kZWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgc2hvcnRJZDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBzaG9ydGVuSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZWRJZDogaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0F2YWlsYWJsZUxpbmsobGlua1R5cGU6c3RyaW5nKSB7XG4gICAgICAgIGlmIChCdXR0b25zU2VydmljZS5jb252ZXJ0QnV0dG9uVHlwZVRvRW51bShsaW5rVHlwZSkgPT09IEJVVFRPTl9UWVBFLk1BUkspIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQnV0dG9uc1NlcnZpY2UuY29udmVydEJ1dHRvblR5cGVUb0VudW0obGlua1R5cGUpID09PSBCVVRUT05fVFlQRS5TVEFSVF9OT1cpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZURlZXBsaW5rSW5wdXQoY29udGFpbmVyOkVsZW1lbnQsIGxpbms6c3RyaW5nKTpIVE1MSW5wdXRFbGVtZW50IHtcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgbGluayk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgncmVhZG9ubHknLCAncmVhZG9ubHknKTtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZTpFdmVudCk9PiB7XG4gICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaW5wdXQuc2VsZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDb3B5U3ZnKGNvbnRhaW5lcjpFbGVtZW50LCBpbnB1dDpIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuZXhlY0NvbW1hbmQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb3B5U3ZnID0gdGhpcy5pY29uc1NlcnZpY2UuY3JlYXRlQ29weSgpO1xuICAgICAgICBjb3B5U3ZnLmNsYXNzTGlzdC5hZGQoJ3JtbC1jbGlja2FibGUnKTtcbiAgICAgICAgY29weVN2Zy5jbGFzc0xpc3QuYWRkKCdybWwtZmFrZS1saW5rJyk7XG4gICAgICAgIGNvcHlTdmcuY2xhc3NMaXN0LmFkZCgncm1sLWljb25zX19jb3B5Jyk7XG4gICAgICAgIGNvcHlTdmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoLypldmVudDpFdmVudCovKT0+IHtcbiAgICAgICAgICAgIGlucHV0LnNlbGVjdCgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29weVN2Zyk7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkU2hvcnRsaW5rKGVsZW1lbnQ6RWxlbWVudCwgdHlwZTpST09NTEVfVFlQRSwgYnV0dG9uVHlwZTpzdHJpbmcsIGlkOnN0cmluZykge1xuICAgICAgICBsZXQgaDMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ybWwtZGVlcGxpbmstLWxpbmsnKTtcbiAgICAgICAgbGV0IG5lZWRzQXBwZW5kID0gZmFsc2U7XG4gICAgICAgIGlmICghaDMpIHtcbiAgICAgICAgICAgIGgzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgbmVlZHNBcHBlbmQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaDMuY2xhc3NMaXN0LmFkZCgncm1sLWRlZXBsaW5rLS1saW5rJyk7XG4gICAgICAgIGgzLmNsYXNzTGlzdC5hZGQoJ3JtbC1kZWVwbGluay0taGVhZGluZycpO1xuICAgICAgICBoMy5jbGFzc0xpc3QuYWRkKCd0ZXh0LS1yZWQnKTtcbiAgICAgICAgaWYgKG5lZWRzQXBwZW5kKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGgzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHR5cGUgKyAnOicgKyBpZDtcbiAgICAgICAgY29uc3QgY2FjaGVkTGluayA9IHRoaXMuc2hvcnRMaW5rQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgICBpZiAoY2FjaGVkTGluaykge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRDYWNoZWQgPSB0aGlzLmNyZWF0ZURlZXBsaW5rSW5wdXQoaDMsIGNhY2hlZExpbmspO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb3B5U3ZnKGgzLCBpbnB1dENhY2hlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy53YWl0aW5nRm9yU2hvcnRMaW5rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy53YWl0aW5nRm9yU2hvcnRMaW5rID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCdybWwtc3Bpbm5lcicpO1xuICAgICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCdybWwtc3Bpbm5lci0td2hpdGUnKTtcbiAgICAgICAgICAgIGgzLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgICAgICAgICAgdGhpcy5idWlsZERlZXBsaW5rKHR5cGUsIGlkKS50aGVuKChzaG9ydExpbms6YW55KT0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gRW52aXJvbm1lbnQuY29uZmlnLnNob3J0bGluayhSb29tbGVUeXBlU2VydmljZS5jb252ZXJ0Um9vbWxlVHlwZSh0eXBlKSwgaWQsIGJ1dHRvblR5cGUsIHNob3J0TGluay5zaG9ydElkLnNob3J0SWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5jcmVhdGVEZWVwbGlua0lucHV0KGgzLCBsaW5rKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUNvcHlTdmcoaDMsIGlucHV0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3J0TGlua0NhY2hlW2NhY2hlS2V5XSA9IGxpbms7XG4gICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRm9yU2hvcnRMaW5rID0gZmFsc2U7XG4gICAgICAgICAgICB9LCAoKT0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLndhaXRpbmdGb3JTaG9ydExpbmsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBoMy5yZW1vdmVDaGlsZChzcGlubmVyKTtcbiAgICAgICAgICAgICAgICBoMy50ZXh0Q29udGVudCA9IFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy50cmFuc2xhdGlvbnMuZXJyb3JzLmRlZXBsaW5rY3JlYXRlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYnVpbGRMaW5rKGxpbms6RGVlcExpbmssIG9wdGlvbnM6YnVpbGRMaW5rT3B0aW9ucyA9IHt9KTpFbGVtZW50IHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaXNIaWdobGlnaHRlZDogaXNIaWdobGlnaHRlZCA9IGZhbHNlLFxuICAgICAgICAgICAgYnVpbGRBbnl3YXk6YnVpbGRBbnl3YXkgPSBmYWxzZSxcbiAgICAgICAgICAgIHNsaWRlTW9kZTpzbGlkZU1vZGUgPSBmYWxzZSxcbiAgICAgICAgICAgIGNsaWNrZWRIaW50OmNsaWNrZWRIaW50PWZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIH19ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCF0aGlzLmlzQXZhaWxhYmxlTGluayhsaW5rLnR5cGUpICYmICFidWlsZEFueXdheSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLXJvdycpO1xuICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7XG4gICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBsaW5rLmxpbmspO1xuICAgICAgICBsZXQgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGV4dC5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLXRleHQnKTtcbiAgICAgICAgdGV4dC5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLWhlYWRpbmcnKTtcbiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy50cmFuc2xhdGlvbnNbbGluay50eXBlXS5oZWFkaW5nO1xuICAgICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLWljb24nKTtcbiAgICAgICAgY29uc3Qgc3ZnSWNvbiA9IHRoaXMuaWNvbnNTZXJ2aWNlLmNyZWF0ZShsaW5rLnR5cGUpO1xuICAgICAgICBpY29uLmFwcGVuZENoaWxkKHN2Z0ljb24pOyAvLz0gJ2knOy8vU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLnRyYW5zbGF0aW9uc1tsaW5rLnR5cGVdLmljb247XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRleHQpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbik7XG5cbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuY2FsbGJhY2suYnV0dG9uW2xpbmsudHlwZV07XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhsaW5rLmlkLCBSb29tbGVUeXBlU2VydmljZS5jb252ZXJ0Um9vbWxlVHlwZShsaW5rLnJvb21sZVR5cGUpLCBsaW5rLnR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmIChsaW5rLmFsdGVybmF0ZSkge1xuICAgICAgICAgICAgbGV0IGFsdGVybmF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGFsdGVybmF0ZS5jbGFzc0xpc3QuYWRkKCdybWwtZGVlcGxpbmstLWhpbnQnKTtcbiAgICAgICAgICAgIGFsdGVybmF0ZS50ZXh0Q29udGVudCA9IFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy50cmFuc2xhdGlvbnNbbGluay50eXBlXS5oaW50W2xpbmsuYWx0ZXJuYXRlXTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhbHRlcm5hdGUpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6RXZlbnQpPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5jbGFzc0xpc3QuYWRkKCdybWwtaGludF9fc2xpZGUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWx0ZXJuYXRlLmNsYXNzTGlzdC5jb250YWlucygncm1sLWhpbnRfX3Nob3cnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmNsYXNzTGlzdC5yZW1vdmUoJ3JtbC1oaW50X19zaG93Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNob3J0bGluayhhbHRlcm5hdGUsIGxpbmsucm9vbWxlVHlwZSwgbGluay50eXBlLCBsaW5rLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5jbGFzc0xpc3QuYWRkKCdybWwtaGludF9fc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsaWNrZWRIaW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNIaWdobGlnaHRlZCkge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmNsYXNzTGlzdC5hZGQoJ3JtbC1oaW50X19zaG93Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzbGlkZU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZS5jbGFzc0xpc3QuYWRkKCdybWwtaGludF9fc2xpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrZWRIaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNob3J0bGluayhhbHRlcm5hdGUsIGxpbmsucm9vbWxlVHlwZSwgbGluay50eXBlLCBsaW5rLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxpbmsub3MgIT09ICdkZXNrdG9wJykge1xuICAgICAgICAgICAgICAgIHRoaXMubW9iaWxlUmVkaXJlY3RTZXJ2aWNlLmNyZWF0ZURlZXBsaW5rRm9yKGNvbnRhaW5lciwgbGluay5vcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbn1cblxuIiwiaW1wb3J0IHtTZXJ2aWNlfSBmcm9tICcuLi9saWIvU2VydmljZSc7XG5pbXBvcnQge1JPT01MRV9UWVBFLFJvb21sZVR5cGVTZXJ2aWNlfSBmcm9tICcuL1Jvb21sZVR5cGVTZXJ2aWNlJ1xuaW1wb3J0IHtCVVRUT05fVFlQRSwgQnV0dG9uc1NlcnZpY2V9IGZyb20gJy4vQnV0dG9uc1NlcnZpY2UnO1xuaW1wb3J0IHtTZXR0aW5nc1NlcnZpY2V9IGZyb20gJy4vU2V0dGluZ3NTZXJ2aWNlJztcbmltcG9ydCB7TW9iaWxlRGV0ZWN0U2VydmljZX0gZnJvbSAnLi9Nb2JpbGVEZXRlY3RTZXJ2aWNlJztcblxuZXhwb3J0IGVudW0gRVZFTlRfVFlQRVMge1xuICAgIFRSSUdHRVIsXG4gICAgUE9QX1VQX09QRU4sXG4gICAgUE9QX1VQX0NMT1NFXG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZXJTZXJ2aWNlIGV4dGVuZHMgU2VydmljZSB7XG5cbiAgICBwcml2YXRlIG1vYmlsZURldGVjdFNlcnZpY2U6TW9iaWxlRGV0ZWN0U2VydmljZSA9IDxNb2JpbGVEZXRlY3RTZXJ2aWNlPk1vYmlsZURldGVjdFNlcnZpY2UuaW5qZWN0KCk7XG5cbiAgICBwcml2YXRlIHRyaWdnZXJDYWxsYmFja3M6QXJyYXk8RnVuY3Rpb24+ID0gW107XG4gICAgcHJpdmF0ZSBvcGVuUG9wVXBDYWxsYmFja3M6QXJyYXk8RnVuY3Rpb24+ID0gW107XG5cbiAgICBwdWJsaWMgc3Vic2NyaWJlKGV2ZW50OkVWRU5UX1RZUEVTLCBjYWxsYmFjazpGdW5jdGlvbikge1xuICAgICAgICBpZiAoZXZlbnQgPT09IEVWRU5UX1RZUEVTLlRSSUdHRVIpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09IEVWRU5UX1RZUEVTLlBPUF9VUF9PUEVOKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5Qb3BVcENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZmluZFNlbGVjdG9yKGVsZW1lbnQ6SFRNTEVsZW1lbnQsIHNlbGVjdG9yOnN0cmluZywgZGVwdGggPSAwLCBtYXhEZXB0aCA9IDIwKTpFbGVtZW50IHtcbiAgICAgICAgaWYgKG1heERlcHRoID09PSBkZXB0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2hlcyAmJiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7Ly8gfHwgZWxlbWVudC5tYXRjaGVzKCdbJyArIHNlbGVjdG9yICsgJ10nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50IHx8IDxIVE1MRWxlbWVudD5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maW5kU2VsZWN0b3IocGFyZW50LCBzZWxlY3RvciwgZGVwdGggKyAxKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzcGF0Y2hPcGVuUG9wVXAoZTpFdmVudCkge1xuICAgICAgICB0aGlzLm9wZW5Qb3BVcENhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjayk9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRE8gTk9UIFVTRSBFTlVNIEZPUiBUWVBFLCBCRUNBVVNFIENBTExCQUNLUyBBUkUgT04gXCJpdGVtXCIgYW5kIG5vdCBcIjBcIlxuICAgIHB1YmxpYyBkaXNwYXRjaChlOkV2ZW50LCB0eXBlOnN0cmluZywgaWQ6c3RyaW5nLCBidXR0b25UeXBlOkJVVFRPTl9UWVBFLCBoaWdobGlnaHQ6c3RyaW5nID0gbnVsbCwgbmV3V2luZG93OmJvb2xlYW4gPSBmYWxzZSkge1xuXG4gICAgICAgIGNvbnN0IGNsaWNrZWRCdXR0b24gPSBCdXR0b25zU2VydmljZS5jb252ZXJ0QnV0dG9uVHlwZShidXR0b25UeXBlKTtcblxuICAgICAgICBjb25zdCBsaW5rcyA9IHRoaXMubW9iaWxlRGV0ZWN0U2VydmljZS5nZXRMaW5rcyhpZCwgUm9vbWxlVHlwZVNlcnZpY2UuY29udmVydFR5cGVUb0VudW0odHlwZSkpO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuVFJJR0dFUikge1xuICAgICAgICAgICAgY29uc3QgdHJpZ2dlcktleSA9IEJ1dHRvbnNTZXJ2aWNlLmNvbnZlcnRCdXR0b25UeXBlKEJVVFRPTl9UWVBFLlRSSUdHRVIpO1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tUcmlnZ2VyOmFueSA9IFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5jYWxsYmFja1t0cmlnZ2VyS2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2tUcmlnZ2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tUcmlnZ2VyKGUsIGlkLCB0eXBlLCBsaW5rcywgaGlnaGxpZ2h0LCBuZXdXaW5kb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKT0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlLCBpZCwgdHlwZSwgbGlua3MsIGhpZ2hsaWdodCwgbmV3V2luZG93KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrRm9yVHlwZTphbnkgPSBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuY2FsbGJhY2tbdHlwZV07XG4gICAgICAgIGlmIChjYWxsYmFja0ZvclR5cGUgJiYgY2FsbGJhY2tGb3JUeXBlW2NsaWNrZWRCdXR0b25dICYmIHR5cGVvZiBjYWxsYmFja0ZvclR5cGVbY2xpY2tlZEJ1dHRvbl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrRm9yVHlwZVtjbGlja2VkQnV0dG9uXShlLCBpZCwgdHlwZSwgbGlua3MsIGhpZ2hsaWdodCwgbmV3V2luZG93KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RWxlbWVudChwYXJlbnQ6RWxlbWVudCwgc2VsZWN0b3I6c3RyaW5nKTpFbGVtZW50IHtcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1snICsgc2VsZWN0b3IgKyAnXScpO1xuICAgICAgICBpZiAoIWVsZW1lbnRzIHx8IGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5oYXNBdHRyaWJ1dGUoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudHNbMF07XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZShlOkV2ZW50KSB7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0OkhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50PihlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpO1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmZpbmRTZWxlY3Rvcih0YXJnZXQsICdbJyArIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5kYXRhU2VsZWN0b3IuYWN0aW9uICsgJ10nKTtcbiAgICAgICAgaWYgKCFidXR0b24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidXR0b25UeXBlID0gYnV0dG9uLmdldEF0dHJpYnV0ZShTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MuZGF0YVNlbGVjdG9yLmFjdGlvbik7XG4gICAgICAgIGlmIChidXR0b25UeXBlKSB7XG4gICAgICAgICAgICBjb25zdCByb29tbGVFbGVtZW50ID0gdGhpcy5maW5kU2VsZWN0b3IodGFyZ2V0LCBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3Muc2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKCFyb29tbGVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHR5cGVFbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KHJvb21sZUVsZW1lbnQsIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5kYXRhU2VsZWN0b3IudHlwZSk7XG5cbiAgICAgICAgICAgIGxldCB0eXBlOnN0cmluZyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgaWQ6c3RyaW5nID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0eXBlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlRWxlbWVudC5nZXRBdHRyaWJ1dGUoU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmRhdGFTZWxlY3Rvci50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpZEVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQocm9vbWxlRWxlbWVudCwgU2V0dGluZ3NTZXJ2aWNlLnNldHRpbmdzLmRhdGFTZWxlY3Rvci5pZCk7XG4gICAgICAgICAgICBpZiAoaWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWQgPSBpZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5kYXRhU2VsZWN0b3IuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaChlLCB0eXBlLCBpZCwgQnV0dG9uc1NlcnZpY2UuY29udmVydEJ1dHRvblR5cGVUb0VudW0oYnV0dG9uVHlwZSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtTZXJ2aWNlfSBmcm9tICcuLi9saWIvU2VydmljZSc7XG5pbXBvcnQge0J1dHRvbnNTZXJ2aWNlLCBCVVRUT05fVFlQRX0gZnJvbSAnLi9CdXR0b25zU2VydmljZSc7XG5leHBvcnQgY2xhc3MgSWNvbnNTZXJ2aWNlIGV4dGVuZHMgU2VydmljZSB7XG5cbiAgICBzdGF0aWMgU1ZHX05TOnN0cmluZyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbiAgICBwcml2YXRlIGdldFN2ZyhhdHRyaWJ1dGVzPzp7W2tleTpzdHJpbmddOnN0cmluZ30pOkVsZW1lbnQge1xuICAgICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcyB8fCB7fTtcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzWyd3aWR0aCddKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzWyd3aWR0aCddID0gJzY0JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYXR0cmlidXRlc1snaGVpZ2h0J10pIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXNbJ2hlaWdodCddID0gJzY0JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vYXR0cmlidXRlc1sneG1sbnMnXSA9IEljb25zU2VydmljZS5TVkdfTlM7XG5cbiAgICAgICAgbGV0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhJY29uc1NlcnZpY2UuU1ZHX05TLCAnc3ZnJyk7XG4gICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgYXR0cmlidXRlLCBhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXROb2RlKG5hbWU6c3RyaW5nLCBhdHRyaWJ1dGVzPzp7W2tleTpzdHJpbmddOnN0cmluZ30pOkVsZW1lbnQge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhJY29uc1NlcnZpY2UuU1ZHX05TLCBuYW1lKTtcbiAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgYXR0cmlidXRlLCBhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRQbGFuSWNvbihpc1BsdXM6Ym9vbGVhbik6RWxlbWVudCB7XG4gICAgICAgIGxldCBzdmcgPSB0aGlzLmdldFN2Zyh7dmlld0JveDogJzAgMCA1MCA1MCd9KTtcbiAgICAgICAgbGV0IGZpcnN0UGF0aCA9IHRoaXMuZ2V0Tm9kZSgncGF0aCcsIHtcbiAgICAgICAgICAgIGQ6ICdNMzkuNzIsMjMuMTYsMzEsMTcuOTNoMGwtLjM2LS4yMi01LjEzLTMuMDdoMGwtLjM2LS4yMmEuMzMuMzMsMCwwLDAtLjM1LDBsLS4zNi4yMmgwbC0xMy44Nyw4LjNoMGwtLjM2LjIyYS41My41MywwLDAsMCwwLC44NWwuMzYuMjJoMGw1LjEzLDMuMDdoMGwuMzYuMjJoMGw4LjM4LDVoMGwuMjQuMTQuMTIuMDdhLjMzLjMzLDAsMCwwLC4zNSwwTDM5LjcyLDI0YS41My41MywwLDAsMCwwLS44NVptLTUuMDksMi40LTMuMzQtMmEuMzMuMzMsMCwwLDAtLjM1LDBsLS4zNi4yMmEuNTMuNTMsMCwwLDAsMCwuODVsMi44LDEuNjgtOC40Myw1LTcuNDktNC40OCwyLjg5LTEuNzNhLjUzLjUzLDAsMCwwLDAtLjg1bC0uMTgtLjExaDBsLS45MS0uNTRhLjMzLjMzLDAsMCwwLS4zNSwwbC0uMzYuMjJhLjUzLjUzLDAsMCwwLDAsLjg1aDBsLTIuMzYsMS40MUwxMiwyMy41OGwyLjM2LTEuNDEsMi40NSwxLjQ3YS4zNC4zNCwwLDAsMCwuMTcsMCwuMzQuMzQsMCwwLDAsLjE3LDBsLjM2LS4yMmEuNTMuNTMsMCwwLDAsMC0uODVsLTEuOTEtMS4xNEwyNSwxNS44Mmw0LjI0LDIuNTQtNy44NSw0LjdhLjUzLjUzLDAsMCwwLDAsLjg1bC4zNi4yMmEuMzMuMzMsMCwwLDAsLjM1LDBsMy44NC0yLjMsMS44MywxLjFhLjM0LjM0LDAsMCwwLC4xNywwLC4zNC4zNCwwLDAsMCwuMTcsMGwuMzYtLjIyYS41My41MywwLDAsMCwwLS44NWwtMS4zLS43NywzLjMtMiw3LjQ5LDQuNDhaJyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8qbGV0IHNlY29uZFBhdGggPSB0aGlzLmdldE5vZGUoJ3BhdGgnLCB7XG4gICAgICAgICBkOiAnTTQ4LDIxLjQ2TDM0LjYxLDE0Ljg3aDBsLTAuNTUtLjI3LTcuODMtMy44N2gwbC0wLjU1LS4yN2EwLjYsMC42LDAsMCwwLS41MywwbC0wLjU1LjI3aDBMMy40MiwyMS4xOWgwbC0wLjU1LjI3YTAuNiwwLjYsMCwwLDAsMCwxLjA4bDAuNTUsMC4yN2gwbDcuODMsMy44N2gwbDAuNTUsMC4yN2gwbDEyLjgsNi4zMmgwTDI1LDMzLjQ1bDAuMTgsMC4wOWEwLjYxLDAuNjEsMCwwLDAsLjUzLDBMNDgsMjIuNTRBMC42LDAuNiwwLDAsMCw0OCwyMS40NlptLTcuNzcsM0wzNS4wOSwyMmEwLjYsMC42LDAsMCwwLS41MywwTDM0LDIyLjI0YTAuNiwwLjYsMCwwLDAsMCwxLjA4bDQuMjgsMi4xMUwyNS40MSwzMS43OSwxNCwyNi4xNCwxOC4zOSwyNGEwLjYsMC42LDAsMCwwLDAtMS4wOGwtMC4yOC0uMTRoMGwtMS4zOS0uNjlhMC42LDAuNiwwLDAsMC0uNTMsMGwtMC41NS4yN2EwLjYsMC42LDAsMCwwLDAsMS4wOGgwbC0zLjYsMS43OEw1LjU5LDIybDMuNi0xLjc4LDMuNzQsMS44NWEwLjYxLDAuNjEsMCwwLDAsLjI3LjA2LDAuNiwwLjYsMCwwLDAsLjI3LTAuMDZMMTQsMjEuOGEwLjYsMC42LDAsMCwwLDAtMS4wOGwtMi45Mi0xLjQ0LDE0LjMyLTcuMDcsNi40OCwzLjItMTIsNS45MmEwLjYsMC42LDAsMCwwLDAsMS4wOGwwLjU1LDAuMjdhMC42LDAuNiwwLDAsMCwuNTMsMGw1Ljg2LTIuODksMi44LDEuMzhhMC42MSwwLjYxLDAsMCwwLC4yNy4wNiwwLjYsMC42LDAsMCwwLC4yNy0wLjA2bDAuNTUtLjI3YTAuNiwwLjYsMCwwLDAsMC0xLjA4bC0yLTEsNS0yLjQ5TDQ1LjI0LDIyWicsXG4gICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTIuNTMgLTEwLjQpJ1xuICAgICAgICAgfSk7Ki9cbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGZpcnN0UGF0aCk7XG4gICAgICAgIC8vc3ZnLmFwcGVuZENoaWxkKHNlY29uZFBhdGgpO1xuICAgICAgICBpZiAoaXNQbHVzKSB7XG4gICAgICAgICAgICBsZXQgdGhpcmRQYXRoID0gdGhpcy5nZXROb2RlKCdwYXRoJywge1xuICAgICAgICAgICAgICAgIGQ6ICdNMzcuMjksMzMuMTV2Mi40OGgtMS40VjMzLjE1SDMzLjQydi0xLjRoMi40N1YyOS4yOWgxLjR2Mi40NmgyLjQ3djEuNFonLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdmcuYXBwZW5kQ2hpbGQodGhpcmRQYXRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRBZGQoKTpFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRQbGFuSWNvbih0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkUGxhbk5vdygpOkVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZFBsYW5JY29uKGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkQXIoKTpFbGVtZW50IHtcbiAgICAgICAgbGV0IHN2ZyA9IHRoaXMuZ2V0U3ZnKHt2aWV3Qm94OiAnMCAwIDUwIDUwJ30pO1xuICAgICAgICBsZXQgZmlyc3RQYXRoID0gdGhpcy5nZXROb2RlKCdwYXRoJywge1xuICAgICAgICAgICAgZDogJ00yNC40MSwzMy4yNGgwYy01LjIyLS4wOC05LjUtMi43OC0xNC4zMS05YS43NS43NSwwLDAsMS0uMTYtLjQ2YzAtLjYzLDQuNDYtNi43MywxMC42Ny04Ljg0LDguMzQtMi44NCwxNSwzLDE5LjE5LDguMzhhLjc1Ljc1LDAsMCwxLC4xNi40NmMwLC40NS0uNjMsMS4zNC0xLjg3LDIuNjNhLjc1Ljc1LDAsMCwxLTEuMDktMSwxMy4yNCwxMy4yNCwwLDAsMCwxLjMtMS41MmMtNC40LTUuNTctOS04LjMtMTMuNjktOC4xNS02LjY5LjIzLTExLjcxLDYuMzYtMTMsOC4wNiw1LjQ5LDcsOS41NSw4LDEyLjgsOGEuNzUuNzUsMCwwLDEsMCwxLjVaJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBzZWNvbmRQYXRoID0gdGhpcy5nZXROb2RlKCdwYXRoJywge1xuICAgICAgICAgICAgZDogJ00yNC45NCwyOS40YTUuNDIsNS40MiwwLDAsMS01LjA1LTMuNSw1LjU4LDUuNTgsMCwwLDEsMS41Ni02LjUxLDUuMyw1LjMsMCwwLDEsNi40NC0uMyw1LjY2LDUuNjYsMCwwLDEsMi4zNCw2LjM5QS43NS43NSwwLDEsMSwyOC43OSwyNWE0LjE4LDQuMTgsMCwwLDAtMS43NC00LjcsMy43OSwzLjc5LDAsMCwwLTQuNjUuMjEsNC4xMiw0LjEyLDAsMCwwLTEuMTIsNC43OSwzLjksMy45LDAsMCwwLDQsMi41NS43NC43NCwwLDAsMSwuODEuNjkuNzUuNzUsMCwwLDEtLjY5LjgxWicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBncmFwaCA9IHRoaXMuZ2V0Tm9kZSgnZycpO1xuICAgICAgICBsZXQgdGhpcmRQYXRoID0gdGhpcy5nZXROb2RlKCdwYXRoJywge1xuICAgICAgICAgICAgZDogJ00zMC41LDM1LjEsMzAsMzMuNjhIMjcuMThMMjYuNywzNS4xSDI1LjA2bDIuOTItOGgxLjIzbDIuOTMsOFptLTEuODctNS42NS0xLDIuOTJoMlonLFxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZm91cnRoUGF0aCA9IHRoaXMuZ2V0Tm9kZSgncGF0aCcsIHtcbiAgICAgICAgICAgIGQ6ICdNMzcuMzksMzUuMWwtMS41Ny0zLjJIMzQuNjl2My4ySDMzLjEzdi04aDMuMTRhMi40MiwyLjQyLDAsMCwxLDIuNiwyLjQ2LDIuMTYsMi4xNiwwLDAsMS0xLjQ2LDIuMTFMMzkuMiwzNS4xWm0tMS4yMi02LjYySDM0LjY5djIuMTJoMS40OGExLjA2LDEuMDYsMCwxLDAsMC0yLjEyWicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdyYXBoLmFwcGVuZENoaWxkKHRoaXJkUGF0aCk7XG4gICAgICAgIGdyYXBoLmFwcGVuZENoaWxkKGZvdXJ0aFBhdGgpO1xuXG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChmaXJzdFBhdGgpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoc2Vjb25kUGF0aCk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChncmFwaCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZENvbmZpZ3VyZSgpOkVsZW1lbnQge1xuICAgICAgICBsZXQgc3ZnID0gdGhpcy5nZXRTdmcoe3ZpZXdCb3g6ICcwIDAgNTAgNTAnfSk7XG4gICAgICAgIGxldCBwYXRoID0gdGhpcy5nZXROb2RlKCdwYXRoJywge1xuICAgICAgICAgICAgZDogJ00zNC42NywxMC45LDI4LjksOC4yMmExLjg3LDEuODcsMCwwLDAtMi40OC45MUwxNiwzMS40MmExLjg2LDEuODYsMCwwLDAtLjE3Ljc1TDE1LjY2LDQwYTEuODUsMS44NSwwLDAsMCwuNTMsMS4zNCwxLjksMS45LDAsMCwwLDEuMzUuNTcsMS44NiwxLjg2LDAsMCwwLDEuMjMtLjQ3bDUuOTMtNS4yMmExLjg2LDEuODYsMCwwLDAsLjQ2LS42MkwzNS41OCwxMy4zN0ExLjg4LDEuODgsMCwwLDAsMzQuNjcsMTAuOVpNMTcuNDcsNDAuMjJsLjE0LTcsNC45MSwyLjU1Wk0zMiwxNi45NGwtNS44OC0yLjczLDEuOTQtNC4zOEwzNCwxMi41N1onLFxuICAgICAgICB9KTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRNYXJrKCk6RWxlbWVudCB7XG4gICAgICAgIGxldCBzdmcgPSB0aGlzLmdldFN2Zyh7dmlld0JveDogJzAgMCA1MCA1MCd9KTtcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLmdldE5vZGUoJ3BhdGgnLCB7XG4gICAgICAgICAgICBkOiAnTTMyLjE2LDEyLjA1QTcuODksNy44OSwwLDAsMCwyNSwxNi41MSw3LjkzLDcuOTMsMCwwLDAsMTAsMjBDMTAsMjkuMzUsMjUsMzkuNjQsMjUsMzkuNjRzMTUtMTAuMzcsMTUtMTkuNjZBNy45MSw3LjkxLDAsMCwwLDMyLjE2LDEyLjA1WicsXG4gICAgICAgIH0pO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZENvcHkoKTpFbGVtZW50IHtcbiAgICAgICAgbGV0IHN2ZyA9IHRoaXMuZ2V0U3ZnKHt2aWV3Qm94OiAnMCAwIDMyIDMyJ30pO1xuICAgICAgICBsZXQgZmlyc3RQYXRoID0gdGhpcy5nZXROb2RlKCdwYXRoJywge1xuICAgICAgICAgICAgZDogJ00yOC42ODEgMTEuMTU5Yy0wLjY5NC0wLjk0Ny0xLjY2Mi0yLjA1My0yLjcyNC0zLjExNnMtMi4xNjktMi4wMzAtMy4xMTYtMi43MjRjLTEuNjEyLTEuMTgyLTIuMzkzLTEuMzE5LTIuODQxLTEuMzE5aC0xMS41Yy0xLjM3OSAwLTIuNSAxLjEyMi0yLjUgMi41djIzYzAgMS4zNzggMS4xMjEgMi41IDIuNSAyLjVoMTljMS4zNzggMCAyLjUtMS4xMjIgMi41LTIuNXYtMTUuNWMwLTAuNDQ4LTAuMTM3LTEuMjMtMS4zMTktMi44NDF6TTI0LjU0MyA5LjQ1N2MwLjk1OSAwLjk1OSAxLjcxMiAxLjgyNSAyLjI2OCAyLjU0M2gtNC44MTF2LTQuODExYzAuNzE4IDAuNTU2IDEuNTg0IDEuMzA5IDIuNTQzIDIuMjY4djB6TTI4IDI5LjVjMCAwLjI3MS0wLjIyOSAwLjUtMC41IDAuNWgtMTljLTAuMjcxIDAtMC41LTAuMjI5LTAuNS0wLjV2LTIzYzAtMC4yNzEgMC4yMjktMC41IDAuNS0wLjUgMCAwIDExLjQ5OS0wIDExLjUgMHY3YzAgMC41NTIgMC40NDggMSAxIDFoN3YxNS41eicsXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgc2Vjb25kUGF0aCA9IHRoaXMuZ2V0Tm9kZSgncGF0aCcsIHtcbiAgICAgICAgICAgIGQ6ICdNMTguODQxIDEuMzE5Yy0xLjYxMi0xLjE4Mi0yLjM5My0xLjMxOS0yLjg0MS0xLjMxOWgtMTEuNWMtMS4zNzggMC0yLjUgMS4xMjEtMi41IDIuNXYyM2MwIDEuMjA3IDAuODYgMi4yMTcgMiAyLjQ1di0yNS40NWMwLTAuMjcxIDAuMjI5LTAuNSAwLjUtMC41aDE1LjIxNWMtMC4zMDEtMC4yNDgtMC41OTUtMC40NzctMC44NzMtMC42ODF6JyxcbiAgICAgICAgfSk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChmaXJzdFBhdGgpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoc2Vjb25kUGF0aCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFRyaWdnZXIoKTpFbGVtZW50IHtcbiAgICAgICAgbGV0IHN2ZyA9IHRoaXMuZ2V0U3ZnKHt2aWV3Qm94OiAnMCAwIDMyLjE5IDI5LjUnfSk7XG4gICAgICAgIGxldCBwYXRoMSA9IHRoaXMuZ2V0Tm9kZSgncGF0aCcsIHtcbiAgICAgICAgICAgIGQ6ICdNMjEsMjIuMzZjLTEuNTcsMC0xLjg3LDEuMzYtMS44NywzczAuMTcsMywxLjg3LDMsMS44Ny0xLjM2LDEuODctM1MyMi41OSwyMi4zNiwyMSwyMi4zNlonLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC05IC0xNS4yNiknXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgcGF0aDIgPSB0aGlzLmdldE5vZGUoJ3BhdGgnLCB7XG4gICAgICAgICAgICBkOiAnTTMxLjEsMjIuMzZjLTEuNTcsMC0xLjg3LDEuMzYtMS44NywzczAuMTcsMywxLjg3LDNTMzMsMjcsMzMsMjUuMzYsMzIuNjYsMjIuMzYsMzEuMSwyMi4zNlonLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC05IC0xNS4yNiknXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgcGF0aDMgPSB0aGlzLmdldE5vZGUoJ3BhdGgnLCB7XG4gICAgICAgICAgICBkOiAnTTI2LDE1LjI2Yy01Ljg2LDAtMTcsLjczLTE3LDMuNDhWMzEuODlhMS4xNiwxLjE2LDAsMCwwLC4xNy40OWMxLDIuMDYsOS40NiwzLDE2Ljg1LDMsNS44NiwwLDE3LS43MywxNy0zLjQ4VjE4Ljc0QzQzLDE2LDMxLjg2LDE1LjI2LDI2LDE1LjI2Wk0yMSwzMC4xMWMtMy40NiwwLTQuNjktMi4xNC00LjY5LTQuNzlTMTcuNiwyMC41MywyMSwyMC41M3M0LjY5LDIuMTQsNC42OSw0Ljc5UzI0LjQ3LDMwLjExLDIxLDMwLjExWm0xMC4wOCwwYy0zLjQ2LDAtNC42OS0yLjE0LTQuNjktNC43OXMxLjI4LTQuNzksNC42OS00Ljc5LDQuNjksMi4xNCw0LjY5LDQuNzlTMzQuNTUsMzAuMTEsMzEuMSwzMC4xMVonLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC05IC0xNS4yNiknXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgcGF0aDQgPSB0aGlzLmdldE5vZGUoJ3BhdGgnLCB7XG4gICAgICAgICAgICBkOiAnTTMxLjEsMjguMzZjLTEuNywwLTEuODctMS4zNi0xLjg3LTNzMC4zLTMsMS44Ny0zLDEuODcsMS4zNiwxLjg3LDNTMzIuOCwyOC4zNiwzMS4xLDI4LjM2WicsXG4gICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTkgLTE1LjI2KSdcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBwYXRoNSA9IHRoaXMuZ2V0Tm9kZSgncGF0aCcsIHtcbiAgICAgICAgICAgIGQ6ICdNMjEsMjguMzZjLTEuNywwLTEuODctMS4zNi0xLjg3LTNzMC4zLTMsMS44Ny0zLDEuODcsMS4zNiwxLjg3LDNTMjIuNzIsMjguMzYsMjEsMjguMzZaJyxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtOSAtMTUuMjYpJ1xuICAgICAgICB9KTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgxKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgyKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgzKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGg0KTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGg1KTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkVmlzdWFsaXplKCk6RWxlbWVudCB7XG4gICAgICAgIGxldCBzdmcgPSB0aGlzLmdldFN2Zyh7dmlld0JveDogJzAgMCA1MCA1MCd9KTtcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLmdldE5vZGUoJ3BhdGgnLCB7XG4gICAgICAgICAgICBkOiAnTTI1LDM0LjU5Yy02LjMyLDAtMTEuNDQtNC43MS0xNC44NC05LjEzYS43NS43NSwwLDAsMSwwLS44N2MuMjQtLjM2LDYtOC44NywxNC40OS05LjE3QzI5LjksMTUuMjMsMzUsMTguMywzOS44NSwyNC41NUEuNzQuNzQsMCwwLDEsNDAsMjVjMCwuNi00LjYxLDYuNzgtMTAuNjgsOC44NEExMy40NywxMy40NywwLDAsMSwyNSwzNC41OVpNMTEuNjUsMjVjNC40LDUuNTUsOSw4LjI4LDEzLjY4LDguMTIsNi43LS4yMywxMS43NC02LjM4LDEzLTguMDgtNC40LTUuNTUtOS04LjI4LTEzLjY5LTguMTJDMTcuOTMsMTcuMTQsMTIuOTEsMjMuMjgsMTEuNjUsMjVaTTI1LDMwLjQ5QTUuNDksNS40OSwwLDEsMSwzMC4zOCwyNSw1LjQ1LDUuNDUsMCwwLDEsMjUsMzAuNDlaTTI1LDIxYTQsNCwwLDEsMCwzLjkxLDRBNCw0LDAsMCwwLDI1LDIxWicsXG4gICAgICAgIH0pO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFZyKCk6RWxlbWVudCB7XG4gICAgICAgIGxldCBzdmcgPSB0aGlzLmdldFN2Zyh7dmlld0JveDogJzAgMCA1MCA1MCd9KTtcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLmdldE5vZGUoJ3BhdGgnLCB7XG4gICAgICAgICAgICBkOiAnTTM3Ljg4LDE2LjI0SDEyLjE4QTIuMTYsMi4xNiwwLDAsMCwxMCwxOC40VjMxLjZhMi4xNiwyLjE2LDAsMCwwLDIuMTYsMi4xNkgyMGExLjU0LDEuNTQsMCwwLDAsMS40Ni0uOTNsMS43NS00LjM4YTEuOTIsMS45MiwwLDAsMSwzLjUuMDZsMS41Miw0LjI2YTEuNTksMS41OSwwLDAsMCwxLjQ2LDFoOC4xMkEyLjE2LDIuMTYsMCwwLDAsNDAsMzEuNlYxOC40NkEyLjA1LDIuMDUsMCwwLDAsMzcuODgsMTYuMjRaTTE4LjYsMjguOGEzLjMzLDMuMzMsMCwwLDEtMy4zMy0zLjMzLDMuMzMsMy4zMywwLDEsMSw2LjY2LDBBMy4zMywzLjMzLDAsMCwxLDE4LjYsMjguOFptMTIuODUsMGEzLjMzLDMuMzMsMCwwLDEtMy4zMy0zLjMzLDMuMzMsMy4zMywwLDAsMSw2LjY2LDBBMy4zMywzLjMzLDAsMCwxLDMxLjQ1LDI4LjhaJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG5cblxuICAgIHB1YmxpYyBjcmVhdGUoYnV0dG9uVHlwZTpzdHJpbmcpOkVsZW1lbnQge1xuICAgICAgICBjb25zdCBidXR0b246QlVUVE9OX1RZUEUgPSBCdXR0b25zU2VydmljZS5jb252ZXJ0QnV0dG9uVHlwZVRvRW51bShidXR0b25UeXBlKTtcbiAgICAgICAgaWYgKGJ1dHRvbiA9PT0gQlVUVE9OX1RZUEUuQUREKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZEFkZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidXR0b24gPT09IEJVVFRPTl9UWVBFLkFSKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZEFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1dHRvbiA9PT0gQlVUVE9OX1RZUEUuQ09ORklHVVJFKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZENvbmZpZ3VyZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidXR0b24gPT09IEJVVFRPTl9UWVBFLlZJU1VBTElaRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRWaXN1YWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnV0dG9uID09PSBCVVRUT05fVFlQRS5WUikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRWcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidXR0b24gPT09IEJVVFRPTl9UWVBFLlRSSUdHRVIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidXR0b24gPT09IEJVVFRPTl9UWVBFLk1BUkspIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkTWFyaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidXR0b24gPT09IEJVVFRPTl9UWVBFLlNUQVJUX05PVykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRQbGFuTm93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlQ29weSgpOkVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5idWlsZENvcHkoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1NlcnZpY2V9IGZyb20gJy4uL2xpYi9TZXJ2aWNlJztcbmV4cG9ydCBjbGFzcyBJbWFnZXNTZXJ2aWNlIGV4dGVuZHMgU2VydmljZSB7XG5cbiAgICBwdWJsaWMgaW1hZ2VzOntpb3M6c3RyaW5nLGFuZHJvaWQ6c3RyaW5nLGRlc2t0b3A6c3RyaW5nLFtrZXk6c3RyaW5nXTogc3RyaW5nfSA9IHtcbiAgICAgICAgaW9zOiAnaHR0cHM6Ly9hLnN0b3J5Ymxvay5jb20vZi80ZTc3OTk1OWM4L2lvcy5wbmcnLFxuICAgICAgICBhbmRyb2lkOiAnaHR0cHM6Ly9hLnN0b3J5Ymxvay5jb20vZi8xMzg2ZGI4Y2QwL2FuZHJvaWQucG5nJyxcbiAgICAgICAgZGVza3RvcDogJ2h0dHBzOi8vYS5zdG9yeWJsb2suY29tL2YvY2Y1YWEwM2M2NC9kZXNrdG9wLnBuZycsXG4gICAgfTtcblxuICAgIHByZWxvYWRJbWFnZXMoKSB7XG4gICAgICAgIHZhciBpb3MgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdmFyIGFuZHJvaWQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgdmFyIGRlc2t0b3AgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpb3Muc3JjID0gdGhpcy5pbWFnZXMuaW9zO1xuICAgICAgICBhbmRyb2lkLnNyYyA9IHRoaXMuaW1hZ2VzLmFuZHJvaWQ7XG4gICAgICAgIGRlc2t0b3Auc3JjID0gdGhpcy5pbWFnZXMuZGVza3RvcDtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7U2VydmljZX0gZnJvbSAnLi4vbGliL1NlcnZpY2UnO1xuaW1wb3J0IHtST09NTEVfVFlQRSxSb29tbGVUeXBlU2VydmljZX0gZnJvbSAnLi9Sb29tbGVUeXBlU2VydmljZSdcbmltcG9ydCB7QlVUVE9OX1RZUEUsQnV0dG9uc1NlcnZpY2V9IGZyb20gJy4vQnV0dG9uc1NlcnZpY2UnO1xuaW1wb3J0IHsgRG9tQnVpbGRlclNlcnZpY2UgfSBmcm9tICcuL0RvbUJ1aWxkZXJTZXJ2aWNlJztcbmltcG9ydCB7U2V0dGluZ3NTZXJ2aWNlfSBmcm9tICcuL1NldHRpbmdzU2VydmljZSc7XG5pbXBvcnQge0V2ZW50SGFuZGxlclNlcnZpY2V9IGZyb20gJy4vRXZlbnRIYW5kbGVyU2VydmljZSc7XG5cbmludGVyZmFjZSBJV2luZG93TVNTdHJlYW0gZXh0ZW5kcyBXaW5kb3cge1xuICAgIE1TU3RyZWFtOmFueVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERlZXBMaW5rIHtcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGluazogc3RyaW5nLFxuICAgIGFsdGVybmF0ZTogJ2lvcycgfCAnYW5kcm9pZCcgfCAnZGVza3RvcCcsXG4gICAgb3M6ICdpb3MnIHwgJ2FuZHJvaWQnIHwgJ2Rlc2t0b3AnLFxuICAgIHJvb21sZVR5cGU6IFJPT01MRV9UWVBFLFxuICAgIGlkOiBzdHJpbmdcbn1cblxuZGVjbGFyZSB2YXIgV2luZG93TVNTdHJlYW06SVdpbmRvd01TU3RyZWFtO1xuXG5leHBvcnQgY2xhc3MgTW9iaWxlRGV0ZWN0U2VydmljZSBleHRlbmRzIFNlcnZpY2Uge1xuXG4gICAgcHJpdmF0ZSBpc09TQ2FjaGVkOmJvb2xlYW4gPSBudWxsO1xuICAgIHByaXZhdGUgaXNBbmRyb2lkQ2FjaGVkOmJvb2xlYW4gPSBudWxsO1xuICAgIHByaXZhdGUgaXNJUGFkQ2FjaGVkOmJvb2xlYW4gPSBudWxsO1xuICAgIHByaXZhdGUgaXNTdXBwb3J0ZWRNb2JpbGVDYWNoZWQ6Ym9vbGVhbiA9IG51bGw7XG4gICAgcHJpdmF0ZSBidXR0b25zU2VydmljZTpCdXR0b25zU2VydmljZSA9IDxCdXR0b25zU2VydmljZT5CdXR0b25zU2VydmljZS5pbmplY3QoKTtcblxuICAgIHB1YmxpYyBpc0lPUygpOmJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pc09TQ2FjaGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc09TQ2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAvaVBhZHxpUGhvbmV8aVBvZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgISg8YW55PndpbmRvdykuTVNTdHJlYW07IC8vIFVTRSBNU1N0cmVhbSBiZWNhdXNlIG9mIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzkwMzk4ODVcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNBbmRyb2lkKCk6Ym9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZENhY2hlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNBbmRyb2lkQ2FjaGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhKDxhbnk+d2luZG93KS5NU1N0cmVhbTsgLy8gVVNFIE1TU3RyZWFtIGJlY2F1c2Ugb2YgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTAzOTg4NVxuICAgIH1cblxuICAgIHB1YmxpYyBpc1N1cHBvcnRlZE1vYmlsZSgpOmJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pc1N1cHBvcnRlZE1vYmlsZUNhY2hlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWRNb2JpbGVDYWNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNJT1MoKSB8fCB0aGlzLmlzQW5kcm9pZCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc0lQYWQoKTpib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXNJUGFkQ2FjaGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0lQYWRDYWNoZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gL2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEoPGFueT53aW5kb3cpLk1TU3RyZWFtOyAvLyBVU0UgTVNTdHJlYW0gYmVjYXVzZSBvZiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85MDM5ODg1XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVQbGFuKGlkOnN0cmluZywgdHlwZTpST09NTEVfVFlQRSwgYnV0dG9uVHlwZTpCVVRUT05fVFlQRSk6RGVlcExpbmsge1xuICAgICAgICBjb25zdCBidXR0b25UeXBlU3RyID0gQnV0dG9uc1NlcnZpY2UuY29udmVydEJ1dHRvblR5cGUoYnV0dG9uVHlwZSk7XG4gICAgICAgIGNvbnN0IHR5cGVTdHIgPSB0eXBlO1xuICAgICAgICBjb25zdCBpb3NQbGFuTGluayA9ICdyb29tbGU6Ly8zZC9wbGFuSWQvJyArIGlkO1xuICAgICAgICBsZXQgZGVza3RvcExpbmsgPSBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3Mud2ViLmJhc2VVcmwgKyAnZWRpdG9yLycgKyBpZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLlZJU1VBTElaRSkge1xuICAgICAgICAgICAgY29uc3Qgdmlld3JMaW5rID0gJ3Jvb21sZXZpZXdlcjovL3BsYW4vJyArIGlkO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBidXR0b25UeXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IHZpZXdyTGluayxcbiAgICAgICAgICAgICAgICAgICAgb3M6ICdhbmRyb2lkJyxcbiAgICAgICAgICAgICAgICAgICAgcm9vbWxlVHlwZTogdHlwZVN0cixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSU9TKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBidXR0b25UeXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IGlvc1BsYW5MaW5rLFxuICAgICAgICAgICAgICAgICAgICBvczogJ2lvcycsXG4gICAgICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IGJ1dHRvblR5cGVTdHIsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpbms6IGRlc2t0b3BMaW5rLFxuICAgICAgICAgICAgICAgIG9zOiAnZGVza3RvcCcsXG4gICAgICAgICAgICAgICAgcm9vbWxlVHlwZTogdHlwZVN0cixcbiAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuVlIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdyTGluayA9ICdyb29tbGV2aWV3ZXI6Ly92ci8nICsgaWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGJ1dHRvblR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbGluazogdmlld3JMaW5rLFxuICAgICAgICAgICAgICAgICAgICBvczogJ2FuZHJvaWQnLFxuICAgICAgICAgICAgICAgICAgICByb29tbGVUeXBlOiB0eXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJT1MoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7dHlwZTogYnV0dG9uVHlwZVN0ciwgYWx0ZXJuYXRlOiBudWxsLCBsaW5rOiB2aWV3ckxpbmssIG9zOiAnaW9zJywgcm9vbWxlVHlwZTogdHlwZVN0ciwgaWQ6IGlkfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogYnV0dG9uVHlwZVN0ciwgYWx0ZXJuYXRlOiAnaW9zJywgbGluazogdmlld3JMaW5rLCBvczogJ2Rlc2t0b3AnLCByb29tbGVUeXBlOiB0eXBlU3RyLCBpZDogaWR9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLlNUQVJUX05PVykge1xuICAgICAgICAgICAgY29uc3Qgdmlld3JMaW5rID0gJ3Jvb21sZXZpZXdlcjovL3BsYW4vJyArIGlkO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBidXR0b25UeXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IHZpZXdyTGluayxcbiAgICAgICAgICAgICAgICAgICAgb3M6ICdhbmRyb2lkJyxcbiAgICAgICAgICAgICAgICAgICAgcm9vbWxlVHlwZTogdHlwZVN0cixcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSU9TKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBidXR0b25UeXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IGlvc1BsYW5MaW5rLFxuICAgICAgICAgICAgICAgICAgICBvczogJ2lvcycsXG4gICAgICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IGJ1dHRvblR5cGVTdHIsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpbms6IGRlc2t0b3BMaW5rLFxuICAgICAgICAgICAgICAgIG9zOiAnZGVza3RvcCcsXG4gICAgICAgICAgICAgICAgcm9vbWxlVHlwZTogdHlwZVN0cixcbiAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVMaW5rRm9ySXRlbU9yQ29uZmlndXJhdGlvbihpZDpzdHJpbmcsIHR5cGU6Uk9PTUxFX1RZUEUsIGJ1dHRvblR5cGU6QlVUVE9OX1RZUEUsIGlzSXRlbTpib29sZWFuKTpEZWVwTGluayB7XG4gICAgICAgIGNvbnN0IHR5cGVTdHIgPSB0eXBlO1xuICAgICAgICBjb25zdCBidXR0b25UeXBlU3RyID0gQnV0dG9uc1NlcnZpY2UuY29udmVydEJ1dHRvblR5cGUoYnV0dG9uVHlwZSk7XG4gICAgICAgIGlmIChpc0l0ZW0pIHtcblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlvc0lkZW50aWZpZXIgPSAoIWlzSXRlbSAmJiB0eXBlICE9PSBST09NTEVfVFlQRS5DT05GSUdVUkFCTEVfSVRFTSkgPyAnY29uZmlndXJhdGlvbklkJyA6ICdjYXRhbG9nSXRlbUlkJztcbiAgICAgICAgY29uc3Qgd2ViSWRlbnRpZmllciA9ICghaXNJdGVtICYmIHR5cGUgIT09IFJPT01MRV9UWVBFLkNPTkZJR1VSQUJMRV9JVEVNKSA/ICdjb25maWd1cmF0aW9uSWRbXScgOiAnaXRlbUlkW10nO1xuXG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBCVVRUT05fVFlQRS5BREQpIHtcbiAgICAgICAgICAgIGxldCBkZXNrdG9wTGluayA9IFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy53ZWIuYmFzZVVybCArICdlZGl0b3IvJyArIFNldHRpbmdzU2VydmljZS5zZXR0aW5ncy5wbGFuSWQgKyAnPycgKyB3ZWJJZGVudGlmaWVyICsgJz0nICsgaWQ7XG4gICAgICAgICAgICBsZXQgaW9zTGluayA9ICdyb29tbGU6Ly9hZGRUb1BsYW4vJyArIGlvc0lkZW50aWZpZXIgKyAnLycgKyBpZCArICc/cGxhbklkPScgKyBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3MucGxhbklkO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBidXR0b25UeXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGU6ICdkZXNrdG9wJyxcbiAgICAgICAgICAgICAgICAgICAgbGluazogZGVza3RvcExpbmssXG4gICAgICAgICAgICAgICAgICAgIG9zOiAnYW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0lPUygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8ve3R5cGU6IGJ1dHRvblR5cGVTdHIsIGFsdGVybmF0ZTogbnVsbCwgbGluazogaW9zTGluaywgb3M6ICdpb3MnLCByb29tbGVUeXBlOiB0eXBlU3RyLCBpZDogaWR9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBidXR0b25UeXBlU3RyLFxuICAgICAgICAgICAgICAgIGFsdGVybmF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBsaW5rOiBkZXNrdG9wTGluayxcbiAgICAgICAgICAgICAgICBvczogJ2Rlc2t0b3AnLFxuICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IEJVVFRPTl9UWVBFLkFSKSB7XG4gICAgICAgICAgICBjb25zdCBpb3NMaW5rID0gJ3Jvb21sZTovL2FyLycgKyBpb3NJZGVudGlmaWVyICsgJy8nICsgaWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FuZHJvaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGJ1dHRvblR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0ZTogJ2lvcycsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IGlvc0xpbmssXG4gICAgICAgICAgICAgICAgICAgIG9zOiAnYW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0lPUygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBidXR0b25UeXBlU3RyLCBhbHRlcm5hdGU6IG51bGwsIGxpbms6IGlvc0xpbmssIG9zOiAnaW9zJywgcm9vbWxlVHlwZTogdHlwZVN0ciwgaWQ6IGlkfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogYnV0dG9uVHlwZVN0ciwgYWx0ZXJuYXRlOiAnaW9zJywgbGluazogaW9zTGluaywgb3M6ICdkZXNrdG9wJywgcm9vbWxlVHlwZTogdHlwZVN0ciwgaWQ6IGlkfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBCVVRUT05fVFlQRS5DT05GSUdVUkUgJiYgKHR5cGUgPT09IFJPT01MRV9UWVBFLkNPTkZJR1VSQVRJT04gfHwgdHlwZSA9PT0gUk9PTUxFX1RZUEUuQ09ORklHVVJBQkxFX0lURU0pKSB7XG4gICAgICAgICAgICBjb25zdCBpc0NvbmZpZ3VyYWJsZUl0ZW0gPSAodHlwZSA9PT0gUk9PTUxFX1RZUEUuQ09ORklHVVJBVElPTikgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICBsZXQgZGVza3RvcExpbmsgPSBTZXR0aW5nc1NlcnZpY2Uuc2V0dGluZ3Mud2ViLmJhc2VVcmwgKyAnY29uZmlndXJhdG9yLycgKyBpZCArIChpc0NvbmZpZ3VyYWJsZUl0ZW0gPyAnP2lzSXRlbT10cnVlJyA6ICcnKTtcbiAgICAgICAgICAgIGxldCBpb3NMaW5rID0gJ3Jvb21sZTovL2NvbmZpZ3VyYXRpb24vJyArIGlvc0lkZW50aWZpZXIgKyAnLycgKyBpZDtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYnV0dG9uVHlwZVN0cixcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiAnZGVza3RvcCcsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IGRlc2t0b3BMaW5rLFxuICAgICAgICAgICAgICAgICAgICBvczogJ2FuZHJvaWQnLFxuICAgICAgICAgICAgICAgICAgICByb29tbGVUeXBlOiB0eXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJT1MoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7dHlwZTogYnV0dG9uVHlwZVN0ciwgYWx0ZXJuYXRlOiBudWxsLCBsaW5rOiBpb3NMaW5rLCBvczogJ2lvcycsIHJvb21sZVR5cGU6IHR5cGVTdHIsIGlkOiBpZH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IGJ1dHRvblR5cGVTdHIsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpbms6IGRlc2t0b3BMaW5rLFxuICAgICAgICAgICAgICAgIG9zOiAnZGVza3RvcCcsXG4gICAgICAgICAgICAgICAgcm9vbWxlVHlwZTogdHlwZVN0cixcbiAgICAgICAgICAgICAgICBpZDogaWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gQlVUVE9OX1RZUEUuTUFSSykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBidXR0b25UeXBlU3RyLFxuICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxpbms6ICd3d3cucm9vbWxlLmNvbScsXG4gICAgICAgICAgICAgICAgICAgIG9zOiAnYW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0lPUygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYnV0dG9uVHlwZVN0cixcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiAnd3d3LnJvb21sZS5jb20nLFxuICAgICAgICAgICAgICAgICAgICBvczogJ2lvcycsXG4gICAgICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IGJ1dHRvblR5cGVTdHIsXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpbms6ICd3d3cucm9vbWxlLmNvbScsXG4gICAgICAgICAgICAgICAgb3M6ICdkZXNrdG9wJyxcbiAgICAgICAgICAgICAgICByb29tbGVUeXBlOiB0eXBlU3RyLFxuICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBCVVRUT05fVFlQRS5WSVNVQUxJWkUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQW5kcm9pZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYnV0dG9uVHlwZVN0cixcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiAncm9vbWxldmlld2VyOi8vaXRlbS8nICsgaWQsXG4gICAgICAgICAgICAgICAgICAgIG9zOiAnYW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIHJvb21sZVR5cGU6IHR5cGVTdHIsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0lPUygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDsvLyB7dHlwZTogYnV0dG9uVHlwZVN0ciwgYWx0ZXJuYXRlOiAnJywgbGluazogJ3d3dy5yb29tbGUnfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFuZGxlSXRlbShpZDpzdHJpbmcsIHR5cGU6Uk9PTUxFX1RZUEUsIGJ1dHRvblR5cGU6QlVUVE9OX1RZUEUpOkRlZXBMaW5rIHtcbiAgICAgICAgY29uc3QgaXNJdGVtID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTGlua0Zvckl0ZW1PckNvbmZpZ3VyYXRpb24oaWQsIHR5cGUsIGJ1dHRvblR5cGUsIGlzSXRlbSk7XG4gICAgfVxuXG4gICAgcHVibGljIGhhbmRsZUNvbmZpZ3VyYXRpb24oaWQ6c3RyaW5nLCB0eXBlOlJPT01MRV9UWVBFLCBidXR0b25UeXBlOkJVVFRPTl9UWVBFKTpEZWVwTGluayB7XG4gICAgICAgIGNvbnN0IGlzSXRlbSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVMaW5rRm9ySXRlbU9yQ29uZmlndXJhdGlvbihpZCwgdHlwZSwgYnV0dG9uVHlwZSwgaXNJdGVtKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2VuZXJhdGVMaW5rKGlkOnN0cmluZywgdHlwZTpST09NTEVfVFlQRSwgYnV0dG9uVHlwZTpCVVRUT05fVFlQRSwgY2FsbGJhY2tVcmw6c3RyaW5nID0gbnVsbCk6RGVlcExpbmsge1xuICAgICAgICBsZXQgZGVlcGxpbms6RGVlcExpbmsgPSBudWxsO1xuICAgICAgICBpZiAodHlwZSA9PT0gUk9PTUxFX1RZUEUuSVRFTSkge1xuICAgICAgICAgICAgZGVlcGxpbmsgPSB0aGlzLmhhbmRsZUl0ZW0oaWQsIHR5cGUsIGJ1dHRvblR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFJPT01MRV9UWVBFLkNPTkZJR1VSQVRJT04gfHwgdHlwZSA9PT0gUk9PTUxFX1RZUEUuQ09ORklHVVJBQkxFX0lURU0pIHtcbiAgICAgICAgICAgIGRlZXBsaW5rID0gdGhpcy5oYW5kbGVDb25maWd1cmF0aW9uKGlkLCB0eXBlLCBidXR0b25UeXBlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBST09NTEVfVFlQRS5QTEFOKSB7XG4gICAgICAgICAgICBkZWVwbGluayA9IHRoaXMuaGFuZGxlUGxhbihpZCwgdHlwZSwgYnV0dG9uVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWVwbGluaykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZXBlcmF0b3IgPSBkZWVwbGluay5saW5rLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJic7XG4gICAgICAgIGRlZXBsaW5rLmxpbmsgPSBkZWVwbGluay5saW5rICsgc2VwZXJhdG9yICsgJ2NhbGxiYWNrPScgKyBjYWxsYmFja1VybDtcbiAgICAgICAgcmV0dXJuIGRlZXBsaW5rO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRMaW5rcyhpZDpzdHJpbmcsIHR5cGU6Uk9PTUxFX1RZUEUsIGNhbGxiYWNrVXJsOnN0cmluZyA9IG51bGwpOkFycmF5PERlZXBMaW5rPiB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUJ1dHRvbnMgPSB0aGlzLmJ1dHRvbnNTZXJ2aWNlLmF2YWlsYWJsZUJ1dHRvbnM7XG4gICAgICAgIGxldCBsaW5rczpBcnJheTxEZWVwTGluaz4gPSBbXTtcbiAgICAgICAgYXZhaWxhYmxlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pPT4ge1xuICAgICAgICAgICAgY29uc3QgbGluayA9IHRoaXMuZ2VuZXJhdGVMaW5rKGlkLCB0eXBlLCBidXR0b24sIGNhbGxiYWNrVXJsKTtcbiAgICAgICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgbGlua3MucHVzaChsaW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsaW5rcztcbiAgICB9XG5cbn1cblxuIiwiaW1wb3J0IHtTZXJ2aWNlfSBmcm9tICcuLi9saWIvU2VydmljZSc7XG5pbXBvcnQge0RlZXBMaW5rfSBmcm9tIFwiLi9Nb2JpbGVEZXRlY3RTZXJ2aWNlXCI7XG5cbmludGVyZmFjZSBPUyB7XG4gICAgc3RvcmVQcmVmaXg6IHN0cmluZyxcbn1cblxuaW50ZXJmYWNlIE9TUyB7XG4gICAgYW5kcm9pZDogT1MsXG4gICAgaW9zOiBPUyxcbiAgICBba2V5OiBzdHJpbmddOiBPUztcbn1cblxuZXhwb3J0IGNsYXNzIE1vYmlsZVJlZGlyZWN0U2VydmljZSBleHRlbmRzIFNlcnZpY2Uge1xuICAgIHByaXZhdGUgZGVsYXkgPSAxMjAwO1xuICAgIHByaXZhdGUgb3NzOk9TUyA9IHtcbiAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgc3RvcmVQcmVmaXg6ICdodHRwczovL3BsYXkuZ29vZ2xlLmNvbS9zdG9yZS9hcHBzL2RldGFpbHM/aWQ9J1xuICAgICAgICB9LFxuICAgICAgICBpb3M6IHtcbiAgICAgICAgICAgIHN0b3JlUHJlZml4OiAnaHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL2FwcC8nXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBnZXRUaW1lKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuKHVybDpzdHJpbmcsIG5ld1dpbmRvdzpib29sZWFuID0gZmFsc2UsIGNhbGxiYWNrOkZ1bmN0aW9uID0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sodXJsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3V2luZG93KSB7XG4gICAgICAgICAgICB3aW5kb3cub3Blbih1cmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUFuZHJvaWRCcm93c2VycyhhcHBJZDpzdHJpbmcsIGhyZWY6c3RyaW5nLCBzY2hlbWU6c3RyaW5nKSB7XG5cbiAgICAgICAgLy8gQW5kcm9pZCBNb2JpbGVcbiAgICAgICAgbGV0IGlzQW5kcm9pZE1vYmlsZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQW5kcm9pZCcpID4gLTEgJiZcbiAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignTW96aWxsYS81LjAnKSA+IC0xICYmXG4gICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0FwcGxlV2ViS2l0JykgPiAtMTtcblxuICAgICAgICAvLyBBbmRyb2lkIEJyb3dzZXIgKG5vdCBDaHJvbWUpXG4gICAgICAgIGxldCByZWdFeEFwcGxlV2ViS2l0ID0gbmV3IFJlZ0V4cCgnQXBwbGVXZWJLaXRcXC8oW1xcZC5dKyknKTtcbiAgICAgICAgbGV0IHJlc3VsdEFwcGxlV2ViS2l0UmVnRXggPSByZWdFeEFwcGxlV2ViS2l0LmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIGxldCBhcHBsZVdlYktpdFZlcnNpb24gPSAocmVzdWx0QXBwbGVXZWJLaXRSZWdFeCA9PT0gbnVsbCA/IG51bGwgOiBwYXJzZUZsb2F0KHJlZ0V4QXBwbGVXZWJLaXQuZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KVsxXSkpO1xuICAgICAgICBsZXQgaXNBbmRyb2lkQnJvd3NlciA9IGlzQW5kcm9pZE1vYmlsZSAmJiBhcHBsZVdlYktpdFZlcnNpb24gIT09IG51bGwgJiYgYXBwbGVXZWJLaXRWZXJzaW9uID4gNTAwO1xuXG4gICAgICAgIGlmIChpc0FuZHJvaWRCcm93c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2ludGVudDonICsgaHJlZi5zcGxpdCgnOicpWzFdICsgJyNJbnRlbnQ7c2NoZW1lPScgKyBzY2hlbWUgKyAnO3BhY2thZ2U9JyArXG4gICAgICAgICAgICAgICAgYXBwSWQgKyAnO1MuYnJvd3Nlcl9mYWxsYmFja191cmw9JyArIGVuY29kZVVSSShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBocmVmO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlZGlyZWN0KGRlZXBsaW5rOkRlZXBMaW5rLCBuZXdXaW5kb3c6Ym9vbGVhbiA9IGZhbHNlLCBjYWxsYmFjazpGdW5jdGlvbiA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wZXJmcm9tRGVlcExpbmsoZGVlcGxpbmsubGluaywgZGVlcGxpbmsub3MsIG5ld1dpbmRvdywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgcGVyZnJvbURlZXBMaW5rKGhyZWY6c3RyaW5nLCBvczpzdHJpbmcsIG5ld1dpbmRvdzpib29sZWFuID0gZmFsc2UsIGNhbGxiYWNrOkZ1bmN0aW9uID0gbnVsbCkge1xuICAgICAgICBsZXQgY2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgdGltZW91dDpudW1iZXIgPSBudWxsO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5wYXJzZUhyZWYoaHJlZiwgb3MpO1xuICAgICAgICBjb25zdCBzY2hlbWUgPSBkYXRhLnNjaGVtZTtcbiAgICAgICAgY29uc3QgYXBwSWQgPSBkYXRhLmFwcElkO1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmdldFRpbWUoKTtcbiAgICAgICAgY2xpY2tlZCA9IHRydWU7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChvcyA9PT0gJ2Rlc2t0b3AnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjbGlja2VkIHx8ICF0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5vdyA9IHRoaXMuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAobm93IC0gc3RhcnQgPj0gdGhpcy5kZWxheSAqIDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhcHBJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3Blbih0aGlzLm9zc1tvc10uc3RvcmVQcmVmaXggKyBhcHBJZCwgbmV3V2luZG93KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaHJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbihocmVmLCBuZXdXaW5kb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmRlbGF5KTtcblxuICAgICAgICAvL2FwcElkLCB0aGlzLm9zc1tvc10uc3RvcmVQcmVmaXggKyBhcHBJZCwgaHJlZiwgc2NoZW1lXG4gICAgICAgIGxldCBmaW5hbFVSSSA9IHRoaXMuaGFuZGxlQW5kcm9pZEJyb3dzZXJzKGFwcElkLCBocmVmLCBzY2hlbWUpO1xuICAgICAgICB0aGlzLm9wZW4oZmluYWxVUkksIG5ld1dpbmRvdywgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHByaXZhdGUgcGFyc2VIcmVmKGhyZWY6c3RyaW5nLCBvc2luOnN0cmluZyk6e2FwcElkOnN0cmluZyxzY2hlbWU6c3RyaW5nLCBvczogc3RyaW5nLCBba2V5OnN0cmluZ106c3RyaW5nfSB7XG4gICAgICAgIGxldCBocmVmUGFydHMgPSBocmVmLnNwbGl0KCc6Jyk7XG4gICAgICAgIGxldCBzY2hlbWUgPSBocmVmUGFydHNbMF07XG5cbiAgICAgICAgbGV0IGFwcElkID0gJ3Jvb21sZS9pZDczMjA1MDM1Nic7XG4gICAgICAgIGlmIChzY2hlbWUgPT09ICdyb29tbGV2aWV3ZXInKSB7XG4gICAgICAgICAgICBhcHBJZCA9ICdjb20ucm9vbWxlLnZpZXdlcic7XG4gICAgICAgICAgICBpZiAob3NpbiA9PT0gJ2lvcycpIHtcbiAgICAgICAgICAgICAgICBhcHBJZCA9ICdyb29tbGUtdmlld3IvaWQxMDUzODYwMTc3JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge2FwcElkOiBhcHBJZCwgc2NoZW1lOiBzY2hlbWUsIG9zOiBvc2lufTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRGVlcGxpbmtGb3IoZWw6SFRNTEVsZW1lbnQsIG9zOnN0cmluZykge1xuXG4gICAgICAgIGNvbnN0IGhyZWYgPSBlbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucGFyc2VIcmVmKGhyZWYsIG9zKTtcbiAgICAgICAgY29uc3QgYXBwSWQgPSBkYXRhLmFwcElkO1xuICAgICAgICBpZiAob3MgJiYgYXBwSWQpIHtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVyZnJvbURlZXBMaW5rKGhyZWYsIG9zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKCFocmVmIHx8IGhyZWYgPT09ICcjJykge1xuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH07XG5cbn1cbiIsImltcG9ydCB7U2VydmljZX0gZnJvbSAnLi4vbGliL1NlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgUG9seWZpbGxTZXJ2aWNlIGV4dGVuZHMgU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgICAgICAgICAgLy8gQ0FTVCBUTyBBTlkgQVMgUVVJQ0smRElSVFkgU09MVVRJT04gRk9SIE5PTiBTVEFOREFSRCBOQU1FUyFcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPVxuICAgICAgICAgICAgICAgICg8YW55PkVsZW1lbnQpLnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAoPGFueT5FbGVtZW50KS5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgKDxhbnk+RWxlbWVudCkucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgKDxhbnk+RWxlbWVudCkucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAoPGFueT5FbGVtZW50KS5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSAodGhpcy5kb2N1bWVudCB8fCB0aGlzLm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwocyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSA+IC0xO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvL2ltcG9ydCB7IFByb21pc2UgfSBmcm9tICdlczYtcHJvbWlzZSc7XG5pbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSAnLi4vbGliL1NlcnZpY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZXF1ZXN0T3B0aW9ucyB7XG4gICAgbWV0aG9kPzogJ0dFVCcgfCAnUE9TVCcgfCAnUFVUJyB8ICdERUxFVEUnIHwgJ0hFQUQnIHwgJ09QVElPTlMnLFxuICAgIGhlYWRlcnM/OiBhbnksXG4gICAgYm9keT86IGFueSxcbiAgICBtb2RlPzogc3RyaW5nLCAvLyBub3QgeWV0IHN1cHBvcnRlZFxuICAgIGNyZWRlbnRpYWxzPzoge1xuICAgICAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgICAgICBwYXNzd29yZD86IHN0cmluZztcbiAgICB9LFxuICAgIGNhY2hlPzogJ2RlZmF1bHQnIHwgJ25vLXN0b3JlJyB8ICdyZWxvYWQnIHwgJ25vLWNhY2hlJyB8ICdmb3JjZS1jYWNoZScgfCAnb25seS1pZi1jYWNoZWQnLCAvLyBub3QgeWV0IHN1cHBvcnRlZFxuICAgIHJlZGlyZWN0PzogJ2ZvbGxvdycgfCAnZXJyb3InIHwgJ21hbnVhbCcsIC8vIG5vdCB5ZXQgc3VwcG9ydGVkXG4gICAgcmVmZXJyZXI/OiBzdHJpbmcsIC8vIG5vdCB5ZXQgc3VwcG9ydGVkXG4gICAgaW50ZWdyaXR5Pzogc3RyaW5nIC8vIG5vdCB5ZXQgc3VwcG9ydGVkXG59XG5cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0U2VydmljZSBleHRlbmRzIFNlcnZpY2Uge1xuXG4gICAgcHVibGljIGZldGNoKHVybDpzdHJpbmcsIG9wdGlvbnM/OklSZXF1ZXN0T3B0aW9ucyk6UHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlOihyZXN1bHQ6YW55KSA9PiB2b2lkLCByZWplY3Q6KHJlYXNvbjpFcnJvcikgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbWV0aG9kIGlzIEdFVCBhbmQgYm9keSBpYXMgYW4gb2JqZWN0XG4gICAgICAgICAgICAvLyBJZiBpdCBpcyBzbywgcGFyc2UgYm9keSBvYmplY3QgYW4gYXBwZW5kIGFsbCBwcm9wZXJ0aWVzIGFzIEdFVCBwYXJhbWV0ZXJzIHRvIHRoZSB1cmxcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1ldGhvZCA9PT0gJ0dFVCcgJiYgb3B0aW9ucy5ib2R5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmJvZHkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXBhcmF0b3IgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVyaSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5ib2R5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ib2R5Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVkS2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlZENvbnRlbnQgPSBlbmNvZGVVUklDb21wb25lbnQob3B0aW9ucy5ib2R5W2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVyaSArPSBgJHtzZXBhcmF0b3J9JHtlbmNvZGVkS2V5fT0ke2VuY29kZWRDb250ZW50fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yID0gJyYnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBwYXJhbWV0ZXJzIHRvIHRoZSB1cmxcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gdXJsICsgKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHVyaTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBCb2R5IGlzIG5vdCBhbiBvYmplY3QgPT4gbm90IGFsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05vbiBvYmplY3QgbGlrZSBib2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgcmVxdWVzdHMuIFRoZSBib2R5IGhhcyB0byBiZSBhbiBvYmplY3Qgc28gdGhlIHByb3BlcnRpZXMgd2lsbCBiZSBhcHBlbmRlZCBhcyBhIEdFVCBwYXJhbWV0ZXIgdG8gdGhlIHVybC4nKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmJvZHkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYm9keSBpcyBub3QgYSBzdHJpbmcsIHBhcnNlIGl0IHRvIGEganNvbiBzdHJpbmdcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmJvZHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBCb2R5IG5vdCBhbGxvd2VkIGZvciBIRUFEIHJlcXVlc3RzXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tZXRob2QgPT09ICdIRUFEJyAmJiBvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgSEVBRCByZXF1ZXN0cycpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBvbmxvYWQgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSAoZXZlbnQ6RXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSA0MDAgfHwgeGhyLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKHhoci5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gQWRkIG9uZXJyb3IgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gKGV2ZW50OkVycm9yRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQuZXJyb3IpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgeGhyLm9uYWJvcnQgPSAoZXZlbnQ6RXJyb3JFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgYWJvcnRlZCcpKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEFkZCB0aW1lb3V0IGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICB4aHIub250aW1lb3V0ID0gKGV2ZW50OkV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCB0aW1lZCBvdXQnKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jcmVkZW50aWFscyAmJiBvcHRpb25zLmNyZWRlbnRpYWxzLnVzZXJuYW1lKSB7XG4gICAgICAgICAgICAgICAgeGhyLm9wZW4ob3B0aW9ucy5tZXRob2QgPyBvcHRpb25zLm1ldGhvZCA6ICdHRVQnLCB1cmwsIHRydWUsIG9wdGlvbnMuY3JlZGVudGlhbHMudXNlcm5hbWUsIG9wdGlvbnMuY3JlZGVudGlhbHMucGFzc3dvcmQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCA/IG9wdGlvbnMubWV0aG9kIDogJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksICg8YW55PmhlYWRlcnMpW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB4aHIuc2VuZCh0eXBlb2Ygb3B0aW9ucy5ib2R5ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBvcHRpb25zLmJvZHkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZmV0Y2hKU09OKHVybDpzdHJpbmcsIG9wdGlvbnM/OklSZXF1ZXN0T3B0aW9ucyk6UHJvbWlzZTxPYmplY3QgfCBBcnJheTxhbnk+PiB7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10pIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJleHBvcnQgZW51bSBST09NTEVfVFlQRSAge1xuICAgIElURU0sXG4gICAgQ09ORklHVVJBVElPTixcbiAgICBQTEFOLFxuICAgIENPTkZJR1VSQUJMRV9JVEVNXG59XG5cblxuZXhwb3J0IGNsYXNzIFJvb21sZVR5cGVTZXJ2aWNlIHtcbiAgICAvLyBUWVBFUyBBUkUgRlJPTSBPVVRTSURFIENPTlZFUlQgVEhFTSBUTyBFTlVNIEJFQ0FVU0UgXCJpdGVtXCIgaXMgbmljZXIgdGhhbiBcIjBcIlxuICAgIHN0YXRpYyBjb252ZXJ0VHlwZVRvRW51bSh0eXBlOnN0cmluZyk6Uk9PTUxFX1RZUEUge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2l0ZW0nKSB7XG4gICAgICAgICAgICByZXR1cm4gUk9PTUxFX1RZUEUuSVRFTTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlID09PSAnY29uZmlndXJhdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBST09NTEVfVFlQRS5DT05GSUdVUkFUSU9OO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdwbGFuJykge1xuICAgICAgICAgICAgcmV0dXJuIFJPT01MRV9UWVBFLlBMQU47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbmZpZ3VyYWJsZS1pdGVtJykge1xuICAgICAgICAgICAgcmV0dXJuIFJPT01MRV9UWVBFLkNPTkZJR1VSQUJMRV9JVEVNO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHN0YXRpYyBjb252ZXJ0Um9vbWxlVHlwZSh0eXBlOlJPT01MRV9UWVBFKTpzdHJpbmcge1xuICAgICAgICBpZiAodHlwZSA9PT0gUk9PTUxFX1RZUEUuSVRFTSkge1xuICAgICAgICAgICAgcmV0dXJuICdpdGVtJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlID09PSBST09NTEVfVFlQRS5DT05GSUdVUkFUSU9OKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2NvbmZpZ3VyYXRpb24nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IFJPT01MRV9UWVBFLlBMQU4pIHtcbiAgICAgICAgICAgIHJldHVybiAncGxhbic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gUk9PTUxFX1RZUEUuQ09ORklHVVJBQkxFX0lURU0pIHtcbiAgICAgICAgICAgIHJldHVybiAnY29uZmlndXJhYmxlLWl0ZW0nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbiIsImV4cG9ydCB0eXBlIFJvb21sZUJ1dHRvbk1vZGVzICA9ICdsaWInIHwgJ2J1dHRvbicgfCAncG9wdXAnIHwgJ2Z1bGxzY3JlZW4nO1xuXG5pbnRlcmZhY2UgRGVlcExpbmtUcmFuc2xhdGlvbiB7XG4gICAgaGVhZGluZzogc3RyaW5nLFxuICAgIFtrZXk6IHN0cmluZ106IGFueVxuICAgIGhpbnQ6IHtcbiAgICAgICAgaW9zOiBzdHJpbmcsXG4gICAgICAgIGFuZHJvaWQ6IHN0cmluZyxcbiAgICAgICAgZGVza3RvcDogc3RyaW5nLFxuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm9vbWxlQnV0dG9uU2V0dGluZ3Mge1xuICAgIG1vZGU6IFJvb21sZUJ1dHRvbk1vZGVzLFxuICAgIGNvbnRhaW5lcjogc3RyaW5nLFxuICAgIHNlbGVjdG9yOiBzdHJpbmcsXG4gICAgc2hvd09ubHlUcmlnZ2VyOiBib29sZWFuLFxuICAgIGNyZWF0ZU5vQnV0dG9uczogYm9vbGVhbixcbiAgICB0eXBlU2VsZWN0b3I6IHN0cmluZyxcbiAgICBpZFNlbGVjdG9yOiBzdHJpbmcsXG4gICAgW2tleTogc3RyaW5nXTogYW55O1xuICAgIHBsYW5JZDogc3RyaW5nO1xuICAgIGNyZWF0ZVBvcFVwOiBib29sZWFuLFxuICAgIHNob3dCYWNrQnV0dG9uOiBib29sZWFuLFxuICAgIHBvcFVwU2VsZWN0b3I6IHN0cmluZyxcbiAgICB0cmFuc2xhdGlvbnM6IHtcbiAgICAgICAgYXI6IERlZXBMaW5rVHJhbnNsYXRpb24sXG4gICAgICAgIGFkZDogRGVlcExpbmtUcmFuc2xhdGlvbixcbiAgICAgICAgY29uZmlndXJlOiBEZWVwTGlua1RyYW5zbGF0aW9uLFxuICAgICAgICBtYXJrOiBEZWVwTGlua1RyYW5zbGF0aW9uLFxuICAgICAgICB0cmlnZ2VyOiBEZWVwTGlua1RyYW5zbGF0aW9uLFxuICAgICAgICB2aXN1YWxpemU6IERlZXBMaW5rVHJhbnNsYXRpb24sXG4gICAgICAgIHZyOiBEZWVwTGlua1RyYW5zbGF0aW9uLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIGRlZXBsaW5rY3JlYXRlOiBzdHJpbmcsXG4gICAgICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdcbiAgICAgICAgfSxcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55XG4gICAgfSxcbiAgICB3ZWI6IHtcbiAgICAgICAgYmFzZVVybDogc3RyaW5nLFxuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdcbiAgICB9LFxuICAgIHZpZXdyOiB7XG4gICAgICAgIGJhc2VVcmw6IHN0cmluZyxcbiAgICAgICAgW2tleTogc3RyaW5nXTogc3RyaW5nXG4gICAgfSxcbiAgICBpb3M6IHtcbiAgICAgICAgYmFzZVVybDogc3RyaW5nLFxuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdcbiAgICB9LFxuICAgIGRhdGFTZWxlY3Rvcjoge1xuICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgIGlkOiBzdHJpbmcsXG4gICAgICAgIGFjdGlvbjogc3RyaW5nLFxuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmdcbiAgICB9LFxuICAgIGh0bWw6IHtcbiAgICAgICAgY29udGFpbmVyQ2xhc3M6IHN0cmluZyxcbiAgICAgICAgY29udGFpbmVyVHlwZTogc3RyaW5nLFxuICAgICAgICBidXR0b25zQ29udGFpbmVyOiBzdHJpbmcsXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQ6IHN0cmluZyxcbiAgICAgICAgW2tleTogc3RyaW5nXTogc3RyaW5nXG4gICAgfSxcbiAgICBjc3M6IHtcbiAgICAgICAgYnV0dG9uczoge1xuICAgICAgICAgICAgcG9zaXRpb246c3RyaW5nLFxuICAgICAgICAgICAgdG9wOnN0cmluZyxcbiAgICAgICAgICAgIHJpZ2h0OiBzdHJpbmcsXG4gICAgICAgICAgICAnbGluZS1oZWlnaHQnOiBzdHJpbmcsXG4gICAgICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJpbmcsXG4gICAgICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNhbGxiYWNrOntcbiAgICAgICAgaXRlbToge1xuICAgICAgICAgICAgW2tleTogc3RyaW5nXTogKGlkOnN0cmluZykgPT4gYW55ICAgLy8gcmV0dXJuIHR5cGUgaXMgbm90IHJlc3RyaWN0ZWQgYXQgYWxsIChjb3VsZCBiZSBhbnkgdmFsdWUsIG9yIGV2ZW4gdm9pZClcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgW2tleTogc3RyaW5nXTogKGlkOnN0cmluZykgPT4gYW55ICAgLy8gcmV0dXJuIHR5cGUgaXMgbm90IHJlc3RyaWN0ZWQgYXQgYWxsIChjb3VsZCBiZSBhbnkgdmFsdWUsIG9yIGV2ZW4gdm9pZClcbiAgICAgICAgfSxcbiAgICAgICAgcGxhbjoge1xuICAgICAgICAgICAgW2tleTogc3RyaW5nXTogKGlkOnN0cmluZykgPT4gYW55ICAgLy8gcmV0dXJuIHR5cGUgaXMgbm90IHJlc3RyaWN0ZWQgYXQgYWxsIChjb3VsZCBiZSBhbnkgdmFsdWUsIG9yIGV2ZW4gdm9pZClcbiAgICAgICAgfSxcbiAgICAgICAgYnV0dG9uOiB7XG4gICAgICAgICAgICBba2V5OiBzdHJpbmddOiAoaWQ6c3RyaW5nLCByb29tbGVUeXBlOnN0cmluZywgYnV0dG9uVHlwZTpzdHJpbmcpID0+IGFueSAgIC8vIHJldHVybiB0eXBlIGlzIG5vdCByZXN0cmljdGVkIGF0IGFsbCAoY291bGQgYmUgYW55IHZhbHVlLCBvciBldmVuIHZvaWQpXG4gICAgICAgIH0sXG4gICAgICAgIHBvcHVwT3BlbjpGdW5jdGlvbixcbiAgICAgICAgcG9wdXBDbG9zZTogRnVuY3Rpb25cbiAgICAgICAgYm9vdGVkOiBGdW5jdGlvbixcbiAgICAgICAgY2xvc2VkOiBGdW5jdGlvbixcbiAgICAgICAgY2xpY2tlZEhpbnQ6IEZ1bmN0aW9uLFxuICAgICAgICBba2V5OiBzdHJpbmddOiBhbnlcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTZXJ2aWNlIHtcblxuICAgIHB1YmxpYyBzZXR0aW5nczpSb29tbGVCdXR0b25TZXR0aW5ncztcblxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTpTZXR0aW5nc1NlcnZpY2U7XG5cbiAgICBzdGF0aWMgc2V0RGVmYXVsdChzZXR0aW5nczpSb29tbGVCdXR0b25TZXR0aW5ncywga2V5OnN0cmluZywgZGVmYXVsdFZhbHVlOmFueSkge1xuICAgICAgICBsZXQgdG9DaGVjayA9IHNldHRpbmdzO1xuICAgICAgICBsZXQga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICBsZXQga2V5c0xlbmd0aCA9IGtleXMubGVuZ3RoIC0gMTsgLy8gTEFTVCBPTkUgSVMgU0VUIE9VVFNJREUgVEhFIExPT1BcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdG9DaGVja1trZXlzW2ldXSkge1xuICAgICAgICAgICAgICAgIHRvQ2hlY2tba2V5c1tpXV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvQ2hlY2sgPSB0b0NoZWNrW2tleXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b0NoZWNrW2tleXNba2V5c0xlbmd0aF1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvQ2hlY2tba2V5c1trZXlzTGVuZ3RoXV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0RGVlcGxpbmtUcmFuc2xhdGlvbihzZXR0aW5nczpSb29tbGVCdXR0b25TZXR0aW5ncywgbGlua1R5cGU6c3RyaW5nLCB0cmFuc2xhdGlvbjpEZWVwTGlua1RyYW5zbGF0aW9uKSB7XG4gICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAndHJhbnNsYXRpb25zLicgKyBsaW5rVHlwZSArICcuaGVhZGluZycsIHRyYW5zbGF0aW9uLmhlYWRpbmcpO1xuICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ3RyYW5zbGF0aW9ucy4nICsgbGlua1R5cGUgKyAnLmhpbnQuaW9zJywgdHJhbnNsYXRpb24uaGludC5pb3MpO1xuICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ3RyYW5zbGF0aW9ucy4nICsgbGlua1R5cGUgKyAnLmhpbnQuYW5kcm9pZCcsIHRyYW5zbGF0aW9uLmhpbnQuYW5kcm9pZCk7XG4gICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAndHJhbnNsYXRpb25zLicgKyBsaW5rVHlwZSArICcuaGludC5kZXNrdG9wJywgdHJhbnNsYXRpb24uaGludC5kZXNrdG9wKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdChzZXR0aW5nczpSb29tbGVCdXR0b25TZXR0aW5ncyk6U2V0dGluZ3NTZXJ2aWNlIHtcbiAgICAgICAgaWYgKCEodGhpcy5faW5zdGFuY2UgaW5zdGFuY2VvZiBTZXR0aW5nc1NlcnZpY2UpKSB7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ3dlYi5iYXNlVXJsJywgJ2h0dHBzOi8vd3d3LnJvb21sZS5jb20vYXBwLycpO1xuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICd2aWV3ci5iYXNlVXJsJywgJ2h0dHBzOi8vd3d3LnJvb21sZS5jb20vJyk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2lvcy5iYXNlVXJsJywgJ2h0dHBzOi8vd3d3LnJvb21sZS5jb20vJyk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2RhdGFTZWxlY3Rvci50eXBlJywgJ2RhdGEtcm1sLXR5cGUnKTtcbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAnZGF0YVNlbGVjdG9yLmlkJywgJ2RhdGEtcm1sLWlkJyk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2RhdGFTZWxlY3Rvci5hY3Rpb24nLCAnZGF0YS1ybWwtYWN0aW9uJyk7XG5cbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAncGxhbklkJywgJzhhNzA4MDgzNTYwY2E2Y2YwMTU2MGNkNzM2MWEwMTRhJyk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2NyZWF0ZVBvcFVwJywgdHJ1ZSk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ3Nob3dCYWNrQnV0dG9uJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAnaHRtbC5jb250YWluZXJDbGFzcycsICdyb29tbGUtYnV0dG9ucycpO1xuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICdodG1sLmNvbnRhaW5lclR5cGUnLCAnZGl2Jyk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2h0bWwuYnV0dG9uc0NvbnRhaW5lcicsICd1bCcpO1xuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICdodG1sLmJ1dHRvbkVsZW1lbnQnLCAnbGknKTtcblxuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICdjc3MuYnV0dG9ucy5wb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICdjc3MuYnV0dG9ucy50b3AnLCAnMCcpO1xuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICdjc3MuYnV0dG9ucy5yaWdodCcsICcwJyk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2Nzcy5idXR0b25zLmxpbmUtaGVpZ2h0JywgJ25vcm1hbCcpO1xuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICdjc3MuYnV0dG9ucy52aXNpYmlsaXR5JywgJ3Zpc2libGUgIWltcG9ydGFudCcpO1xuXG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2Nzcy5pdGVtLnBvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG5cbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAnY2FsbGJhY2snLCB7fSk7XG4gICAgICAgICAgICBTZXR0aW5nc1NlcnZpY2Uuc2V0RGVmYXVsdChzZXR0aW5ncywgJ2NhbGxiYWNrLmJ1dHRvbicsIHt9KTtcbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAncG9wVXBTZWxlY3RvcicsICdkYXRhLXJtbC1kZWVwbGluay1wb3B1cC1jb250YWluZXInKTtcbiAgICAgICAgICAgIFNldHRpbmdzU2VydmljZS5zZXREZWZhdWx0KHNldHRpbmdzLCAnY2FsbGJhY2suYm9vdGVkJywgKCk9PiB7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgU2V0dGluZ3NTZXJ2aWNlLnNldERlZmF1bHQoc2V0dGluZ3MsICd0cmFuc2xhdGlvbnMuZXJyb3JzLmRlZXBsaW5rY3JlYXRlJywgJ0Vycm9yIGNyZWF0aW5nIGRlZXBsaW5rJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhpbnQgPSAnJzsvLydUaGlzIGZlYXR1cmUgaXMgbm90IGF2YWlsYWJsZSBvbiB5b3VyIHBsYXRmb3JtLiAnO1xuICAgICAgICAgICAgY29uc3QgYW5kcm9pZEhpbnQgPSBoaW50ICsgJ0VudGVyIHRoZSBmb2xsb3dpbmcgbGluayBpbnRvIHRoZSBicm93c2VyIG9mIHlvdXIgZGVza3RvcCBkZXZpY2UnO1xuICAgICAgICAgICAgY29uc3QgaW9zSGludCA9IGhpbnQgKyAnRW50ZXIgdGhlIGZvbGxvd2luZyBsaW5rIGludG8gdGhlIGJyb3dzZXIgb2YgeW91ciBpT1MgZGV2aWNlJztcbiAgICAgICAgICAgIHRoaXMuc2V0RGVlcGxpbmtUcmFuc2xhdGlvbihzZXR0aW5ncywgJ2FyJywge1xuICAgICAgICAgICAgICAgIGhlYWRpbmc6ICdWaXN1YWxpemUgaW4gQVInLFxuICAgICAgICAgICAgICAgIGhpbnQ6IHtpb3M6IGlvc0hpbnQsIGFuZHJvaWQ6IG51bGwsIGRlc2t0b3A6IG51bGx9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGVlcGxpbmtUcmFuc2xhdGlvbihzZXR0aW5ncywgJ2FkZCcsIHtcbiAgICAgICAgICAgICAgICBoZWFkaW5nOiAnQWRkIHRvIHBsYW4nLFxuICAgICAgICAgICAgICAgIGhpbnQ6IHtpb3M6IG51bGwsIGFuZHJvaWQ6IG51bGwsIGRlc2t0b3A6IGFuZHJvaWRIaW50fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldERlZXBsaW5rVHJhbnNsYXRpb24oc2V0dGluZ3MsICdjb25maWd1cmUnLCB7XG4gICAgICAgICAgICAgICAgaGVhZGluZzogJ0N1c3RvbWl6ZScsXG4gICAgICAgICAgICAgICAgaGludDoge2lvczogbnVsbCwgYW5kcm9pZDogbnVsbCwgZGVza3RvcDogYW5kcm9pZEhpbnR9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGVlcGxpbmtUcmFuc2xhdGlvbihzZXR0aW5ncywgJ21hcmsnLCB7XG4gICAgICAgICAgICAgICAgaGVhZGluZzogJ0Zhdm91cml0ZScsXG4gICAgICAgICAgICAgICAgaGludDoge2lvczogbnVsbCwgYW5kcm9pZDogbnVsbCwgZGVza3RvcDogbnVsbH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXREZWVwbGlua1RyYW5zbGF0aW9uKHNldHRpbmdzLCAndHJpZ2dlcicsIHtcbiAgICAgICAgICAgICAgICBoZWFkaW5nOiAnVHJpZ2dlcicsXG4gICAgICAgICAgICAgICAgaGludDoge2lvczogbnVsbCwgYW5kcm9pZDogbnVsbCwgZGVza3RvcDogbnVsbH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXREZWVwbGlua1RyYW5zbGF0aW9uKHNldHRpbmdzLCAndmlzdWFsaXplJywge1xuICAgICAgICAgICAgICAgIGhlYWRpbmc6ICdWaXN1YWxpemUnLFxuICAgICAgICAgICAgICAgIGhpbnQ6IHtpb3M6IG51bGwsIGFuZHJvaWQ6IGFuZHJvaWRIaW50LCBkZXNrdG9wOiBudWxsfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldERlZXBsaW5rVHJhbnNsYXRpb24oc2V0dGluZ3MsICd2cicsIHtcbiAgICAgICAgICAgICAgICBoZWFkaW5nOiAnVmlldyBpbiBWUicsXG4gICAgICAgICAgICAgICAgaGludDoge2lvczogaW9zSGludCwgYW5kcm9pZDogJycsIGRlc2t0b3A6ICcnfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldERlZXBsaW5rVHJhbnNsYXRpb24oc2V0dGluZ3MsICdzdGFydF9ub3cnLCB7XG4gICAgICAgICAgICAgICAgaGVhZGluZzogJ1N0YXJ0IHBsYW5uaW5nIG5vdycsXG4gICAgICAgICAgICAgICAgaGludDoge2lvczogaW9zSGludCwgYW5kcm9pZDogJycsIGRlc2t0b3A6ICcnfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IHRoaXMoc2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTpTZXR0aW5nc1NlcnZpY2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFuY2U7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3M6Um9vbWxlQnV0dG9uU2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBTZXR0aW5nc1NlcnZpY2UuZ2V0SW5zdGFuY2UoKS5zZXR0aW5ncztcbiAgICB9XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIEVudW1FeCB7XG4gICAgc3RhdGljIGdldE5hbWVzQW5kVmFsdWVzKGU6IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXROYW1lcyhlKS5tYXAobiA9PiB7IHJldHVybiB7IG5hbWU6IG4sIHZhbHVlOiBlW25dIGFzIG51bWJlciB9OyB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TmFtZXMoZTogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9ialZhbHVlcyhlKS5maWx0ZXIodiA9PiB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIGFzIHN0cmluZ1tdO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRWYWx1ZXMoZTogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9ialZhbHVlcyhlKS5maWx0ZXIodiA9PiB0eXBlb2YgdiA9PT0gJ251bWJlcicpIGFzIG51bWJlcltdO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldE9ialZhbHVlcyhlOiBhbnkpOiAobnVtYmVyIHwgc3RyaW5nKVtdIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChrID0+IGVba10pO1xuICAgIH1cbn1cbiJdfQ=="}